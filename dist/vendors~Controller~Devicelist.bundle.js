(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{95:function(e,t,s){(function(t){var s;s=function(){return function(e){var t,s=e.localStorage||(t={},{setItem:function(e,s){t[e]=s},getItem:function(e){return t[e]},removeItem:function(e){delete t[e]}}),n={CONNECT:1,CONNACK:2,PUBLISH:3,PUBACK:4,PUBREC:5,PUBREL:6,PUBCOMP:7,SUBSCRIBE:8,SUBACK:9,UNSUBSCRIBE:10,UNSUBACK:11,PINGREQ:12,PINGRESP:13,DISCONNECT:14},i=function(e,t){for(var s in e)if(e.hasOwnProperty(s)){if(!t.hasOwnProperty(s)){var n="Unknown property, "+s+". Valid properties are:";for(var i in t)t.hasOwnProperty(i)&&(n=n+" "+i);throw new Error(n)}if(typeof e[s]!==t[s])throw new Error(a(r.INVALID_TYPE,[typeof e[s],s]))}},o=function(e,t){return function(){return e.apply(t,arguments)}},r={OK:{code:0,text:"AMQJSC0000I OK."},CONNECT_TIMEOUT:{code:1,text:"AMQJSC0001E Connect timed out."},SUBSCRIBE_TIMEOUT:{code:2,text:"AMQJS0002E Subscribe timed out."},UNSUBSCRIBE_TIMEOUT:{code:3,text:"AMQJS0003E Unsubscribe timed out."},PING_TIMEOUT:{code:4,text:"AMQJS0004E Ping timed out."},INTERNAL_ERROR:{code:5,text:"AMQJS0005E Internal error. Error Message: {0}, Stack trace: {1}"},CONNACK_RETURNCODE:{code:6,text:"AMQJS0006E Bad Connack return code:{0} {1}."},SOCKET_ERROR:{code:7,text:"AMQJS0007E Socket error:{0}."},SOCKET_CLOSE:{code:8,text:"AMQJS0008I Socket closed."},MALFORMED_UTF:{code:9,text:"AMQJS0009E Malformed UTF data:{0} {1} {2}."},UNSUPPORTED:{code:10,text:"AMQJS0010E {0} is not supported by this browser."},INVALID_STATE:{code:11,text:"AMQJS0011E Invalid state {0}."},INVALID_TYPE:{code:12,text:"AMQJS0012E Invalid type {0} for {1}."},INVALID_ARGUMENT:{code:13,text:"AMQJS0013E Invalid argument {0} for {1}."},UNSUPPORTED_OPERATION:{code:14,text:"AMQJS0014E Unsupported operation."},INVALID_STORED_DATA:{code:15,text:"AMQJS0015E Invalid data in local storage key={0} value={1}."},INVALID_MQTT_MESSAGE_TYPE:{code:16,text:"AMQJS0016E Invalid MQTT message type {0}."},MALFORMED_UNICODE:{code:17,text:"AMQJS0017E Malformed Unicode string:{0} {1}."},BUFFER_FULL:{code:18,text:"AMQJS0018E Message buffer is full, maximum buffer size: {0}."}},c={0:"Connection Accepted",1:"Connection Refused: unacceptable protocol version",2:"Connection Refused: identifier rejected",3:"Connection Refused: server unavailable",4:"Connection Refused: bad user name or password",5:"Connection Refused: not authorized"},a=function(e,t){var s=e.text;if(t)for(var n,i,o=0;o<t.length;o++)if(n="{"+o+"}",(i=s.indexOf(n))>0){var r=s.substring(0,i),c=s.substring(i+n.length);s=r+t[o]+c}return s},h=[0,6,77,81,73,115,100,112,3],u=[0,4,77,81,84,84,4],d=function(e,t){for(var s in this.type=e,t)t.hasOwnProperty(s)&&(this[s]=t[s])};function l(e,t){var s,i=t,o=e[t],r=o>>4,c=o&=15;t+=1;var a=0,h=1;do{if(t==e.length)return[null,i];a+=(127&(s=e[t++]))*h,h*=128}while(0!=(128&s));var u=t+a;if(u>e.length)return[null,i];var l=new d(r);switch(r){case n.CONNACK:1&e[t++]&&(l.sessionPresent=!0),l.returnCode=e[t++];break;case n.PUBLISH:var f=c>>1&3,_=g(e,t),p=E(e,t+=2,_);t+=_,f>0&&(l.messageIdentifier=g(e,t),t+=2);var I=new w(e.subarray(t,u));1==(1&c)&&(I.retained=!0),8==(8&c)&&(I.duplicate=!0),I.qos=f,I.destinationName=p,l.payloadMessage=I;break;case n.PUBACK:case n.PUBREC:case n.PUBREL:case n.PUBCOMP:case n.UNSUBACK:l.messageIdentifier=g(e,t);break;case n.SUBACK:l.messageIdentifier=g(e,t),t+=2,l.returnCode=e.subarray(t,u)}return[l,u]}function f(e,t,s){return t[s++]=e>>8,t[s++]=e%256,s}function _(e,t,s,n){return I(e,s,n=f(t,s,n)),n+t}function g(e,t){return 256*e[t]+e[t+1]}function p(e){for(var t=0,s=0;s<e.length;s++){var n=e.charCodeAt(s);n>2047?(55296<=n&&n<=56319&&(s++,t++),t+=3):n>127?t+=2:t++}return t}function I(e,t,s){for(var n=s,i=0;i<e.length;i++){var o=e.charCodeAt(i);if(55296<=o&&o<=56319){var c=e.charCodeAt(++i);if(isNaN(c))throw new Error(a(r.MALFORMED_UNICODE,[o,c]));o=c-56320+(o-55296<<10)+65536}o<=127?t[n++]=o:o<=2047?(t[n++]=o>>6&31|192,t[n++]=63&o|128):o<=65535?(t[n++]=o>>12&15|224,t[n++]=o>>6&63|128,t[n++]=63&o|128):(t[n++]=o>>18&7|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=63&o|128)}return t}function E(e,t,s){for(var n,i="",o=t;o<t+s;){var c=e[o++];if(c<128)n=c;else{var h=e[o++]-128;if(h<0)throw new Error(a(r.MALFORMED_UTF,[c.toString(16),h.toString(16),""]));if(c<224)n=64*(c-192)+h;else{var u=e[o++]-128;if(u<0)throw new Error(a(r.MALFORMED_UTF,[c.toString(16),h.toString(16),u.toString(16)]));if(c<240)n=4096*(c-224)+64*h+u;else{var d=e[o++]-128;if(d<0)throw new Error(a(r.MALFORMED_UTF,[c.toString(16),h.toString(16),u.toString(16),d.toString(16)]));if(!(c<248))throw new Error(a(r.MALFORMED_UTF,[c.toString(16),h.toString(16),u.toString(16),d.toString(16)]));n=262144*(c-240)+4096*h+64*u+d}}}n>65535&&(n-=65536,i+=String.fromCharCode(55296+(n>>10)),n=56320+(1023&n)),i+=String.fromCharCode(n)}return i}d.prototype.encode=function(){var e,t=(15&this.type)<<4,s=0,i=[],o=0;switch(void 0!==this.messageIdentifier&&(s+=2),this.type){case n.CONNECT:switch(this.mqttVersion){case 3:s+=h.length+3;break;case 4:s+=u.length+3}s+=p(this.clientId)+2,void 0!==this.willMessage&&(s+=p(this.willMessage.destinationName)+2,(e=this.willMessage.payloadBytes)instanceof Uint8Array||(e=new Uint8Array(c)),s+=e.byteLength+2),void 0!==this.userName&&(s+=p(this.userName)+2),void 0!==this.password&&(s+=p(this.password)+2);break;case n.SUBSCRIBE:t|=2;for(var r=0;r<this.topics.length;r++)i[r]=p(this.topics[r]),s+=i[r]+2;s+=this.requestedQos.length;break;case n.UNSUBSCRIBE:t|=2;for(r=0;r<this.topics.length;r++)i[r]=p(this.topics[r]),s+=i[r]+2;break;case n.PUBREL:t|=2;break;case n.PUBLISH:this.payloadMessage.duplicate&&(t|=8),t=t|=this.payloadMessage.qos<<1,this.payloadMessage.retained&&(t|=1),s+=(o=p(this.payloadMessage.destinationName))+2;var c=this.payloadMessage.payloadBytes;s+=c.byteLength,c instanceof ArrayBuffer?c=new Uint8Array(c):c instanceof Uint8Array||(c=new Uint8Array(c.buffer));break;case n.DISCONNECT:}var a=function(e){var t=new Array(1),s=0;do{var n=e%128;(e>>=7)>0&&(n|=128),t[s++]=n}while(e>0&&s<4);return t}(s),d=a.length+1,l=new ArrayBuffer(s+d),g=new Uint8Array(l);if(g[0]=t,g.set(a,1),this.type==n.PUBLISH)d=_(this.payloadMessage.destinationName,o,g,d);else if(this.type==n.CONNECT){switch(this.mqttVersion){case 3:g.set(h,d),d+=h.length;break;case 4:g.set(u,d),d+=u.length}var I=0;this.cleanSession&&(I=2),void 0!==this.willMessage&&(I|=4,I|=this.willMessage.qos<<3,this.willMessage.retained&&(I|=32)),void 0!==this.userName&&(I|=128),void 0!==this.password&&(I|=64),g[d++]=I,d=f(this.keepAliveInterval,g,d)}switch(void 0!==this.messageIdentifier&&(d=f(this.messageIdentifier,g,d)),this.type){case n.CONNECT:d=_(this.clientId,p(this.clientId),g,d),void 0!==this.willMessage&&(d=_(this.willMessage.destinationName,p(this.willMessage.destinationName),g,d),d=f(e.byteLength,g,d),g.set(e,d),d+=e.byteLength),void 0!==this.userName&&(d=_(this.userName,p(this.userName),g,d)),void 0!==this.password&&(d=_(this.password,p(this.password),g,d));break;case n.PUBLISH:g.set(c,d);break;case n.SUBSCRIBE:for(r=0;r<this.topics.length;r++)d=_(this.topics[r],i[r],g,d),g[d++]=this.requestedQos[r];break;case n.UNSUBSCRIBE:for(r=0;r<this.topics.length;r++)d=_(this.topics[r],i[r],g,d)}return l};var v=function(e,t){this._client=e,this._keepAliveInterval=1e3*t,this.isReset=!1;var s=new d(n.PINGREQ).encode(),i=function(e){return function(){return o.apply(e)}},o=function(){this.isReset?(this.isReset=!1,this._client._trace("Pinger.doPing","send PINGREQ"),this._client.socket.send(s),this.timeout=setTimeout(i(this),this._keepAliveInterval)):(this._client._trace("Pinger.doPing","Timed out"),this._client._disconnected(r.PING_TIMEOUT.code,a(r.PING_TIMEOUT)))};this.reset=function(){this.isReset=!0,clearTimeout(this.timeout),this._keepAliveInterval>0&&(this.timeout=setTimeout(i(this),this._keepAliveInterval))},this.cancel=function(){clearTimeout(this.timeout)}},m=function(e,t,s,n){t||(t=30);this.timeout=setTimeout(function(e,t,s){return function(){return e.apply(t,s)}}(s,e,n),1e3*t),this.cancel=function(){clearTimeout(this.timeout)}},y=function(t,n,i,o,c){if(!("WebSocket"in e&&null!==e.WebSocket))throw new Error(a(r.UNSUPPORTED,["WebSocket"]));if(!("ArrayBuffer"in e&&null!==e.ArrayBuffer))throw new Error(a(r.UNSUPPORTED,["ArrayBuffer"]));for(var h in this._trace("Paho.Client",t,n,i,o,c),this.host=n,this.port=i,this.path=o,this.uri=t,this.clientId=c,this._wsuri=null,this._localKey=n+":"+i+("/mqtt"!=o?":"+o:"")+":"+c+":",this._msg_queue=[],this._buffered_msg_queue=[],this._sentMessages={},this._receivedMessages={},this._notify_msg_sent={},this._message_identifier=1,this._sequence=0,s)0!==h.indexOf("Sent:"+this._localKey)&&0!==h.indexOf("Received:"+this._localKey)||this.restore(h)};y.prototype.host=null,y.prototype.port=null,y.prototype.path=null,y.prototype.uri=null,y.prototype.clientId=null,y.prototype.socket=null,y.prototype.connected=!1,y.prototype.maxMessageIdentifier=65536,y.prototype.connectOptions=null,y.prototype.hostIndex=null,y.prototype.onConnected=null,y.prototype.onConnectionLost=null,y.prototype.onMessageDelivered=null,y.prototype.onMessageArrived=null,y.prototype.traceFunction=null,y.prototype._msg_queue=null,y.prototype._buffered_msg_queue=null,y.prototype._connectTimeout=null,y.prototype.sendPinger=null,y.prototype.receivePinger=null,y.prototype._reconnectInterval=1,y.prototype._reconnecting=!1,y.prototype._reconnectTimeout=null,y.prototype.disconnectedPublishing=!1,y.prototype.disconnectedBufferSize=5e3,y.prototype.receiveBuffer=null,y.prototype._traceBuffer=null,y.prototype._MAX_TRACE_ENTRIES=100,y.prototype.connect=function(e){var t=this._traceMask(e,"password");if(this._trace("Client.connect",t,this.socket,this.connected),this.connected)throw new Error(a(r.INVALID_STATE,["already connected"]));if(this.socket)throw new Error(a(r.INVALID_STATE,["already connected"]));this._reconnecting&&(this._reconnectTimeout.cancel(),this._reconnectTimeout=null,this._reconnecting=!1),this.connectOptions=e,this._reconnectInterval=1,this._reconnecting=!1,e.uris?(this.hostIndex=0,this._doConnect(e.uris[0])):this._doConnect(this.uri)},y.prototype.subscribe=function(e,t){if(this._trace("Client.subscribe",e,t),!this.connected)throw new Error(a(r.INVALID_STATE,["not connected"]));var s=new d(n.SUBSCRIBE);s.topics=e.constructor===Array?e:[e],void 0===t.qos&&(t.qos=0),s.requestedQos=[];for(var i=0;i<s.topics.length;i++)s.requestedQos[i]=t.qos;t.onSuccess&&(s.onSuccess=function(e){t.onSuccess({invocationContext:t.invocationContext,grantedQos:e})}),t.onFailure&&(s.onFailure=function(e){t.onFailure({invocationContext:t.invocationContext,errorCode:e,errorMessage:a(e)})}),t.timeout&&(s.timeOut=new m(this,t.timeout,t.onFailure,[{invocationContext:t.invocationContext,errorCode:r.SUBSCRIBE_TIMEOUT.code,errorMessage:a(r.SUBSCRIBE_TIMEOUT)}])),this._requires_ack(s),this._schedule_message(s)},y.prototype.unsubscribe=function(e,t){if(this._trace("Client.unsubscribe",e,t),!this.connected)throw new Error(a(r.INVALID_STATE,["not connected"]));var s=new d(n.UNSUBSCRIBE);s.topics=e.constructor===Array?e:[e],t.onSuccess&&(s.callback=function(){t.onSuccess({invocationContext:t.invocationContext})}),t.timeout&&(s.timeOut=new m(this,t.timeout,t.onFailure,[{invocationContext:t.invocationContext,errorCode:r.UNSUBSCRIBE_TIMEOUT.code,errorMessage:a(r.UNSUBSCRIBE_TIMEOUT)}])),this._requires_ack(s),this._schedule_message(s)},y.prototype.send=function(e){this._trace("Client.send",e);var t=new d(n.PUBLISH);if(t.payloadMessage=e,this.connected)e.qos>0?this._requires_ack(t):this.onMessageDelivered&&(this._notify_msg_sent[t]=this.onMessageDelivered(t.payloadMessage)),this._schedule_message(t);else{if(!this._reconnecting||!this.disconnectedPublishing)throw new Error(a(r.INVALID_STATE,["not connected"]));if(Object.keys(this._sentMessages).length+this._buffered_msg_queue.length>this.disconnectedBufferSize)throw new Error(a(r.BUFFER_FULL,[this.disconnectedBufferSize]));e.qos>0?this._requires_ack(t):(t.sequence=++this._sequence,this._buffered_msg_queue.unshift(t))}},y.prototype.disconnect=function(){if(this._trace("Client.disconnect"),this._reconnecting&&(this._reconnectTimeout.cancel(),this._reconnectTimeout=null,this._reconnecting=!1),!this.socket)throw new Error(a(r.INVALID_STATE,["not connecting or connected"]));var e=new d(n.DISCONNECT);this._notify_msg_sent[e]=o(this._disconnected,this),this._schedule_message(e)},y.prototype.getTraceLog=function(){if(null!==this._traceBuffer){for(var e in this._trace("Client.getTraceLog",new Date),this._trace("Client.getTraceLog in flight messages",this._sentMessages.length),this._sentMessages)this._trace("_sentMessages ",e,this._sentMessages[e]);for(var e in this._receivedMessages)this._trace("_receivedMessages ",e,this._receivedMessages[e]);return this._traceBuffer}},y.prototype.startTrace=function(){null===this._traceBuffer&&(this._traceBuffer=[]),this._trace("Client.startTrace",new Date,"@VERSION@-@BUILDLEVEL@")},y.prototype.stopTrace=function(){delete this._traceBuffer},y.prototype._doConnect=function(e){if(this.connectOptions.useSSL){var t=e.split(":");t[0]="wss",e=t.join(":")}this._wsuri=e,this.connected=!1,this.connectOptions.mqttVersion<4?this.socket=new WebSocket(e,["mqttv3.1"]):this.socket=new WebSocket(e,["mqtt"]),this.socket.binaryType="arraybuffer",this.socket.onopen=o(this._on_socket_open,this),this.socket.onmessage=o(this._on_socket_message,this),this.socket.onerror=o(this._on_socket_error,this),this.socket.onclose=o(this._on_socket_close,this),this.sendPinger=new v(this,this.connectOptions.keepAliveInterval),this.receivePinger=new v(this,this.connectOptions.keepAliveInterval),this._connectTimeout&&(this._connectTimeout.cancel(),this._connectTimeout=null),this._connectTimeout=new m(this,this.connectOptions.timeout,this._disconnected,[r.CONNECT_TIMEOUT.code,a(r.CONNECT_TIMEOUT)])},y.prototype._schedule_message=function(e){this._msg_queue.unshift(e),this.connected&&this._process_queue()},y.prototype.store=function(e,t){var i={type:t.type,messageIdentifier:t.messageIdentifier,version:1};switch(t.type){case n.PUBLISH:t.pubRecReceived&&(i.pubRecReceived=!0),i.payloadMessage={};for(var o="",c=t.payloadMessage.payloadBytes,h=0;h<c.length;h++)c[h]<=15?o=o+"0"+c[h].toString(16):o+=c[h].toString(16);i.payloadMessage.payloadHex=o,i.payloadMessage.qos=t.payloadMessage.qos,i.payloadMessage.destinationName=t.payloadMessage.destinationName,t.payloadMessage.duplicate&&(i.payloadMessage.duplicate=!0),t.payloadMessage.retained&&(i.payloadMessage.retained=!0),0===e.indexOf("Sent:")&&(void 0===t.sequence&&(t.sequence=++this._sequence),i.sequence=t.sequence);break;default:throw Error(a(r.INVALID_STORED_DATA,[e+this._localKey+t.messageIdentifier,i]))}s.setItem(e+this._localKey+t.messageIdentifier,JSON.stringify(i))},y.prototype.restore=function(e){var t=s.getItem(e),i=JSON.parse(t),o=new d(i.type,i);switch(i.type){case n.PUBLISH:for(var c=i.payloadMessage.payloadHex,h=new ArrayBuffer(c.length/2),u=new Uint8Array(h),l=0;c.length>=2;){var f=parseInt(c.substring(0,2),16);c=c.substring(2,c.length),u[l++]=f}var _=new w(u);_.qos=i.payloadMessage.qos,_.destinationName=i.payloadMessage.destinationName,i.payloadMessage.duplicate&&(_.duplicate=!0),i.payloadMessage.retained&&(_.retained=!0),o.payloadMessage=_;break;default:throw Error(a(r.INVALID_STORED_DATA,[e,t]))}0===e.indexOf("Sent:"+this._localKey)?(o.payloadMessage.duplicate=!0,this._sentMessages[o.messageIdentifier]=o):0===e.indexOf("Received:"+this._localKey)&&(this._receivedMessages[o.messageIdentifier]=o)},y.prototype._process_queue=function(){for(var e=null;e=this._msg_queue.pop();)this._socket_send(e),this._notify_msg_sent[e]&&(this._notify_msg_sent[e](),delete this._notify_msg_sent[e])},y.prototype._requires_ack=function(e){var t=Object.keys(this._sentMessages).length;if(t>this.maxMessageIdentifier)throw Error("Too many messages:"+t);for(;void 0!==this._sentMessages[this._message_identifier];)this._message_identifier++;e.messageIdentifier=this._message_identifier,this._sentMessages[e.messageIdentifier]=e,e.type===n.PUBLISH&&this.store("Sent:",e),this._message_identifier===this.maxMessageIdentifier&&(this._message_identifier=1)},y.prototype._on_socket_open=function(){var e=new d(n.CONNECT,this.connectOptions);e.clientId=this.clientId,this._socket_send(e)},y.prototype._on_socket_message=function(e){this._trace("Client._on_socket_message",e.data);for(var t=this._deframeMessages(e.data),s=0;s<t.length;s+=1)this._handleMessage(t[s])},y.prototype._deframeMessages=function(e){var t=new Uint8Array(e),s=[];if(this.receiveBuffer){var n=new Uint8Array(this.receiveBuffer.length+t.length);n.set(this.receiveBuffer),n.set(t,this.receiveBuffer.length),t=n,delete this.receiveBuffer}try{for(var i=0;i<t.length;){var o=l(t,i),c=o[0];if(i=o[1],null===c)break;s.push(c)}i<t.length&&(this.receiveBuffer=t.subarray(i))}catch(e){var h="undefined"==e.hasOwnProperty("stack")?e.stack.toString():"No Error Stack Available";return void this._disconnected(r.INTERNAL_ERROR.code,a(r.INTERNAL_ERROR,[e.message,h]))}return s},y.prototype._handleMessage=function(e){this._trace("Client._handleMessage",e);try{switch(e.type){case n.CONNACK:if(this._connectTimeout.cancel(),this._reconnectTimeout&&this._reconnectTimeout.cancel(),this.connectOptions.cleanSession){for(var t in this._sentMessages){var i=this._sentMessages[t];s.removeItem("Sent:"+this._localKey+i.messageIdentifier)}for(var t in this._sentMessages={},this._receivedMessages){var o=this._receivedMessages[t];s.removeItem("Received:"+this._localKey+o.messageIdentifier)}this._receivedMessages={}}if(0!==e.returnCode){this._disconnected(r.CONNACK_RETURNCODE.code,a(r.CONNACK_RETURNCODE,[e.returnCode,c[e.returnCode]]));break}this.connected=!0,this.connectOptions.uris&&(this.hostIndex=this.connectOptions.uris.length);var h=[];for(var u in this._sentMessages)this._sentMessages.hasOwnProperty(u)&&h.push(this._sentMessages[u]);if(this._buffered_msg_queue.length>0)for(var l=null;l=this._buffered_msg_queue.pop();)h.push(l),this.onMessageDelivered&&(this._notify_msg_sent[l]=this.onMessageDelivered(l.payloadMessage));h=h.sort(function(e,t){return e.sequence-t.sequence});for(var f=0,_=h.length;f<_;f++){if((i=h[f]).type==n.PUBLISH&&i.pubRecReceived){var g=new d(n.PUBREL,{messageIdentifier:i.messageIdentifier});this._schedule_message(g)}else this._schedule_message(i)}this.connectOptions.onSuccess&&this.connectOptions.onSuccess({invocationContext:this.connectOptions.invocationContext});var p=!1;this._reconnecting&&(p=!0,this._reconnectInterval=1,this._reconnecting=!1),this._connected(p,this._wsuri),this._process_queue();break;case n.PUBLISH:this._receivePublish(e);break;case n.PUBACK:(i=this._sentMessages[e.messageIdentifier])&&(delete this._sentMessages[e.messageIdentifier],s.removeItem("Sent:"+this._localKey+e.messageIdentifier),this.onMessageDelivered&&this.onMessageDelivered(i.payloadMessage));break;case n.PUBREC:if(i=this._sentMessages[e.messageIdentifier]){i.pubRecReceived=!0;g=new d(n.PUBREL,{messageIdentifier:e.messageIdentifier});this.store("Sent:",i),this._schedule_message(g)}break;case n.PUBREL:o=this._receivedMessages[e.messageIdentifier];s.removeItem("Received:"+this._localKey+e.messageIdentifier),o&&(this._receiveMessage(o),delete this._receivedMessages[e.messageIdentifier]);var I=new d(n.PUBCOMP,{messageIdentifier:e.messageIdentifier});this._schedule_message(I);break;case n.PUBCOMP:i=this._sentMessages[e.messageIdentifier];delete this._sentMessages[e.messageIdentifier],s.removeItem("Sent:"+this._localKey+e.messageIdentifier),this.onMessageDelivered&&this.onMessageDelivered(i.payloadMessage);break;case n.SUBACK:(i=this._sentMessages[e.messageIdentifier])&&(i.timeOut&&i.timeOut.cancel(),128===e.returnCode[0]?i.onFailure&&i.onFailure(e.returnCode):i.onSuccess&&i.onSuccess(e.returnCode),delete this._sentMessages[e.messageIdentifier]);break;case n.UNSUBACK:(i=this._sentMessages[e.messageIdentifier])&&(i.timeOut&&i.timeOut.cancel(),i.callback&&i.callback(),delete this._sentMessages[e.messageIdentifier]);break;case n.PINGRESP:this.sendPinger.reset();break;case n.DISCONNECT:this._disconnected(r.INVALID_MQTT_MESSAGE_TYPE.code,a(r.INVALID_MQTT_MESSAGE_TYPE,[e.type]));break;default:this._disconnected(r.INVALID_MQTT_MESSAGE_TYPE.code,a(r.INVALID_MQTT_MESSAGE_TYPE,[e.type]))}}catch(e){var E="undefined"==e.hasOwnProperty("stack")?e.stack.toString():"No Error Stack Available";return void this._disconnected(r.INTERNAL_ERROR.code,a(r.INTERNAL_ERROR,[e.message,E]))}},y.prototype._on_socket_error=function(e){this._reconnecting||this._disconnected(r.SOCKET_ERROR.code,a(r.SOCKET_ERROR,[e.data]))},y.prototype._on_socket_close=function(){this._reconnecting||this._disconnected(r.SOCKET_CLOSE.code,a(r.SOCKET_CLOSE))},y.prototype._socket_send=function(e){if(1==e.type){var t=this._traceMask(e,"password");this._trace("Client._socket_send",t)}else this._trace("Client._socket_send",e);this.socket.send(e.encode()),this.sendPinger.reset()},y.prototype._receivePublish=function(e){switch(e.payloadMessage.qos){case"undefined":case 0:this._receiveMessage(e);break;case 1:var t=new d(n.PUBACK,{messageIdentifier:e.messageIdentifier});this._schedule_message(t),this._receiveMessage(e);break;case 2:this._receivedMessages[e.messageIdentifier]=e,this.store("Received:",e);var s=new d(n.PUBREC,{messageIdentifier:e.messageIdentifier});this._schedule_message(s);break;default:throw Error("Invaild qos="+e.payloadMessage.qos)}},y.prototype._receiveMessage=function(e){this.onMessageArrived&&this.onMessageArrived(e.payloadMessage)},y.prototype._connected=function(e,t){this.onConnected&&this.onConnected(e,t)},y.prototype._reconnect=function(){this._trace("Client._reconnect"),this.connected||(this._reconnecting=!0,this.sendPinger.cancel(),this.receivePinger.cancel(),this._reconnectInterval<128&&(this._reconnectInterval=2*this._reconnectInterval),this.connectOptions.uris?(this.hostIndex=0,this._doConnect(this.connectOptions.uris[0])):this._doConnect(this.uri))},y.prototype._disconnected=function(e,t){if(this._trace("Client._disconnected",e,t),void 0!==e&&this._reconnecting)this._reconnectTimeout=new m(this,this._reconnectInterval,this._reconnect);else if(this.sendPinger.cancel(),this.receivePinger.cancel(),this._connectTimeout&&(this._connectTimeout.cancel(),this._connectTimeout=null),this._msg_queue=[],this._buffered_msg_queue=[],this._notify_msg_sent={},this.socket&&(this.socket.onopen=null,this.socket.onmessage=null,this.socket.onerror=null,this.socket.onclose=null,1===this.socket.readyState&&this.socket.close(),delete this.socket),this.connectOptions.uris&&this.hostIndex<this.connectOptions.uris.length-1)this.hostIndex++,this._doConnect(this.connectOptions.uris[this.hostIndex]);else if(void 0===e&&(e=r.OK.code,t=a(r.OK)),this.connected){if(this.connected=!1,this.onConnectionLost&&this.onConnectionLost({errorCode:e,errorMessage:t,reconnect:this.connectOptions.reconnect,uri:this._wsuri}),e!==r.OK.code&&this.connectOptions.reconnect)return this._reconnectInterval=1,void this._reconnect()}else 4===this.connectOptions.mqttVersion&&!1===this.connectOptions.mqttVersionExplicit?(this._trace("Failed to connect V4, dropping back to V3"),this.connectOptions.mqttVersion=3,this.connectOptions.uris?(this.hostIndex=0,this._doConnect(this.connectOptions.uris[0])):this._doConnect(this.uri)):this.connectOptions.onFailure&&this.connectOptions.onFailure({invocationContext:this.connectOptions.invocationContext,errorCode:e,errorMessage:t})},y.prototype._trace=function(){if(this.traceFunction){var e=Array.prototype.slice.call(arguments);for(var t in e)void 0!==e[t]&&e.splice(t,1,JSON.stringify(e[t]));var s=e.join("");this.traceFunction({severity:"Debug",message:s})}if(null!==this._traceBuffer){t=0;for(var n=arguments.length;t<n;t++)this._traceBuffer.length==this._MAX_TRACE_ENTRIES&&this._traceBuffer.shift(),0===t?this._traceBuffer.push(arguments[t]):void 0===arguments[t]?this._traceBuffer.push(arguments[t]):this._traceBuffer.push("  "+JSON.stringify(arguments[t]))}},y.prototype._traceMask=function(e,t){var s={};for(var n in e)e.hasOwnProperty(n)&&(s[n]=n==t?"******":e[n]);return s};var w=function(e){var t,s;if(!("string"==typeof e||e instanceof ArrayBuffer||ArrayBuffer.isView(e)&&!(e instanceof DataView)))throw a(r.INVALID_ARGUMENT,[e,"newPayload"]);t=e;var n=0,i=!1,o=!1;Object.defineProperties(this,{payloadString:{enumerable:!0,get:function(){return"string"==typeof t?t:E(t,0,t.length)}},payloadBytes:{enumerable:!0,get:function(){if("string"==typeof t){var e=new ArrayBuffer(p(t)),s=new Uint8Array(e);return I(t,s,0),s}return t}},destinationName:{enumerable:!0,get:function(){return s},set:function(e){if("string"!=typeof e)throw new Error(a(r.INVALID_ARGUMENT,[e,"newDestinationName"]));s=e}},qos:{enumerable:!0,get:function(){return n},set:function(e){if(0!==e&&1!==e&&2!==e)throw new Error("Invalid argument:"+e);n=e}},retained:{enumerable:!0,get:function(){return i},set:function(e){if("boolean"!=typeof e)throw new Error(a(r.INVALID_ARGUMENT,[e,"newRetained"]));i=e}},topic:{enumerable:!0,get:function(){return s},set:function(e){s=e}},duplicate:{enumerable:!0,get:function(){return o},set:function(e){o=e}}})};return{Client:function(e,t,s,n){var o;if("string"!=typeof e)throw new Error(a(r.INVALID_TYPE,[typeof e,"host"]));if(2==arguments.length){n=t;var c=(o=e).match(/^(wss?):\/\/((\[(.+)\])|([^\/]+?))(:(\d+))?(\/.*)$/);if(!c)throw new Error(a(r.INVALID_ARGUMENT,[e,"host"]));e=c[4]||c[2],t=parseInt(c[7]),s=c[8]}else{if(3==arguments.length&&(n=s,s="/mqtt"),"number"!=typeof t||t<0)throw new Error(a(r.INVALID_TYPE,[typeof t,"port"]));if("string"!=typeof s)throw new Error(a(r.INVALID_TYPE,[typeof s,"path"]));var h=-1!==e.indexOf(":")&&"["!==e.slice(0,1)&&"]"!==e.slice(-1);o="ws://"+(h?"["+e+"]":e)+":"+t+s}for(var u=0,d=0;d<n.length;d++){var l=n.charCodeAt(d);55296<=l&&l<=56319&&d++,u++}if("string"!=typeof n||u>65535)throw new Error(a(r.INVALID_ARGUMENT,[n,"clientId"]));var f=new y(o,e,t,s,n);Object.defineProperties(this,{host:{get:function(){return e},set:function(){throw new Error(a(r.UNSUPPORTED_OPERATION))}},port:{get:function(){return t},set:function(){throw new Error(a(r.UNSUPPORTED_OPERATION))}},path:{get:function(){return s},set:function(){throw new Error(a(r.UNSUPPORTED_OPERATION))}},uri:{get:function(){return o},set:function(){throw new Error(a(r.UNSUPPORTED_OPERATION))}},clientId:{get:function(){return f.clientId},set:function(){throw new Error(a(r.UNSUPPORTED_OPERATION))}},onConnected:{get:function(){return f.onConnected},set:function(e){if("function"!=typeof e)throw new Error(a(r.INVALID_TYPE,[typeof e,"onConnected"]));f.onConnected=e}},disconnectedPublishing:{get:function(){return f.disconnectedPublishing},set:function(e){f.disconnectedPublishing=e}},disconnectedBufferSize:{get:function(){return f.disconnectedBufferSize},set:function(e){f.disconnectedBufferSize=e}},onConnectionLost:{get:function(){return f.onConnectionLost},set:function(e){if("function"!=typeof e)throw new Error(a(r.INVALID_TYPE,[typeof e,"onConnectionLost"]));f.onConnectionLost=e}},onMessageDelivered:{get:function(){return f.onMessageDelivered},set:function(e){if("function"!=typeof e)throw new Error(a(r.INVALID_TYPE,[typeof e,"onMessageDelivered"]));f.onMessageDelivered=e}},onMessageArrived:{get:function(){return f.onMessageArrived},set:function(e){if("function"!=typeof e)throw new Error(a(r.INVALID_TYPE,[typeof e,"onMessageArrived"]));f.onMessageArrived=e}},trace:{get:function(){return f.traceFunction},set:function(e){if("function"!=typeof e)throw new Error(a(r.INVALID_TYPE,[typeof e,"onTrace"]));f.traceFunction=e}}}),this.connect=function(e){if(i(e=e||{},{timeout:"number",userName:"string",password:"string",willMessage:"object",keepAliveInterval:"number",cleanSession:"boolean",useSSL:"boolean",invocationContext:"object",onSuccess:"function",onFailure:"function",hosts:"object",ports:"object",reconnect:"boolean",mqttVersion:"number",mqttVersionExplicit:"boolean",uris:"object"}),void 0===e.keepAliveInterval&&(e.keepAliveInterval=60),e.mqttVersion>4||e.mqttVersion<3)throw new Error(a(r.INVALID_ARGUMENT,[e.mqttVersion,"connectOptions.mqttVersion"]));if(void 0===e.mqttVersion?(e.mqttVersionExplicit=!1,e.mqttVersion=4):e.mqttVersionExplicit=!0,void 0!==e.password&&void 0===e.userName)throw new Error(a(r.INVALID_ARGUMENT,[e.password,"connectOptions.password"]));if(e.willMessage){if(!(e.willMessage instanceof w))throw new Error(a(r.INVALID_TYPE,[e.willMessage,"connectOptions.willMessage"]));if(e.willMessage.stringPayload=null,void 0===e.willMessage.destinationName)throw new Error(a(r.INVALID_TYPE,[typeof e.willMessage.destinationName,"connectOptions.willMessage.destinationName"]))}if(void 0===e.cleanSession&&(e.cleanSession=!0),e.hosts){if(!(e.hosts instanceof Array))throw new Error(a(r.INVALID_ARGUMENT,[e.hosts,"connectOptions.hosts"]));if(e.hosts.length<1)throw new Error(a(r.INVALID_ARGUMENT,[e.hosts,"connectOptions.hosts"]));for(var t=!1,n=0;n<e.hosts.length;n++){if("string"!=typeof e.hosts[n])throw new Error(a(r.INVALID_TYPE,[typeof e.hosts[n],"connectOptions.hosts["+n+"]"]));if(/^(wss?):\/\/((\[(.+)\])|([^\/]+?))(:(\d+))?(\/.*)$/.test(e.hosts[n])){if(0===n)t=!0;else if(!t)throw new Error(a(r.INVALID_ARGUMENT,[e.hosts[n],"connectOptions.hosts["+n+"]"]))}else if(t)throw new Error(a(r.INVALID_ARGUMENT,[e.hosts[n],"connectOptions.hosts["+n+"]"]))}if(t)e.uris=e.hosts;else{if(!e.ports)throw new Error(a(r.INVALID_ARGUMENT,[e.ports,"connectOptions.ports"]));if(!(e.ports instanceof Array))throw new Error(a(r.INVALID_ARGUMENT,[e.ports,"connectOptions.ports"]));if(e.hosts.length!==e.ports.length)throw new Error(a(r.INVALID_ARGUMENT,[e.ports,"connectOptions.ports"]));for(e.uris=[],n=0;n<e.hosts.length;n++){if("number"!=typeof e.ports[n]||e.ports[n]<0)throw new Error(a(r.INVALID_TYPE,[typeof e.ports[n],"connectOptions.ports["+n+"]"]));var c=e.hosts[n],h=e.ports[n],u=-1!==c.indexOf(":");o="ws://"+(u?"["+c+"]":c)+":"+h+s,e.uris.push(o)}}}f.connect(e)},this.subscribe=function(e,t){if("string"!=typeof e&&e.constructor!==Array)throw new Error("Invalid argument:"+e);if(i(t=t||{},{qos:"number",invocationContext:"object",onSuccess:"function",onFailure:"function",timeout:"number"}),t.timeout&&!t.onFailure)throw new Error("subscribeOptions.timeout specified with no onFailure callback.");if(void 0!==t.qos&&0!==t.qos&&1!==t.qos&&2!==t.qos)throw new Error(a(r.INVALID_ARGUMENT,[t.qos,"subscribeOptions.qos"]));f.subscribe(e,t)},this.unsubscribe=function(e,t){if("string"!=typeof e&&e.constructor!==Array)throw new Error("Invalid argument:"+e);if(i(t=t||{},{invocationContext:"object",onSuccess:"function",onFailure:"function",timeout:"number"}),t.timeout&&!t.onFailure)throw new Error("unsubscribeOptions.timeout specified with no onFailure callback.");f.unsubscribe(e,t)},this.send=function(e,t,s,n){var i;if(0===arguments.length)throw new Error("Invalid argument.length");if(1==arguments.length){if(!(e instanceof w)&&"string"!=typeof e)throw new Error("Invalid argument:"+typeof e);if(void 0===(i=e).destinationName)throw new Error(a(r.INVALID_ARGUMENT,[i.destinationName,"Message.destinationName"]));f.send(i)}else(i=new w(t)).destinationName=e,arguments.length>=3&&(i.qos=s),arguments.length>=4&&(i.retained=n),f.send(i)},this.publish=function(e,t,s,n){var i;if(0===arguments.length)throw new Error("Invalid argument.length");if(1==arguments.length){if(!(e instanceof w)&&"string"!=typeof e)throw new Error("Invalid argument:"+typeof e);if(void 0===(i=e).destinationName)throw new Error(a(r.INVALID_ARGUMENT,[i.destinationName,"Message.destinationName"]));f.send(i)}else(i=new w(t)).destinationName=e,arguments.length>=3&&(i.qos=s),arguments.length>=4&&(i.retained=n),f.send(i)},this.disconnect=function(){f.disconnect()},this.getTraceLog=function(){return f.getTraceLog()},this.startTrace=function(){f.startTrace()},this.stopTrace=function(){f.stopTrace()},this.isConnected=function(){return f.connected}},Message:w}}(void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},e.exports=s()}).call(this,s(16))}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGFoby1tcXR0L3BhaG8tbXF0dC5qcyJdLCJuYW1lcyI6WyJnbG9iYWwiLCJmYWN0b3J5IiwiZGF0YSIsImxvY2FsU3RvcmFnZSIsInNldEl0ZW0iLCJrZXkiLCJpdGVtIiwiZ2V0SXRlbSIsInJlbW92ZUl0ZW0iLCJNRVNTQUdFX1RZUEUiLCJDT05ORUNUIiwiQ09OTkFDSyIsIlBVQkxJU0giLCJQVUJBQ0siLCJQVUJSRUMiLCJQVUJSRUwiLCJQVUJDT01QIiwiU1VCU0NSSUJFIiwiU1VCQUNLIiwiVU5TVUJTQ1JJQkUiLCJVTlNVQkFDSyIsIlBJTkdSRVEiLCJQSU5HUkVTUCIsIkRJU0NPTk5FQ1QiLCJ2YWxpZGF0ZSIsIm9iaiIsImtleXMiLCJoYXNPd25Qcm9wZXJ0eSIsImVycm9yU3RyIiwidmFsaWRLZXkiLCJFcnJvciIsImZvcm1hdCIsIkVSUk9SIiwiSU5WQUxJRF9UWVBFIiwic2NvcGUiLCJmIiwiYXBwbHkiLCJhcmd1bWVudHMiLCJPSyIsImNvZGUiLCJ0ZXh0IiwiQ09OTkVDVF9USU1FT1VUIiwiU1VCU0NSSUJFX1RJTUVPVVQiLCJVTlNVQlNDUklCRV9USU1FT1VUIiwiUElOR19USU1FT1VUIiwiSU5URVJOQUxfRVJST1IiLCJDT05OQUNLX1JFVFVSTkNPREUiLCJTT0NLRVRfRVJST1IiLCJTT0NLRVRfQ0xPU0UiLCJNQUxGT1JNRURfVVRGIiwiVU5TVVBQT1JURUQiLCJJTlZBTElEX1NUQVRFIiwiSU5WQUxJRF9BUkdVTUVOVCIsIlVOU1VQUE9SVEVEX09QRVJBVElPTiIsIklOVkFMSURfU1RPUkVEX0RBVEEiLCJJTlZBTElEX01RVFRfTUVTU0FHRV9UWVBFIiwiTUFMRk9STUVEX1VOSUNPREUiLCJCVUZGRVJfRlVMTCIsIkNPTk5BQ0tfUkMiLCIwIiwiMSIsIjIiLCIzIiwiNCIsIjUiLCJlcnJvciIsInN1YnN0aXR1dGlvbnMiLCJmaWVsZCIsInN0YXJ0IiwiaSIsImxlbmd0aCIsImluZGV4T2YiLCJwYXJ0MSIsInN1YnN0cmluZyIsInBhcnQyIiwiTXF0dFByb3RvSWRlbnRpZmllcnYzIiwiTXF0dFByb3RvSWRlbnRpZmllcnY0IiwiV2lyZU1lc3NhZ2UiLCJ0eXBlIiwib3B0aW9ucyIsIm5hbWUiLCJ0aGlzIiwiZGVjb2RlTWVzc2FnZSIsImlucHV0IiwicG9zIiwiZGlnaXQiLCJzdGFydGluZ1BvcyIsImZpcnN0IiwibWVzc2FnZUluZm8iLCJyZW1MZW5ndGgiLCJtdWx0aXBsaWVyIiwiZW5kUG9zIiwid2lyZU1lc3NhZ2UiLCJzZXNzaW9uUHJlc2VudCIsInJldHVybkNvZGUiLCJxb3MiLCJsZW4iLCJyZWFkVWludDE2IiwidG9waWNOYW1lIiwicGFyc2VVVEY4IiwibWVzc2FnZUlkZW50aWZpZXIiLCJtZXNzYWdlIiwiTWVzc2FnZSIsInN1YmFycmF5IiwicmV0YWluZWQiLCJkdXBsaWNhdGUiLCJkZXN0aW5hdGlvbk5hbWUiLCJwYXlsb2FkTWVzc2FnZSIsIndyaXRlVWludDE2IiwiYnVmZmVyIiwib2Zmc2V0Iiwid3JpdGVTdHJpbmciLCJ1dGY4TGVuZ3RoIiwic3RyaW5nVG9VVEY4IiwiVVRGOExlbmd0aCIsIm91dHB1dCIsImNoYXJDb2RlIiwiY2hhckNvZGVBdCIsImxvd0NoYXJDb2RlIiwiaXNOYU4iLCJ1dGYxNiIsImJ5dGUxIiwiYnl0ZTIiLCJ0b1N0cmluZyIsImJ5dGUzIiwiYnl0ZTQiLCJTdHJpbmciLCJmcm9tQ2hhckNvZGUiLCJwcm90b3R5cGUiLCJlbmNvZGUiLCJ3aWxsTWVzc2FnZVBheWxvYWRCeXRlcyIsInRvcGljU3RyTGVuZ3RoIiwiZGVzdGluYXRpb25OYW1lTGVuZ3RoIiwidW5kZWZpbmVkIiwibXF0dFZlcnNpb24iLCJjbGllbnRJZCIsIndpbGxNZXNzYWdlIiwicGF5bG9hZEJ5dGVzIiwiVWludDhBcnJheSIsImJ5dGVMZW5ndGgiLCJ1c2VyTmFtZSIsInBhc3N3b3JkIiwidG9waWNzIiwicmVxdWVzdGVkUW9zIiwiQXJyYXlCdWZmZXIiLCJtYmkiLCJudW1iZXIiLCJBcnJheSIsIm51bUJ5dGVzIiwiZW5jb2RlTUJJIiwiYnl0ZVN0cmVhbSIsInNldCIsImNvbm5lY3RGbGFncyIsImNsZWFuU2Vzc2lvbiIsImtlZXBBbGl2ZUludGVydmFsIiwiUGluZ2VyIiwiY2xpZW50IiwiX2NsaWVudCIsIl9rZWVwQWxpdmVJbnRlcnZhbCIsImlzUmVzZXQiLCJwaW5nUmVxIiwiZG9UaW1lb3V0IiwicGluZ2VyIiwiZG9QaW5nIiwiX3RyYWNlIiwic29ja2V0Iiwic2VuZCIsInRpbWVvdXQiLCJzZXRUaW1lb3V0IiwiX2Rpc2Nvbm5lY3RlZCIsInJlc2V0IiwiY2xlYXJUaW1lb3V0IiwiY2FuY2VsIiwiVGltZW91dCIsInRpbWVvdXRTZWNvbmRzIiwiYWN0aW9uIiwiYXJncyIsIkNsaWVudEltcGwiLCJ1cmkiLCJob3N0IiwicG9ydCIsInBhdGgiLCJXZWJTb2NrZXQiLCJfd3N1cmkiLCJfbG9jYWxLZXkiLCJfbXNnX3F1ZXVlIiwiX2J1ZmZlcmVkX21zZ19xdWV1ZSIsIl9zZW50TWVzc2FnZXMiLCJfcmVjZWl2ZWRNZXNzYWdlcyIsIl9ub3RpZnlfbXNnX3NlbnQiLCJfbWVzc2FnZV9pZGVudGlmaWVyIiwiX3NlcXVlbmNlIiwicmVzdG9yZSIsImNvbm5lY3RlZCIsIm1heE1lc3NhZ2VJZGVudGlmaWVyIiwiY29ubmVjdE9wdGlvbnMiLCJob3N0SW5kZXgiLCJvbkNvbm5lY3RlZCIsIm9uQ29ubmVjdGlvbkxvc3QiLCJvbk1lc3NhZ2VEZWxpdmVyZWQiLCJvbk1lc3NhZ2VBcnJpdmVkIiwidHJhY2VGdW5jdGlvbiIsIl9jb25uZWN0VGltZW91dCIsInNlbmRQaW5nZXIiLCJyZWNlaXZlUGluZ2VyIiwiX3JlY29ubmVjdEludGVydmFsIiwiX3JlY29ubmVjdGluZyIsIl9yZWNvbm5lY3RUaW1lb3V0IiwiZGlzY29ubmVjdGVkUHVibGlzaGluZyIsImRpc2Nvbm5lY3RlZEJ1ZmZlclNpemUiLCJyZWNlaXZlQnVmZmVyIiwiX3RyYWNlQnVmZmVyIiwiX01BWF9UUkFDRV9FTlRSSUVTIiwiY29ubmVjdCIsImNvbm5lY3RPcHRpb25zTWFza2VkIiwiX3RyYWNlTWFzayIsInVyaXMiLCJfZG9Db25uZWN0Iiwic3Vic2NyaWJlIiwiZmlsdGVyIiwic3Vic2NyaWJlT3B0aW9ucyIsImNvbnN0cnVjdG9yIiwib25TdWNjZXNzIiwiZ3JhbnRlZFFvcyIsImludm9jYXRpb25Db250ZXh0Iiwib25GYWlsdXJlIiwiZXJyb3JDb2RlIiwiZXJyb3JNZXNzYWdlIiwidGltZU91dCIsIl9yZXF1aXJlc19hY2siLCJfc2NoZWR1bGVfbWVzc2FnZSIsInVuc3Vic2NyaWJlIiwidW5zdWJzY3JpYmVPcHRpb25zIiwiY2FsbGJhY2siLCJPYmplY3QiLCJzZXF1ZW5jZSIsInVuc2hpZnQiLCJkaXNjb25uZWN0IiwiZ2V0VHJhY2VMb2ciLCJEYXRlIiwic3RhcnRUcmFjZSIsInN0b3BUcmFjZSIsIndzdXJsIiwidXNlU1NMIiwidXJpUGFydHMiLCJzcGxpdCIsImpvaW4iLCJiaW5hcnlUeXBlIiwib25vcGVuIiwiX29uX3NvY2tldF9vcGVuIiwib25tZXNzYWdlIiwiX29uX3NvY2tldF9tZXNzYWdlIiwib25lcnJvciIsIl9vbl9zb2NrZXRfZXJyb3IiLCJvbmNsb3NlIiwiX29uX3NvY2tldF9jbG9zZSIsIl9wcm9jZXNzX3F1ZXVlIiwic3RvcmUiLCJwcmVmaXgiLCJzdG9yZWRNZXNzYWdlIiwidmVyc2lvbiIsInB1YlJlY1JlY2VpdmVkIiwiaGV4IiwibWVzc2FnZUJ5dGVzIiwicGF5bG9hZEhleCIsIkpTT04iLCJzdHJpbmdpZnkiLCJ2YWx1ZSIsInBhcnNlIiwieCIsInBhcnNlSW50IiwicG9wIiwiX3NvY2tldF9zZW5kIiwibWVzc2FnZUNvdW50IiwiZXZlbnQiLCJtZXNzYWdlcyIsIl9kZWZyYW1lTWVzc2FnZXMiLCJfaGFuZGxlTWVzc2FnZSIsImJ5dGVBcnJheSIsIm5ld0RhdGEiLCJyZXN1bHQiLCJwdXNoIiwiZXJyb3JTdGFjayIsInN0YWNrIiwic2VudE1lc3NhZ2UiLCJyZWNlaXZlZE1lc3NhZ2UiLCJzZXF1ZW5jZWRNZXNzYWdlcyIsIm1zZ0lkIiwibXNnIiwic29ydCIsImEiLCJiIiwicHViUmVsTWVzc2FnZSIsInJlY29ubmVjdGVkIiwiX2Nvbm5lY3RlZCIsIl9yZWNlaXZlUHVibGlzaCIsIl9yZWNlaXZlTWVzc2FnZSIsInB1YkNvbXBNZXNzYWdlIiwid2lyZU1lc3NhZ2VNYXNrZWQiLCJwdWJBY2tNZXNzYWdlIiwicHViUmVjTWVzc2FnZSIsInJlY29ubmVjdCIsIl9yZWNvbm5lY3QiLCJlcnJvclRleHQiLCJyZWFkeVN0YXRlIiwiY2xvc2UiLCJtcXR0VmVyc2lvbkV4cGxpY2l0Iiwic2xpY2UiLCJjYWxsIiwic3BsaWNlIiwicmVjb3JkIiwic2V2ZXJpdHkiLCJtYXgiLCJzaGlmdCIsInRyYWNlT2JqZWN0IiwibWFza2VkIiwidHJhY2VPYmplY3RNYXNrZWQiLCJhdHRyIiwibmV3UGF5bG9hZCIsInBheWxvYWQiLCJpc1ZpZXciLCJEYXRhVmlldyIsImRlZmluZVByb3BlcnRpZXMiLCJwYXlsb2FkU3RyaW5nIiwiZW51bWVyYWJsZSIsImdldCIsIm5ld0Rlc3RpbmF0aW9uTmFtZSIsIm5ld1FvcyIsIm5ld1JldGFpbmVkIiwidG9waWMiLCJuZXdUb3BpYyIsIm5ld0R1cGxpY2F0ZSIsIkNsaWVudCIsIm1hdGNoIiwiaXB2NkFkZFNCcmFja2V0IiwiY2xpZW50SWRMZW5ndGgiLCJuZXdPbkNvbm5lY3RlZCIsIm5ld0Rpc2Nvbm5lY3RlZFB1Ymxpc2hpbmciLCJuZXdEaXNjb25uZWN0ZWRCdWZmZXJTaXplIiwibmV3T25Db25uZWN0aW9uTG9zdCIsIm5ld09uTWVzc2FnZURlbGl2ZXJlZCIsIm5ld09uTWVzc2FnZUFycml2ZWQiLCJ0cmFjZSIsImhvc3RzIiwicG9ydHMiLCJzdHJpbmdQYXlsb2FkIiwidXNpbmdVUklzIiwidGVzdCIsImlwdjYiLCJwdWJsaXNoIiwiaXNDb25uZWN0ZWQiLCJzZWxmIiwid2luZG93IiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5n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VUFBQTNTLE1BQUEsMkJBQUEyUyxHQUdBLGFBREFwTyxFQUFBb08sR0FDQS9OLGdCQUNBLFVBQUE1RSxNQUFBQyxFQUFBQyxFQUFBb0IsaUJBQUEsQ0FBQWlELEVBQUFLLGdCQUFBLDZCQUNBa0QsRUFBQVUsS0FBQWpFLFFBSUFBLEVBQUEsSUFBQUMsRUFBQXlOLElBQ0FyTixnQkFBQStOLEVBQ0FwUyxVQUFBaUMsUUFBQSxJQUNBK0IsRUFBQU4sT0FDQTFELFVBQUFpQyxRQUFBLElBQ0ErQixFQUFBRyxZQUNBb0QsRUFBQVUsS0FBQWpFLElBV0FwQixLQUFBNEosV0FBQSxXQUNBakYsRUFBQWlGLGNBVUE1SixLQUFBNkosWUFBQSxXQUNBLE9BQUFsRixFQUFBa0YsZUFTQTdKLEtBQUErSixXQUFBLFdBQ0FwRixFQUFBb0YsY0FTQS9KLEtBQUFnSyxVQUFBLFdBQ0FyRixFQUFBcUYsYUFHQWhLLEtBQUE2USxZQUFBLFdBQ0EsT0FBQWxNLEVBQUFxQyxZQTRIQTNGLFdBbHZFQSxNQXF2RUUsSUFBQXRHLElBQUEsb0JBQUErVixVQUFBLG9CQUFBQyxjQUFBLEtBbndFRkMsRUFBQUMsUUFBQWpXIiwiZmlsZSI6InZlbmRvcnN+Q29udHJvbGxlcn5EZXZpY2VsaXN0LmJ1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTMgSUJNIENvcnAuXG4gKlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC4gVGhpcyBwcm9ncmFtIGFuZCB0aGUgYWNjb21wYW55aW5nIG1hdGVyaWFsc1xuICogYXJlIG1hZGUgYXZhaWxhYmxlIHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgRWNsaXBzZSBQdWJsaWMgTGljZW5zZSB2MS4wXG4gKiBhbmQgRWNsaXBzZSBEaXN0cmlidXRpb24gTGljZW5zZSB2MS4wIHdoaWNoIGFjY29tcGFueSB0aGlzIGRpc3RyaWJ1dGlvbi5cbiAqXG4gKiBUaGUgRWNsaXBzZSBQdWJsaWMgTGljZW5zZSBpcyBhdmFpbGFibGUgYXRcbiAqICAgIGh0dHA6Ly93d3cuZWNsaXBzZS5vcmcvbGVnYWwvZXBsLXYxMC5odG1sXG4gKiBhbmQgdGhlIEVjbGlwc2UgRGlzdHJpYnV0aW9uIExpY2Vuc2UgaXMgYXZhaWxhYmxlIGF0XG4gKiAgIGh0dHA6Ly93d3cuZWNsaXBzZS5vcmcvb3JnL2RvY3VtZW50cy9lZGwtdjEwLnBocC5cbiAqXG4gKiBDb250cmlidXRvcnM6XG4gKiAgICBBbmRyZXcgQmFua3MgLSBpbml0aWFsIEFQSSBhbmQgaW1wbGVtZW50YXRpb24gYW5kIGluaXRpYWwgZG9jdW1lbnRhdGlvblxuICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cblxuLy8gT25seSBleHBvc2UgYSBzaW5nbGUgb2JqZWN0IG5hbWUgaW4gdGhlIGdsb2JhbCBuYW1lc3BhY2UuXG4vLyBFdmVyeXRoaW5nIG11c3QgZ28gdGhyb3VnaCB0aGlzIG1vZHVsZS4gR2xvYmFsIFBhaG8gbW9kdWxlXG4vLyBvbmx5IGhhcyBhIHNpbmdsZSBwdWJsaWMgZnVuY3Rpb24sIGNsaWVudCwgd2hpY2ggcmV0dXJuc1xuLy8gYSBQYWhvIGNsaWVudCBvYmplY3QgZ2l2ZW4gY29ubmVjdGlvbiBkZXRhaWxzLlxuXG4vKipcbiAqIFNlbmQgYW5kIHJlY2VpdmUgbWVzc2FnZXMgdXNpbmcgd2ViIGJyb3dzZXJzLlxuICogPHA+XG4gKiBUaGlzIHByb2dyYW1taW5nIGludGVyZmFjZSBsZXRzIGEgSmF2YVNjcmlwdCBjbGllbnQgYXBwbGljYXRpb24gdXNlIHRoZSBNUVRUIFYzLjEgb3JcbiAqIFYzLjEuMSBwcm90b2NvbCB0byBjb25uZWN0IHRvIGFuIE1RVFQtc3VwcG9ydGluZyBtZXNzYWdpbmcgc2VydmVyLlxuICpcbiAqIFRoZSBmdW5jdGlvbiBzdXBwb3J0ZWQgaW5jbHVkZXM6XG4gKiA8b2w+XG4gKiA8bGk+Q29ubmVjdGluZyB0byBhbmQgZGlzY29ubmVjdGluZyBmcm9tIGEgc2VydmVyLiBUaGUgc2VydmVyIGlzIGlkZW50aWZpZWQgYnkgaXRzIGhvc3QgbmFtZSBhbmQgcG9ydCBudW1iZXIuXG4gKiA8bGk+U3BlY2lmeWluZyBvcHRpb25zIHRoYXQgcmVsYXRlIHRvIHRoZSBjb21tdW5pY2F0aW9ucyBsaW5rIHdpdGggdGhlIHNlcnZlcixcbiAqIGZvciBleGFtcGxlIHRoZSBmcmVxdWVuY3kgb2Yga2VlcC1hbGl2ZSBoZWFydGJlYXRzLCBhbmQgd2hldGhlciBTU0wvVExTIGlzIHJlcXVpcmVkLlxuICogPGxpPlN1YnNjcmliaW5nIHRvIGFuZCByZWNlaXZpbmcgbWVzc2FnZXMgZnJvbSBNUVRUIFRvcGljcy5cbiAqIDxsaT5QdWJsaXNoaW5nIG1lc3NhZ2VzIHRvIE1RVFQgVG9waWNzLlxuICogPC9vbD5cbiAqIDxwPlxuICogVGhlIEFQSSBjb25zaXN0cyBvZiB0d28gbWFpbiBvYmplY3RzOlxuICogPGRsPlxuICogPGR0PjxiPntAbGluayBQYWhvLkNsaWVudH08L2I+PC9kdD5cbiAqIDxkZD5UaGlzIGNvbnRhaW5zIG1ldGhvZHMgdGhhdCBwcm92aWRlIHRoZSBmdW5jdGlvbmFsaXR5IG9mIHRoZSBBUEksXG4gKiBpbmNsdWRpbmcgcHJvdmlzaW9uIG9mIGNhbGxiYWNrcyB0aGF0IG5vdGlmeSB0aGUgYXBwbGljYXRpb24gd2hlbiBhIG1lc3NhZ2VcbiAqIGFycml2ZXMgZnJvbSBvciBpcyBkZWxpdmVyZWQgdG8gdGhlIG1lc3NhZ2luZyBzZXJ2ZXIsXG4gKiBvciB3aGVuIHRoZSBzdGF0dXMgb2YgaXRzIGNvbm5lY3Rpb24gdG8gdGhlIG1lc3NhZ2luZyBzZXJ2ZXIgY2hhbmdlcy48L2RkPlxuICogPGR0PjxiPntAbGluayBQYWhvLk1lc3NhZ2V9PC9iPjwvZHQ+XG4gKiA8ZGQ+VGhpcyBlbmNhcHN1bGF0ZXMgdGhlIHBheWxvYWQgb2YgdGhlIG1lc3NhZ2UgYWxvbmcgd2l0aCB2YXJpb3VzIGF0dHJpYnV0ZXNcbiAqIGFzc29jaWF0ZWQgd2l0aCBpdHMgZGVsaXZlcnksIGluIHBhcnRpY3VsYXIgdGhlIGRlc3RpbmF0aW9uIHRvIHdoaWNoIGl0IGhhc1xuICogYmVlbiAob3IgaXMgYWJvdXQgdG8gYmUpIHNlbnQuPC9kZD5cbiAqIDwvZGw+XG4gKiA8cD5cbiAqIFRoZSBwcm9ncmFtbWluZyBpbnRlcmZhY2UgdmFsaWRhdGVzIHBhcmFtZXRlcnMgcGFzc2VkIHRvIGl0LCBhbmQgd2lsbCB0aHJvd1xuICogYW4gRXJyb3IgY29udGFpbmluZyBhbiBlcnJvciBtZXNzYWdlIGludGVuZGVkIGZvciBkZXZlbG9wZXIgdXNlLCBpZiBpdCBkZXRlY3RzXG4gKiBhbiBlcnJvciB3aXRoIGFueSBwYXJhbWV0ZXIuXG4gKiA8cD5cbiAqIEV4YW1wbGU6XG4gKlxuICogPGNvZGU+PHByZT5cbnZhciBjbGllbnQgPSBuZXcgUGFoby5NUVRULkNsaWVudChsb2NhdGlvbi5ob3N0bmFtZSwgTnVtYmVyKGxvY2F0aW9uLnBvcnQpLCBcImNsaWVudElkXCIpO1xuY2xpZW50Lm9uQ29ubmVjdGlvbkxvc3QgPSBvbkNvbm5lY3Rpb25Mb3N0O1xuY2xpZW50Lm9uTWVzc2FnZUFycml2ZWQgPSBvbk1lc3NhZ2VBcnJpdmVkO1xuY2xpZW50LmNvbm5lY3Qoe29uU3VjY2VzczpvbkNvbm5lY3R9KTtcblxuZnVuY3Rpb24gb25Db25uZWN0KCkge1xuICAvLyBPbmNlIGEgY29ubmVjdGlvbiBoYXMgYmVlbiBtYWRlLCBtYWtlIGEgc3Vic2NyaXB0aW9uIGFuZCBzZW5kIGEgbWVzc2FnZS5cbiAgY29uc29sZS5sb2coXCJvbkNvbm5lY3RcIik7XG4gIGNsaWVudC5zdWJzY3JpYmUoXCIvV29ybGRcIik7XG4gIHZhciBtZXNzYWdlID0gbmV3IFBhaG8uTVFUVC5NZXNzYWdlKFwiSGVsbG9cIik7XG4gIG1lc3NhZ2UuZGVzdGluYXRpb25OYW1lID0gXCIvV29ybGRcIjtcbiAgY2xpZW50LnNlbmQobWVzc2FnZSk7XG59O1xuZnVuY3Rpb24gb25Db25uZWN0aW9uTG9zdChyZXNwb25zZU9iamVjdCkge1xuICBpZiAocmVzcG9uc2VPYmplY3QuZXJyb3JDb2RlICE9PSAwKVxuXHRjb25zb2xlLmxvZyhcIm9uQ29ubmVjdGlvbkxvc3Q6XCIrcmVzcG9uc2VPYmplY3QuZXJyb3JNZXNzYWdlKTtcbn07XG5mdW5jdGlvbiBvbk1lc3NhZ2VBcnJpdmVkKG1lc3NhZ2UpIHtcbiAgY29uc29sZS5sb2coXCJvbk1lc3NhZ2VBcnJpdmVkOlwiK21lc3NhZ2UucGF5bG9hZFN0cmluZyk7XG4gIGNsaWVudC5kaXNjb25uZWN0KCk7XG59O1xuICogPC9wcmU+PC9jb2RlPlxuICogQG5hbWVzcGFjZSBQYWhvXG4gKi9cblxuLyoganNoaW50IHNoYWRvdzp0cnVlICovXG4oZnVuY3Rpb24gRXhwb3J0TGlicmFyeShyb290LCBmYWN0b3J5KSB7XG5cdGlmKHR5cGVvZiBleHBvcnRzID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBtb2R1bGUgPT09IFwib2JqZWN0XCIpe1xuXHRcdG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpO1xuXHR9IGVsc2UgaWYgKHR5cGVvZiBkZWZpbmUgPT09IFwiZnVuY3Rpb25cIiAmJiBkZWZpbmUuYW1kKXtcblx0XHRkZWZpbmUoZmFjdG9yeSk7XG5cdH0gZWxzZSBpZiAodHlwZW9mIGV4cG9ydHMgPT09IFwib2JqZWN0XCIpe1xuXHRcdGV4cG9ydHMgPSBmYWN0b3J5KCk7XG5cdH0gZWxzZSB7XG5cdFx0Ly9pZiAodHlwZW9mIHJvb3QuUGFobyA9PT0gXCJ1bmRlZmluZWRcIil7XG5cdFx0Ly9cdHJvb3QuUGFobyA9IHt9O1xuXHRcdC8vfVxuXHRcdHJvb3QuUGFobyA9IGZhY3RvcnkoKTtcblx0fVxufSkodGhpcywgZnVuY3Rpb24gTGlicmFyeUZhY3RvcnkoKXtcblxuXG5cdHZhciBQYWhvTVFUVCA9IChmdW5jdGlvbiAoZ2xvYmFsKSB7XG5cblx0Ly8gUHJpdmF0ZSB2YXJpYWJsZXMgYmVsb3csIHRoZXNlIGFyZSBvbmx5IHZpc2libGUgaW5zaWRlIHRoZSBmdW5jdGlvbiBjbG9zdXJlXG5cdC8vIHdoaWNoIGlzIHVzZWQgdG8gZGVmaW5lIHRoZSBtb2R1bGUuXG5cdHZhciB2ZXJzaW9uID0gXCJAVkVSU0lPTkAtQEJVSUxETEVWRUxAXCI7XG5cblx0LyoqXG5cdCAqIEBwcml2YXRlXG5cdCAqL1xuXHR2YXIgbG9jYWxTdG9yYWdlID0gZ2xvYmFsLmxvY2FsU3RvcmFnZSB8fCAoZnVuY3Rpb24gKCkge1xuXHRcdHZhciBkYXRhID0ge307XG5cblx0XHRyZXR1cm4ge1xuXHRcdFx0c2V0SXRlbTogZnVuY3Rpb24gKGtleSwgaXRlbSkgeyBkYXRhW2tleV0gPSBpdGVtOyB9LFxuXHRcdFx0Z2V0SXRlbTogZnVuY3Rpb24gKGtleSkgeyByZXR1cm4gZGF0YVtrZXldOyB9LFxuXHRcdFx0cmVtb3ZlSXRlbTogZnVuY3Rpb24gKGtleSkgeyBkZWxldGUgZGF0YVtrZXldOyB9LFxuXHRcdH07XG5cdH0pKCk7XG5cblx0XHQvKipcblx0ICogVW5pcXVlIG1lc3NhZ2UgdHlwZSBpZGVudGlmaWVycywgd2l0aCBhc3NvY2lhdGVkXG5cdCAqIGFzc29jaWF0ZWQgaW50ZWdlciB2YWx1ZXMuXG5cdCAqIEBwcml2YXRlXG5cdCAqL1xuXHRcdHZhciBNRVNTQUdFX1RZUEUgPSB7XG5cdFx0XHRDT05ORUNUOiAxLFxuXHRcdFx0Q09OTkFDSzogMixcblx0XHRcdFBVQkxJU0g6IDMsXG5cdFx0XHRQVUJBQ0s6IDQsXG5cdFx0XHRQVUJSRUM6IDUsXG5cdFx0XHRQVUJSRUw6IDYsXG5cdFx0XHRQVUJDT01QOiA3LFxuXHRcdFx0U1VCU0NSSUJFOiA4LFxuXHRcdFx0U1VCQUNLOiA5LFxuXHRcdFx0VU5TVUJTQ1JJQkU6IDEwLFxuXHRcdFx0VU5TVUJBQ0s6IDExLFxuXHRcdFx0UElOR1JFUTogMTIsXG5cdFx0XHRQSU5HUkVTUDogMTMsXG5cdFx0XHRESVNDT05ORUNUOiAxNFxuXHRcdH07XG5cblx0XHQvLyBDb2xsZWN0aW9uIG9mIHV0aWxpdHkgbWV0aG9kcyB1c2VkIHRvIHNpbXBsaWZ5IG1vZHVsZSBjb2RlXG5cdFx0Ly8gYW5kIHByb21vdGUgdGhlIERSWSBwYXR0ZXJuLlxuXG5cdFx0LyoqXG5cdCAqIFZhbGlkYXRlIGFuIG9iamVjdCdzIHBhcmFtZXRlciBuYW1lcyB0byBlbnN1cmUgdGhleVxuXHQgKiBtYXRjaCBhIGxpc3Qgb2YgZXhwZWN0ZWQgdmFyaWFibGVzIG5hbWUgZm9yIHRoaXMgb3B0aW9uXG5cdCAqIHR5cGUuIFVzZWQgdG8gZW5zdXJlIG9wdGlvbiBvYmplY3QgcGFzc2VkIGludG8gdGhlIEFQSSBkb24ndFxuXHQgKiBjb250YWluIGVycm9uZW91cyBwYXJhbWV0ZXJzLlxuXHQgKiBAcGFyYW0ge09iamVjdH0gb2JqIC0gVXNlciBvcHRpb25zIG9iamVjdFxuXHQgKiBAcGFyYW0ge09iamVjdH0ga2V5cyAtIHZhbGlkIGtleXMgYW5kIHR5cGVzIHRoYXQgbWF5IGV4aXN0IGluIG9iai5cblx0ICogQHRocm93cyB7RXJyb3J9IEludmFsaWQgb3B0aW9uIHBhcmFtZXRlciBmb3VuZC5cblx0ICogQHByaXZhdGVcblx0ICovXG5cdFx0dmFyIHZhbGlkYXRlID0gZnVuY3Rpb24ob2JqLCBrZXlzKSB7XG5cdFx0XHRmb3IgKHZhciBrZXkgaW4gb2JqKSB7XG5cdFx0XHRcdGlmIChvYmouaGFzT3duUHJvcGVydHkoa2V5KSkge1xuXHRcdFx0XHRcdGlmIChrZXlzLmhhc093blByb3BlcnR5KGtleSkpIHtcblx0XHRcdFx0XHRcdGlmICh0eXBlb2Ygb2JqW2tleV0gIT09IGtleXNba2V5XSlcblx0XHRcdFx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKGZvcm1hdChFUlJPUi5JTlZBTElEX1RZUEUsIFt0eXBlb2Ygb2JqW2tleV0sIGtleV0pKTtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0dmFyIGVycm9yU3RyID0gXCJVbmtub3duIHByb3BlcnR5LCBcIiArIGtleSArIFwiLiBWYWxpZCBwcm9wZXJ0aWVzIGFyZTpcIjtcblx0XHRcdFx0XHRcdGZvciAodmFyIHZhbGlkS2V5IGluIGtleXMpXG5cdFx0XHRcdFx0XHRcdGlmIChrZXlzLmhhc093blByb3BlcnR5KHZhbGlkS2V5KSlcblx0XHRcdFx0XHRcdFx0XHRlcnJvclN0ciA9IGVycm9yU3RyK1wiIFwiK3ZhbGlkS2V5O1xuXHRcdFx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKGVycm9yU3RyKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9O1xuXG5cdFx0LyoqXG5cdCAqIFJldHVybiBhIG5ldyBmdW5jdGlvbiB3aGljaCBydW5zIHRoZSB1c2VyIGZ1bmN0aW9uIGJvdW5kXG5cdCAqIHRvIGEgZml4ZWQgc2NvcGUuXG5cdCAqIEBwYXJhbSB7ZnVuY3Rpb259IFVzZXIgZnVuY3Rpb25cblx0ICogQHBhcmFtIHtvYmplY3R9IEZ1bmN0aW9uIHNjb3BlXG5cdCAqIEByZXR1cm4ge2Z1bmN0aW9ufSBVc2VyIGZ1bmN0aW9uIGJvdW5kIHRvIGFub3RoZXIgc2NvcGVcblx0ICogQHByaXZhdGVcblx0ICovXG5cdFx0dmFyIHNjb3BlID0gZnVuY3Rpb24gKGYsIHNjb3BlKSB7XG5cdFx0XHRyZXR1cm4gZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRyZXR1cm4gZi5hcHBseShzY29wZSwgYXJndW1lbnRzKTtcblx0XHRcdH07XG5cdFx0fTtcblxuXHRcdC8qKlxuXHQgKiBVbmlxdWUgbWVzc2FnZSB0eXBlIGlkZW50aWZpZXJzLCB3aXRoIGFzc29jaWF0ZWRcblx0ICogYXNzb2NpYXRlZCBpbnRlZ2VyIHZhbHVlcy5cblx0ICogQHByaXZhdGVcblx0ICovXG5cdFx0dmFyIEVSUk9SID0ge1xuXHRcdFx0T0s6IHtjb2RlOjAsIHRleHQ6XCJBTVFKU0MwMDAwSSBPSy5cIn0sXG5cdFx0XHRDT05ORUNUX1RJTUVPVVQ6IHtjb2RlOjEsIHRleHQ6XCJBTVFKU0MwMDAxRSBDb25uZWN0IHRpbWVkIG91dC5cIn0sXG5cdFx0XHRTVUJTQ1JJQkVfVElNRU9VVDoge2NvZGU6MiwgdGV4dDpcIkFNUUpTMDAwMkUgU3Vic2NyaWJlIHRpbWVkIG91dC5cIn0sXG5cdFx0XHRVTlNVQlNDUklCRV9USU1FT1VUOiB7Y29kZTozLCB0ZXh0OlwiQU1RSlMwMDAzRSBVbnN1YnNjcmliZSB0aW1lZCBvdXQuXCJ9LFxuXHRcdFx0UElOR19USU1FT1VUOiB7Y29kZTo0LCB0ZXh0OlwiQU1RSlMwMDA0RSBQaW5nIHRpbWVkIG91dC5cIn0sXG5cdFx0XHRJTlRFUk5BTF9FUlJPUjoge2NvZGU6NSwgdGV4dDpcIkFNUUpTMDAwNUUgSW50ZXJuYWwgZXJyb3IuIEVycm9yIE1lc3NhZ2U6IHswfSwgU3RhY2sgdHJhY2U6IHsxfVwifSxcblx0XHRcdENPTk5BQ0tfUkVUVVJOQ09ERToge2NvZGU6NiwgdGV4dDpcIkFNUUpTMDAwNkUgQmFkIENvbm5hY2sgcmV0dXJuIGNvZGU6ezB9IHsxfS5cIn0sXG5cdFx0XHRTT0NLRVRfRVJST1I6IHtjb2RlOjcsIHRleHQ6XCJBTVFKUzAwMDdFIFNvY2tldCBlcnJvcjp7MH0uXCJ9LFxuXHRcdFx0U09DS0VUX0NMT1NFOiB7Y29kZTo4LCB0ZXh0OlwiQU1RSlMwMDA4SSBTb2NrZXQgY2xvc2VkLlwifSxcblx0XHRcdE1BTEZPUk1FRF9VVEY6IHtjb2RlOjksIHRleHQ6XCJBTVFKUzAwMDlFIE1hbGZvcm1lZCBVVEYgZGF0YTp7MH0gezF9IHsyfS5cIn0sXG5cdFx0XHRVTlNVUFBPUlRFRDoge2NvZGU6MTAsIHRleHQ6XCJBTVFKUzAwMTBFIHswfSBpcyBub3Qgc3VwcG9ydGVkIGJ5IHRoaXMgYnJvd3Nlci5cIn0sXG5cdFx0XHRJTlZBTElEX1NUQVRFOiB7Y29kZToxMSwgdGV4dDpcIkFNUUpTMDAxMUUgSW52YWxpZCBzdGF0ZSB7MH0uXCJ9LFxuXHRcdFx0SU5WQUxJRF9UWVBFOiB7Y29kZToxMiwgdGV4dDpcIkFNUUpTMDAxMkUgSW52YWxpZCB0eXBlIHswfSBmb3IgezF9LlwifSxcblx0XHRcdElOVkFMSURfQVJHVU1FTlQ6IHtjb2RlOjEzLCB0ZXh0OlwiQU1RSlMwMDEzRSBJbnZhbGlkIGFyZ3VtZW50IHswfSBmb3IgezF9LlwifSxcblx0XHRcdFVOU1VQUE9SVEVEX09QRVJBVElPTjoge2NvZGU6MTQsIHRleHQ6XCJBTVFKUzAwMTRFIFVuc3VwcG9ydGVkIG9wZXJhdGlvbi5cIn0sXG5cdFx0XHRJTlZBTElEX1NUT1JFRF9EQVRBOiB7Y29kZToxNSwgdGV4dDpcIkFNUUpTMDAxNUUgSW52YWxpZCBkYXRhIGluIGxvY2FsIHN0b3JhZ2Uga2V5PXswfSB2YWx1ZT17MX0uXCJ9LFxuXHRcdFx0SU5WQUxJRF9NUVRUX01FU1NBR0VfVFlQRToge2NvZGU6MTYsIHRleHQ6XCJBTVFKUzAwMTZFIEludmFsaWQgTVFUVCBtZXNzYWdlIHR5cGUgezB9LlwifSxcblx0XHRcdE1BTEZPUk1FRF9VTklDT0RFOiB7Y29kZToxNywgdGV4dDpcIkFNUUpTMDAxN0UgTWFsZm9ybWVkIFVuaWNvZGUgc3RyaW5nOnswfSB7MX0uXCJ9LFxuXHRcdFx0QlVGRkVSX0ZVTEw6IHtjb2RlOjE4LCB0ZXh0OlwiQU1RSlMwMDE4RSBNZXNzYWdlIGJ1ZmZlciBpcyBmdWxsLCBtYXhpbXVtIGJ1ZmZlciBzaXplOiB7MH0uXCJ9LFxuXHRcdH07XG5cblx0XHQvKiogQ09OTkFDSyBSQyBNZWFuaW5nLiAqL1xuXHRcdHZhciBDT05OQUNLX1JDID0ge1xuXHRcdFx0MDpcIkNvbm5lY3Rpb24gQWNjZXB0ZWRcIixcblx0XHRcdDE6XCJDb25uZWN0aW9uIFJlZnVzZWQ6IHVuYWNjZXB0YWJsZSBwcm90b2NvbCB2ZXJzaW9uXCIsXG5cdFx0XHQyOlwiQ29ubmVjdGlvbiBSZWZ1c2VkOiBpZGVudGlmaWVyIHJlamVjdGVkXCIsXG5cdFx0XHQzOlwiQ29ubmVjdGlvbiBSZWZ1c2VkOiBzZXJ2ZXIgdW5hdmFpbGFibGVcIixcblx0XHRcdDQ6XCJDb25uZWN0aW9uIFJlZnVzZWQ6IGJhZCB1c2VyIG5hbWUgb3IgcGFzc3dvcmRcIixcblx0XHRcdDU6XCJDb25uZWN0aW9uIFJlZnVzZWQ6IG5vdCBhdXRob3JpemVkXCJcblx0XHR9O1xuXG5cdC8qKlxuXHQgKiBGb3JtYXQgYW4gZXJyb3IgbWVzc2FnZSB0ZXh0LlxuXHQgKiBAcHJpdmF0ZVxuXHQgKiBAcGFyYW0ge2Vycm9yfSBFUlJPUiB2YWx1ZSBhYm92ZS5cblx0ICogQHBhcmFtIHtzdWJzdGl0dXRpb25zfSBbYXJyYXldIHN1YnN0aXR1dGVkIGludG8gdGhlIHRleHQuXG5cdCAqIEByZXR1cm4gdGhlIHRleHQgd2l0aCB0aGUgc3Vic3RpdHV0aW9ucyBtYWRlLlxuXHQgKi9cblx0XHR2YXIgZm9ybWF0ID0gZnVuY3Rpb24oZXJyb3IsIHN1YnN0aXR1dGlvbnMpIHtcblx0XHRcdHZhciB0ZXh0ID0gZXJyb3IudGV4dDtcblx0XHRcdGlmIChzdWJzdGl0dXRpb25zKSB7XG5cdFx0XHRcdHZhciBmaWVsZCxzdGFydDtcblx0XHRcdFx0Zm9yICh2YXIgaT0wOyBpPHN1YnN0aXR1dGlvbnMubGVuZ3RoOyBpKyspIHtcblx0XHRcdFx0XHRmaWVsZCA9IFwie1wiK2krXCJ9XCI7XG5cdFx0XHRcdFx0c3RhcnQgPSB0ZXh0LmluZGV4T2YoZmllbGQpO1xuXHRcdFx0XHRcdGlmKHN0YXJ0ID4gMCkge1xuXHRcdFx0XHRcdFx0dmFyIHBhcnQxID0gdGV4dC5zdWJzdHJpbmcoMCxzdGFydCk7XG5cdFx0XHRcdFx0XHR2YXIgcGFydDIgPSB0ZXh0LnN1YnN0cmluZyhzdGFydCtmaWVsZC5sZW5ndGgpO1xuXHRcdFx0XHRcdFx0dGV4dCA9IHBhcnQxK3N1YnN0aXR1dGlvbnNbaV0rcGFydDI7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gdGV4dDtcblx0XHR9O1xuXG5cdFx0Ly9NUVRUIHByb3RvY29sIGFuZCB2ZXJzaW9uICAgICAgICAgIDYgICAgTSAgICBRICAgIEkgICAgcyAgICBkICAgIHAgICAgM1xuXHRcdHZhciBNcXR0UHJvdG9JZGVudGlmaWVydjMgPSBbMHgwMCwweDA2LDB4NGQsMHg1MSwweDQ5LDB4NzMsMHg2NCwweDcwLDB4MDNdO1xuXHRcdC8vTVFUVCBwcm90by92ZXJzaW9uIGZvciAzMTEgICAgICAgICA0ICAgIE0gICAgUSAgICBUICAgIFQgICAgNFxuXHRcdHZhciBNcXR0UHJvdG9JZGVudGlmaWVydjQgPSBbMHgwMCwweDA0LDB4NGQsMHg1MSwweDU0LDB4NTQsMHgwNF07XG5cblx0XHQvKipcblx0ICogQ29uc3RydWN0IGFuIE1RVFQgd2lyZSBwcm90b2NvbCBtZXNzYWdlLlxuXHQgKiBAcGFyYW0gdHlwZSBNUVRUIHBhY2tldCB0eXBlLlxuXHQgKiBAcGFyYW0gb3B0aW9ucyBvcHRpb25hbCB3aXJlIG1lc3NhZ2UgYXR0cmlidXRlcy5cblx0ICpcblx0ICogT3B0aW9uYWwgcHJvcGVydGllc1xuXHQgKlxuXHQgKiBtZXNzYWdlSWRlbnRpZmllcjogbWVzc2FnZSBJRCBpbiB0aGUgcmFuZ2UgWzAuLjY1NTM1XVxuXHQgKiBwYXlsb2FkTWVzc2FnZTpcdEFwcGxpY2F0aW9uIE1lc3NhZ2UgLSBQVUJMSVNIIG9ubHlcblx0ICogY29ubmVjdFN0cmluZ3M6XHRhcnJheSBvZiAwIG9yIG1vcmUgU3RyaW5ncyB0byBiZSBwdXQgaW50byB0aGUgQ09OTkVDVCBwYXlsb2FkXG5cdCAqIHRvcGljczpcdFx0XHRhcnJheSBvZiBzdHJpbmdzIChTVUJTQ1JJQkUsIFVOU1VCU0NSSUJFKVxuXHQgKiByZXF1ZXN0UW9TOlx0XHRhcnJheSBvZiBRb1MgdmFsdWVzIFswLi4yXVxuXHQgKlxuXHQgKiBcIkZsYWdcIiBwcm9wZXJ0aWVzXG5cdCAqIGNsZWFuU2Vzc2lvbjpcdHRydWUgaWYgcHJlc2VudCAvIGZhbHNlIGlmIGFic2VudCAoQ09OTkVDVClcblx0ICogd2lsbE1lc3NhZ2U6ICBcdHRydWUgaWYgcHJlc2VudCAvIGZhbHNlIGlmIGFic2VudCAoQ09OTkVDVClcblx0ICogaXNSZXRhaW5lZDpcdFx0dHJ1ZSBpZiBwcmVzZW50IC8gZmFsc2UgaWYgYWJzZW50IChDT05ORUNUKVxuXHQgKiB1c2VyTmFtZTpcdFx0dHJ1ZSBpZiBwcmVzZW50IC8gZmFsc2UgaWYgYWJzZW50IChDT05ORUNUKVxuXHQgKiBwYXNzd29yZDpcdFx0dHJ1ZSBpZiBwcmVzZW50IC8gZmFsc2UgaWYgYWJzZW50IChDT05ORUNUKVxuXHQgKiBrZWVwQWxpdmVJbnRlcnZhbDpcdGludGVnZXIgWzAuLjY1NTM1XSAgKENPTk5FQ1QpXG5cdCAqXG5cdCAqIEBwcml2YXRlXG5cdCAqIEBpZ25vcmVcblx0ICovXG5cdFx0dmFyIFdpcmVNZXNzYWdlID0gZnVuY3Rpb24gKHR5cGUsIG9wdGlvbnMpIHtcblx0XHRcdHRoaXMudHlwZSA9IHR5cGU7XG5cdFx0XHRmb3IgKHZhciBuYW1lIGluIG9wdGlvbnMpIHtcblx0XHRcdFx0aWYgKG9wdGlvbnMuaGFzT3duUHJvcGVydHkobmFtZSkpIHtcblx0XHRcdFx0XHR0aGlzW25hbWVdID0gb3B0aW9uc1tuYW1lXTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH07XG5cblx0XHRXaXJlTWVzc2FnZS5wcm90b3R5cGUuZW5jb2RlID0gZnVuY3Rpb24oKSB7XG5cdFx0Ly8gQ29tcHV0ZSB0aGUgZmlyc3QgYnl0ZSBvZiB0aGUgZml4ZWQgaGVhZGVyXG5cdFx0XHR2YXIgZmlyc3QgPSAoKHRoaXMudHlwZSAmIDB4MGYpIDw8IDQpO1xuXG5cdFx0XHQvKlxuXHRcdCAqIE5vdyBjYWxjdWxhdGUgdGhlIGxlbmd0aCBvZiB0aGUgdmFyaWFibGUgaGVhZGVyICsgcGF5bG9hZCBieSBhZGRpbmcgdXAgdGhlIGxlbmd0aHNcblx0XHQgKiBvZiBhbGwgdGhlIGNvbXBvbmVudCBwYXJ0c1xuXHRcdCAqL1xuXG5cdFx0XHR2YXIgcmVtTGVuZ3RoID0gMDtcblx0XHRcdHZhciB0b3BpY1N0ckxlbmd0aCA9IFtdO1xuXHRcdFx0dmFyIGRlc3RpbmF0aW9uTmFtZUxlbmd0aCA9IDA7XG5cdFx0XHR2YXIgd2lsbE1lc3NhZ2VQYXlsb2FkQnl0ZXM7XG5cblx0XHRcdC8vIGlmIHRoZSBtZXNzYWdlIGNvbnRhaW5zIGEgbWVzc2FnZUlkZW50aWZpZXIgdGhlbiB3ZSBuZWVkIHR3byBieXRlcyBmb3IgdGhhdFxuXHRcdFx0aWYgKHRoaXMubWVzc2FnZUlkZW50aWZpZXIgIT09IHVuZGVmaW5lZClcblx0XHRcdFx0cmVtTGVuZ3RoICs9IDI7XG5cblx0XHRcdHN3aXRjaCh0aGlzLnR5cGUpIHtcblx0XHRcdC8vIElmIHRoaXMgYSBDb25uZWN0IHRoZW4gd2UgbmVlZCB0byBpbmNsdWRlIDEyIGJ5dGVzIGZvciBpdHMgaGVhZGVyXG5cdFx0XHRjYXNlIE1FU1NBR0VfVFlQRS5DT05ORUNUOlxuXHRcdFx0XHRzd2l0Y2godGhpcy5tcXR0VmVyc2lvbikge1xuXHRcdFx0XHRjYXNlIDM6XG5cdFx0XHRcdFx0cmVtTGVuZ3RoICs9IE1xdHRQcm90b0lkZW50aWZpZXJ2My5sZW5ndGggKyAzO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRjYXNlIDQ6XG5cdFx0XHRcdFx0cmVtTGVuZ3RoICs9IE1xdHRQcm90b0lkZW50aWZpZXJ2NC5sZW5ndGggKyAzO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmVtTGVuZ3RoICs9IFVURjhMZW5ndGgodGhpcy5jbGllbnRJZCkgKyAyO1xuXHRcdFx0XHRpZiAodGhpcy53aWxsTWVzc2FnZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdFx0cmVtTGVuZ3RoICs9IFVURjhMZW5ndGgodGhpcy53aWxsTWVzc2FnZS5kZXN0aW5hdGlvbk5hbWUpICsgMjtcblx0XHRcdFx0XHQvLyBXaWxsIG1lc3NhZ2UgaXMgYWx3YXlzIGEgc3RyaW5nLCBzZW50IGFzIFVURi04IGNoYXJhY3RlcnMgd2l0aCBhIHByZWNlZGluZyBsZW5ndGguXG5cdFx0XHRcdFx0d2lsbE1lc3NhZ2VQYXlsb2FkQnl0ZXMgPSB0aGlzLndpbGxNZXNzYWdlLnBheWxvYWRCeXRlcztcblx0XHRcdFx0XHRpZiAoISh3aWxsTWVzc2FnZVBheWxvYWRCeXRlcyBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkpKVxuXHRcdFx0XHRcdFx0d2lsbE1lc3NhZ2VQYXlsb2FkQnl0ZXMgPSBuZXcgVWludDhBcnJheShwYXlsb2FkQnl0ZXMpO1xuXHRcdFx0XHRcdHJlbUxlbmd0aCArPSB3aWxsTWVzc2FnZVBheWxvYWRCeXRlcy5ieXRlTGVuZ3RoICsyO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGlmICh0aGlzLnVzZXJOYW1lICE9PSB1bmRlZmluZWQpXG5cdFx0XHRcdFx0cmVtTGVuZ3RoICs9IFVURjhMZW5ndGgodGhpcy51c2VyTmFtZSkgKyAyO1xuXHRcdFx0XHRpZiAodGhpcy5wYXNzd29yZCAhPT0gdW5kZWZpbmVkKVxuXHRcdFx0XHRcdHJlbUxlbmd0aCArPSBVVEY4TGVuZ3RoKHRoaXMucGFzc3dvcmQpICsgMjtcblx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdC8vIFN1YnNjcmliZSwgVW5zdWJzY3JpYmUgY2FuIGJvdGggY29udGFpbiB0b3BpYyBzdHJpbmdzXG5cdFx0XHRjYXNlIE1FU1NBR0VfVFlQRS5TVUJTQ1JJQkU6XG5cdFx0XHRcdGZpcnN0IHw9IDB4MDI7IC8vIFFvcyA9IDE7XG5cdFx0XHRcdGZvciAoIHZhciBpID0gMDsgaSA8IHRoaXMudG9waWNzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRcdFx0dG9waWNTdHJMZW5ndGhbaV0gPSBVVEY4TGVuZ3RoKHRoaXMudG9waWNzW2ldKTtcblx0XHRcdFx0XHRyZW1MZW5ndGggKz0gdG9waWNTdHJMZW5ndGhbaV0gKyAyO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHJlbUxlbmd0aCArPSB0aGlzLnJlcXVlc3RlZFFvcy5sZW5ndGg7IC8vIDEgYnl0ZSBmb3IgZWFjaCB0b3BpYydzIFFvc1xuXHRcdFx0XHQvLyBRb1Mgb24gU3Vic2NyaWJlIG9ubHlcblx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdGNhc2UgTUVTU0FHRV9UWVBFLlVOU1VCU0NSSUJFOlxuXHRcdFx0XHRmaXJzdCB8PSAweDAyOyAvLyBRb3MgPSAxO1xuXHRcdFx0XHRmb3IgKCB2YXIgaSA9IDA7IGkgPCB0aGlzLnRvcGljcy5sZW5ndGg7IGkrKykge1xuXHRcdFx0XHRcdHRvcGljU3RyTGVuZ3RoW2ldID0gVVRGOExlbmd0aCh0aGlzLnRvcGljc1tpXSk7XG5cdFx0XHRcdFx0cmVtTGVuZ3RoICs9IHRvcGljU3RyTGVuZ3RoW2ldICsgMjtcblx0XHRcdFx0fVxuXHRcdFx0XHRicmVhaztcblxuXHRcdFx0Y2FzZSBNRVNTQUdFX1RZUEUuUFVCUkVMOlxuXHRcdFx0XHRmaXJzdCB8PSAweDAyOyAvLyBRb3MgPSAxO1xuXHRcdFx0XHRicmVhaztcblxuXHRcdFx0Y2FzZSBNRVNTQUdFX1RZUEUuUFVCTElTSDpcblx0XHRcdFx0aWYgKHRoaXMucGF5bG9hZE1lc3NhZ2UuZHVwbGljYXRlKSBmaXJzdCB8PSAweDA4O1xuXHRcdFx0XHRmaXJzdCAgPSBmaXJzdCB8PSAodGhpcy5wYXlsb2FkTWVzc2FnZS5xb3MgPDwgMSk7XG5cdFx0XHRcdGlmICh0aGlzLnBheWxvYWRNZXNzYWdlLnJldGFpbmVkKSBmaXJzdCB8PSAweDAxO1xuXHRcdFx0XHRkZXN0aW5hdGlvbk5hbWVMZW5ndGggPSBVVEY4TGVuZ3RoKHRoaXMucGF5bG9hZE1lc3NhZ2UuZGVzdGluYXRpb25OYW1lKTtcblx0XHRcdFx0cmVtTGVuZ3RoICs9IGRlc3RpbmF0aW9uTmFtZUxlbmd0aCArIDI7XG5cdFx0XHRcdHZhciBwYXlsb2FkQnl0ZXMgPSB0aGlzLnBheWxvYWRNZXNzYWdlLnBheWxvYWRCeXRlcztcblx0XHRcdFx0cmVtTGVuZ3RoICs9IHBheWxvYWRCeXRlcy5ieXRlTGVuZ3RoO1xuXHRcdFx0XHRpZiAocGF5bG9hZEJ5dGVzIGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpXG5cdFx0XHRcdFx0cGF5bG9hZEJ5dGVzID0gbmV3IFVpbnQ4QXJyYXkocGF5bG9hZEJ5dGVzKTtcblx0XHRcdFx0ZWxzZSBpZiAoIShwYXlsb2FkQnl0ZXMgaW5zdGFuY2VvZiBVaW50OEFycmF5KSlcblx0XHRcdFx0XHRwYXlsb2FkQnl0ZXMgPSBuZXcgVWludDhBcnJheShwYXlsb2FkQnl0ZXMuYnVmZmVyKTtcblx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdGNhc2UgTUVTU0FHRV9UWVBFLkRJU0NPTk5FQ1Q6XG5cdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRkZWZhdWx0OlxuXHRcdFx0XHRicmVhaztcblx0XHRcdH1cblxuXHRcdFx0Ly8gTm93IHdlIGNhbiBhbGxvY2F0ZSBhIGJ1ZmZlciBmb3IgdGhlIG1lc3NhZ2VcblxuXHRcdFx0dmFyIG1iaSA9IGVuY29kZU1CSShyZW1MZW5ndGgpOyAgLy8gQ29udmVydCB0aGUgbGVuZ3RoIHRvIE1RVFQgTUJJIGZvcm1hdFxuXHRcdFx0dmFyIHBvcyA9IG1iaS5sZW5ndGggKyAxOyAgICAgICAgLy8gT2Zmc2V0IG9mIHN0YXJ0IG9mIHZhcmlhYmxlIGhlYWRlclxuXHRcdFx0dmFyIGJ1ZmZlciA9IG5ldyBBcnJheUJ1ZmZlcihyZW1MZW5ndGggKyBwb3MpO1xuXHRcdFx0dmFyIGJ5dGVTdHJlYW0gPSBuZXcgVWludDhBcnJheShidWZmZXIpOyAgICAvLyB2aWV3IGl0IGFzIGEgc2VxdWVuY2Ugb2YgYnl0ZXNcblxuXHRcdFx0Ly9Xcml0ZSB0aGUgZml4ZWQgaGVhZGVyIGludG8gdGhlIGJ1ZmZlclxuXHRcdFx0Ynl0ZVN0cmVhbVswXSA9IGZpcnN0O1xuXHRcdFx0Ynl0ZVN0cmVhbS5zZXQobWJpLDEpO1xuXG5cdFx0XHQvLyBJZiB0aGlzIGlzIGEgUFVCTElTSCB0aGVuIHRoZSB2YXJpYWJsZSBoZWFkZXIgc3RhcnRzIHdpdGggYSB0b3BpY1xuXHRcdFx0aWYgKHRoaXMudHlwZSA9PSBNRVNTQUdFX1RZUEUuUFVCTElTSClcblx0XHRcdFx0cG9zID0gd3JpdGVTdHJpbmcodGhpcy5wYXlsb2FkTWVzc2FnZS5kZXN0aW5hdGlvbk5hbWUsIGRlc3RpbmF0aW9uTmFtZUxlbmd0aCwgYnl0ZVN0cmVhbSwgcG9zKTtcblx0XHRcdC8vIElmIHRoaXMgaXMgYSBDT05ORUNUIHRoZW4gdGhlIHZhcmlhYmxlIGhlYWRlciBjb250YWlucyB0aGUgcHJvdG9jb2wgbmFtZS92ZXJzaW9uLCBmbGFncyBhbmQga2VlcGFsaXZlIHRpbWVcblxuXHRcdFx0ZWxzZSBpZiAodGhpcy50eXBlID09IE1FU1NBR0VfVFlQRS5DT05ORUNUKSB7XG5cdFx0XHRcdHN3aXRjaCAodGhpcy5tcXR0VmVyc2lvbikge1xuXHRcdFx0XHRjYXNlIDM6XG5cdFx0XHRcdFx0Ynl0ZVN0cmVhbS5zZXQoTXF0dFByb3RvSWRlbnRpZmllcnYzLCBwb3MpO1xuXHRcdFx0XHRcdHBvcyArPSBNcXR0UHJvdG9JZGVudGlmaWVydjMubGVuZ3RoO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRjYXNlIDQ6XG5cdFx0XHRcdFx0Ynl0ZVN0cmVhbS5zZXQoTXF0dFByb3RvSWRlbnRpZmllcnY0LCBwb3MpO1xuXHRcdFx0XHRcdHBvcyArPSBNcXR0UHJvdG9JZGVudGlmaWVydjQubGVuZ3RoO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHZhciBjb25uZWN0RmxhZ3MgPSAwO1xuXHRcdFx0XHRpZiAodGhpcy5jbGVhblNlc3Npb24pXG5cdFx0XHRcdFx0Y29ubmVjdEZsYWdzID0gMHgwMjtcblx0XHRcdFx0aWYgKHRoaXMud2lsbE1lc3NhZ2UgIT09IHVuZGVmaW5lZCApIHtcblx0XHRcdFx0XHRjb25uZWN0RmxhZ3MgfD0gMHgwNDtcblx0XHRcdFx0XHRjb25uZWN0RmxhZ3MgfD0gKHRoaXMud2lsbE1lc3NhZ2UucW9zPDwzKTtcblx0XHRcdFx0XHRpZiAodGhpcy53aWxsTWVzc2FnZS5yZXRhaW5lZCkge1xuXHRcdFx0XHRcdFx0Y29ubmVjdEZsYWdzIHw9IDB4MjA7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHRcdGlmICh0aGlzLnVzZXJOYW1lICE9PSB1bmRlZmluZWQpXG5cdFx0XHRcdFx0Y29ubmVjdEZsYWdzIHw9IDB4ODA7XG5cdFx0XHRcdGlmICh0aGlzLnBhc3N3b3JkICE9PSB1bmRlZmluZWQpXG5cdFx0XHRcdFx0Y29ubmVjdEZsYWdzIHw9IDB4NDA7XG5cdFx0XHRcdGJ5dGVTdHJlYW1bcG9zKytdID0gY29ubmVjdEZsYWdzO1xuXHRcdFx0XHRwb3MgPSB3cml0ZVVpbnQxNiAodGhpcy5rZWVwQWxpdmVJbnRlcnZhbCwgYnl0ZVN0cmVhbSwgcG9zKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gT3V0cHV0IHRoZSBtZXNzYWdlSWRlbnRpZmllciAtIGlmIHRoZXJlIGlzIG9uZVxuXHRcdFx0aWYgKHRoaXMubWVzc2FnZUlkZW50aWZpZXIgIT09IHVuZGVmaW5lZClcblx0XHRcdFx0cG9zID0gd3JpdGVVaW50MTYgKHRoaXMubWVzc2FnZUlkZW50aWZpZXIsIGJ5dGVTdHJlYW0sIHBvcyk7XG5cblx0XHRcdHN3aXRjaCh0aGlzLnR5cGUpIHtcblx0XHRcdGNhc2UgTUVTU0FHRV9UWVBFLkNPTk5FQ1Q6XG5cdFx0XHRcdHBvcyA9IHdyaXRlU3RyaW5nKHRoaXMuY2xpZW50SWQsIFVURjhMZW5ndGgodGhpcy5jbGllbnRJZCksIGJ5dGVTdHJlYW0sIHBvcyk7XG5cdFx0XHRcdGlmICh0aGlzLndpbGxNZXNzYWdlICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0XHRwb3MgPSB3cml0ZVN0cmluZyh0aGlzLndpbGxNZXNzYWdlLmRlc3RpbmF0aW9uTmFtZSwgVVRGOExlbmd0aCh0aGlzLndpbGxNZXNzYWdlLmRlc3RpbmF0aW9uTmFtZSksIGJ5dGVTdHJlYW0sIHBvcyk7XG5cdFx0XHRcdFx0cG9zID0gd3JpdGVVaW50MTYod2lsbE1lc3NhZ2VQYXlsb2FkQnl0ZXMuYnl0ZUxlbmd0aCwgYnl0ZVN0cmVhbSwgcG9zKTtcblx0XHRcdFx0XHRieXRlU3RyZWFtLnNldCh3aWxsTWVzc2FnZVBheWxvYWRCeXRlcywgcG9zKTtcblx0XHRcdFx0XHRwb3MgKz0gd2lsbE1lc3NhZ2VQYXlsb2FkQnl0ZXMuYnl0ZUxlbmd0aDtcblxuXHRcdFx0XHR9XG5cdFx0XHRcdGlmICh0aGlzLnVzZXJOYW1lICE9PSB1bmRlZmluZWQpXG5cdFx0XHRcdFx0cG9zID0gd3JpdGVTdHJpbmcodGhpcy51c2VyTmFtZSwgVVRGOExlbmd0aCh0aGlzLnVzZXJOYW1lKSwgYnl0ZVN0cmVhbSwgcG9zKTtcblx0XHRcdFx0aWYgKHRoaXMucGFzc3dvcmQgIT09IHVuZGVmaW5lZClcblx0XHRcdFx0XHRwb3MgPSB3cml0ZVN0cmluZyh0aGlzLnBhc3N3b3JkLCBVVEY4TGVuZ3RoKHRoaXMucGFzc3dvcmQpLCBieXRlU3RyZWFtLCBwb3MpO1xuXHRcdFx0XHRicmVhaztcblxuXHRcdFx0Y2FzZSBNRVNTQUdFX1RZUEUuUFVCTElTSDpcblx0XHRcdFx0Ly8gUFVCTElTSCBoYXMgYSB0ZXh0IG9yIGJpbmFyeSBwYXlsb2FkLCBpZiB0ZXh0IGRvIG5vdCBhZGQgYSAyIGJ5dGUgbGVuZ3RoIGZpZWxkLCBqdXN0IHRoZSBVVEYgY2hhcmFjdGVycy5cblx0XHRcdFx0Ynl0ZVN0cmVhbS5zZXQocGF5bG9hZEJ5dGVzLCBwb3MpO1xuXG5cdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRcdC8vICAgIFx0ICAgIGNhc2UgTUVTU0FHRV9UWVBFLlBVQlJFQzpcblx0XHRcdFx0Ly8gICAgXHQgICAgY2FzZSBNRVNTQUdFX1RZUEUuUFVCUkVMOlxuXHRcdFx0XHQvLyAgICBcdCAgICBjYXNlIE1FU1NBR0VfVFlQRS5QVUJDT01QOlxuXHRcdFx0XHQvLyAgICBcdCAgICBcdGJyZWFrO1xuXG5cdFx0XHRjYXNlIE1FU1NBR0VfVFlQRS5TVUJTQ1JJQkU6XG5cdFx0XHRcdC8vIFNVQlNDUklCRSBoYXMgYSBsaXN0IG9mIHRvcGljIHN0cmluZ3MgYW5kIHJlcXVlc3QgUW9TXG5cdFx0XHRcdGZvciAodmFyIGk9MDsgaTx0aGlzLnRvcGljcy5sZW5ndGg7IGkrKykge1xuXHRcdFx0XHRcdHBvcyA9IHdyaXRlU3RyaW5nKHRoaXMudG9waWNzW2ldLCB0b3BpY1N0ckxlbmd0aFtpXSwgYnl0ZVN0cmVhbSwgcG9zKTtcblx0XHRcdFx0XHRieXRlU3RyZWFtW3BvcysrXSA9IHRoaXMucmVxdWVzdGVkUW9zW2ldO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRjYXNlIE1FU1NBR0VfVFlQRS5VTlNVQlNDUklCRTpcblx0XHRcdFx0Ly8gVU5TVUJTQ1JJQkUgaGFzIGEgbGlzdCBvZiB0b3BpYyBzdHJpbmdzXG5cdFx0XHRcdGZvciAodmFyIGk9MDsgaTx0aGlzLnRvcGljcy5sZW5ndGg7IGkrKylcblx0XHRcdFx0XHRwb3MgPSB3cml0ZVN0cmluZyh0aGlzLnRvcGljc1tpXSwgdG9waWNTdHJMZW5ndGhbaV0sIGJ5dGVTdHJlYW0sIHBvcyk7XG5cdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRkZWZhdWx0OlxuXHRcdFx0XHQvLyBEbyBub3RoaW5nLlxuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gYnVmZmVyO1xuXHRcdH07XG5cblx0XHRmdW5jdGlvbiBkZWNvZGVNZXNzYWdlKGlucHV0LHBvcykge1xuXHRcdFx0dmFyIHN0YXJ0aW5nUG9zID0gcG9zO1xuXHRcdFx0dmFyIGZpcnN0ID0gaW5wdXRbcG9zXTtcblx0XHRcdHZhciB0eXBlID0gZmlyc3QgPj4gNDtcblx0XHRcdHZhciBtZXNzYWdlSW5mbyA9IGZpcnN0ICY9IDB4MGY7XG5cdFx0XHRwb3MgKz0gMTtcblxuXG5cdFx0XHQvLyBEZWNvZGUgdGhlIHJlbWFpbmluZyBsZW5ndGggKE1CSSBmb3JtYXQpXG5cblx0XHRcdHZhciBkaWdpdDtcblx0XHRcdHZhciByZW1MZW5ndGggPSAwO1xuXHRcdFx0dmFyIG11bHRpcGxpZXIgPSAxO1xuXHRcdFx0ZG8ge1xuXHRcdFx0XHRpZiAocG9zID09IGlucHV0Lmxlbmd0aCkge1xuXHRcdFx0XHRcdHJldHVybiBbbnVsbCxzdGFydGluZ1Bvc107XG5cdFx0XHRcdH1cblx0XHRcdFx0ZGlnaXQgPSBpbnB1dFtwb3MrK107XG5cdFx0XHRcdHJlbUxlbmd0aCArPSAoKGRpZ2l0ICYgMHg3RikgKiBtdWx0aXBsaWVyKTtcblx0XHRcdFx0bXVsdGlwbGllciAqPSAxMjg7XG5cdFx0XHR9IHdoaWxlICgoZGlnaXQgJiAweDgwKSAhPT0gMCk7XG5cblx0XHRcdHZhciBlbmRQb3MgPSBwb3MrcmVtTGVuZ3RoO1xuXHRcdFx0aWYgKGVuZFBvcyA+IGlucHV0Lmxlbmd0aCkge1xuXHRcdFx0XHRyZXR1cm4gW251bGwsc3RhcnRpbmdQb3NdO1xuXHRcdFx0fVxuXG5cdFx0XHR2YXIgd2lyZU1lc3NhZ2UgPSBuZXcgV2lyZU1lc3NhZ2UodHlwZSk7XG5cdFx0XHRzd2l0Y2godHlwZSkge1xuXHRcdFx0Y2FzZSBNRVNTQUdFX1RZUEUuQ09OTkFDSzpcblx0XHRcdFx0dmFyIGNvbm5lY3RBY2tub3dsZWRnZUZsYWdzID0gaW5wdXRbcG9zKytdO1xuXHRcdFx0XHRpZiAoY29ubmVjdEFja25vd2xlZGdlRmxhZ3MgJiAweDAxKVxuXHRcdFx0XHRcdHdpcmVNZXNzYWdlLnNlc3Npb25QcmVzZW50ID0gdHJ1ZTtcblx0XHRcdFx0d2lyZU1lc3NhZ2UucmV0dXJuQ29kZSA9IGlucHV0W3BvcysrXTtcblx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdGNhc2UgTUVTU0FHRV9UWVBFLlBVQkxJU0g6XG5cdFx0XHRcdHZhciBxb3MgPSAobWVzc2FnZUluZm8gPj4gMSkgJiAweDAzO1xuXG5cdFx0XHRcdHZhciBsZW4gPSByZWFkVWludDE2KGlucHV0LCBwb3MpO1xuXHRcdFx0XHRwb3MgKz0gMjtcblx0XHRcdFx0dmFyIHRvcGljTmFtZSA9IHBhcnNlVVRGOChpbnB1dCwgcG9zLCBsZW4pO1xuXHRcdFx0XHRwb3MgKz0gbGVuO1xuXHRcdFx0XHQvLyBJZiBRb1MgMSBvciAyIHRoZXJlIHdpbGwgYmUgYSBtZXNzYWdlSWRlbnRpZmllclxuXHRcdFx0XHRpZiAocW9zID4gMCkge1xuXHRcdFx0XHRcdHdpcmVNZXNzYWdlLm1lc3NhZ2VJZGVudGlmaWVyID0gcmVhZFVpbnQxNihpbnB1dCwgcG9zKTtcblx0XHRcdFx0XHRwb3MgKz0gMjtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHZhciBtZXNzYWdlID0gbmV3IE1lc3NhZ2UoaW5wdXQuc3ViYXJyYXkocG9zLCBlbmRQb3MpKTtcblx0XHRcdFx0aWYgKChtZXNzYWdlSW5mbyAmIDB4MDEpID09IDB4MDEpXG5cdFx0XHRcdFx0bWVzc2FnZS5yZXRhaW5lZCA9IHRydWU7XG5cdFx0XHRcdGlmICgobWVzc2FnZUluZm8gJiAweDA4KSA9PSAweDA4KVxuXHRcdFx0XHRcdG1lc3NhZ2UuZHVwbGljYXRlID0gIHRydWU7XG5cdFx0XHRcdG1lc3NhZ2UucW9zID0gcW9zO1xuXHRcdFx0XHRtZXNzYWdlLmRlc3RpbmF0aW9uTmFtZSA9IHRvcGljTmFtZTtcblx0XHRcdFx0d2lyZU1lc3NhZ2UucGF5bG9hZE1lc3NhZ2UgPSBtZXNzYWdlO1xuXHRcdFx0XHRicmVhaztcblxuXHRcdFx0Y2FzZSAgTUVTU0FHRV9UWVBFLlBVQkFDSzpcblx0XHRcdGNhc2UgIE1FU1NBR0VfVFlQRS5QVUJSRUM6XG5cdFx0XHRjYXNlICBNRVNTQUdFX1RZUEUuUFVCUkVMOlxuXHRcdFx0Y2FzZSAgTUVTU0FHRV9UWVBFLlBVQkNPTVA6XG5cdFx0XHRjYXNlICBNRVNTQUdFX1RZUEUuVU5TVUJBQ0s6XG5cdFx0XHRcdHdpcmVNZXNzYWdlLm1lc3NhZ2VJZGVudGlmaWVyID0gcmVhZFVpbnQxNihpbnB1dCwgcG9zKTtcblx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdGNhc2UgIE1FU1NBR0VfVFlQRS5TVUJBQ0s6XG5cdFx0XHRcdHdpcmVNZXNzYWdlLm1lc3NhZ2VJZGVudGlmaWVyID0gcmVhZFVpbnQxNihpbnB1dCwgcG9zKTtcblx0XHRcdFx0cG9zICs9IDI7XG5cdFx0XHRcdHdpcmVNZXNzYWdlLnJldHVybkNvZGUgPSBpbnB1dC5zdWJhcnJheShwb3MsIGVuZFBvcyk7XG5cdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRkZWZhdWx0OlxuXHRcdFx0XHRicmVhaztcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIFt3aXJlTWVzc2FnZSxlbmRQb3NdO1xuXHRcdH1cblxuXHRcdGZ1bmN0aW9uIHdyaXRlVWludDE2KGlucHV0LCBidWZmZXIsIG9mZnNldCkge1xuXHRcdFx0YnVmZmVyW29mZnNldCsrXSA9IGlucHV0ID4+IDg7ICAgICAgLy9NU0Jcblx0XHRcdGJ1ZmZlcltvZmZzZXQrK10gPSBpbnB1dCAlIDI1NjsgICAgIC8vTFNCXG5cdFx0XHRyZXR1cm4gb2Zmc2V0O1xuXHRcdH1cblxuXHRcdGZ1bmN0aW9uIHdyaXRlU3RyaW5nKGlucHV0LCB1dGY4TGVuZ3RoLCBidWZmZXIsIG9mZnNldCkge1xuXHRcdFx0b2Zmc2V0ID0gd3JpdGVVaW50MTYodXRmOExlbmd0aCwgYnVmZmVyLCBvZmZzZXQpO1xuXHRcdFx0c3RyaW5nVG9VVEY4KGlucHV0LCBidWZmZXIsIG9mZnNldCk7XG5cdFx0XHRyZXR1cm4gb2Zmc2V0ICsgdXRmOExlbmd0aDtcblx0XHR9XG5cblx0XHRmdW5jdGlvbiByZWFkVWludDE2KGJ1ZmZlciwgb2Zmc2V0KSB7XG5cdFx0XHRyZXR1cm4gMjU2KmJ1ZmZlcltvZmZzZXRdICsgYnVmZmVyW29mZnNldCsxXTtcblx0XHR9XG5cblx0XHQvKipcblx0ICogRW5jb2RlcyBhbiBNUVRUIE11bHRpLUJ5dGUgSW50ZWdlclxuXHQgKiBAcHJpdmF0ZVxuXHQgKi9cblx0XHRmdW5jdGlvbiBlbmNvZGVNQkkobnVtYmVyKSB7XG5cdFx0XHR2YXIgb3V0cHV0ID0gbmV3IEFycmF5KDEpO1xuXHRcdFx0dmFyIG51bUJ5dGVzID0gMDtcblxuXHRcdFx0ZG8ge1xuXHRcdFx0XHR2YXIgZGlnaXQgPSBudW1iZXIgJSAxMjg7XG5cdFx0XHRcdG51bWJlciA9IG51bWJlciA+PiA3O1xuXHRcdFx0XHRpZiAobnVtYmVyID4gMCkge1xuXHRcdFx0XHRcdGRpZ2l0IHw9IDB4ODA7XG5cdFx0XHRcdH1cblx0XHRcdFx0b3V0cHV0W251bUJ5dGVzKytdID0gZGlnaXQ7XG5cdFx0XHR9IHdoaWxlICggKG51bWJlciA+IDApICYmIChudW1CeXRlczw0KSApO1xuXG5cdFx0XHRyZXR1cm4gb3V0cHV0O1xuXHRcdH1cblxuXHRcdC8qKlxuXHQgKiBUYWtlcyBhIFN0cmluZyBhbmQgY2FsY3VsYXRlcyBpdHMgbGVuZ3RoIGluIGJ5dGVzIHdoZW4gZW5jb2RlZCBpbiBVVEY4LlxuXHQgKiBAcHJpdmF0ZVxuXHQgKi9cblx0XHRmdW5jdGlvbiBVVEY4TGVuZ3RoKGlucHV0KSB7XG5cdFx0XHR2YXIgb3V0cHV0ID0gMDtcblx0XHRcdGZvciAodmFyIGkgPSAwOyBpPGlucHV0Lmxlbmd0aDsgaSsrKVxuXHRcdFx0e1xuXHRcdFx0XHR2YXIgY2hhckNvZGUgPSBpbnB1dC5jaGFyQ29kZUF0KGkpO1xuXHRcdFx0XHRpZiAoY2hhckNvZGUgPiAweDdGRilcblx0XHRcdFx0e1xuXHRcdFx0XHRcdC8vIFN1cnJvZ2F0ZSBwYWlyIG1lYW5zIGl0cyBhIDQgYnl0ZSBjaGFyYWN0ZXJcblx0XHRcdFx0XHRpZiAoMHhEODAwIDw9IGNoYXJDb2RlICYmIGNoYXJDb2RlIDw9IDB4REJGRilcblx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHRpKys7XG5cdFx0XHRcdFx0XHRvdXRwdXQrKztcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0b3V0cHV0ICs9Mztcblx0XHRcdFx0fVxuXHRcdFx0XHRlbHNlIGlmIChjaGFyQ29kZSA+IDB4N0YpXG5cdFx0XHRcdFx0b3V0cHV0ICs9Mjtcblx0XHRcdFx0ZWxzZVxuXHRcdFx0XHRcdG91dHB1dCsrO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIG91dHB1dDtcblx0XHR9XG5cblx0XHQvKipcblx0ICogVGFrZXMgYSBTdHJpbmcgYW5kIHdyaXRlcyBpdCBpbnRvIGFuIGFycmF5IGFzIFVURjggZW5jb2RlZCBieXRlcy5cblx0ICogQHByaXZhdGVcblx0ICovXG5cdFx0ZnVuY3Rpb24gc3RyaW5nVG9VVEY4KGlucHV0LCBvdXRwdXQsIHN0YXJ0KSB7XG5cdFx0XHR2YXIgcG9zID0gc3RhcnQ7XG5cdFx0XHRmb3IgKHZhciBpID0gMDsgaTxpbnB1dC5sZW5ndGg7IGkrKykge1xuXHRcdFx0XHR2YXIgY2hhckNvZGUgPSBpbnB1dC5jaGFyQ29kZUF0KGkpO1xuXG5cdFx0XHRcdC8vIENoZWNrIGZvciBhIHN1cnJvZ2F0ZSBwYWlyLlxuXHRcdFx0XHRpZiAoMHhEODAwIDw9IGNoYXJDb2RlICYmIGNoYXJDb2RlIDw9IDB4REJGRikge1xuXHRcdFx0XHRcdHZhciBsb3dDaGFyQ29kZSA9IGlucHV0LmNoYXJDb2RlQXQoKytpKTtcblx0XHRcdFx0XHRpZiAoaXNOYU4obG93Q2hhckNvZGUpKSB7XG5cdFx0XHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoZm9ybWF0KEVSUk9SLk1BTEZPUk1FRF9VTklDT0RFLCBbY2hhckNvZGUsIGxvd0NoYXJDb2RlXSkpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRjaGFyQ29kZSA9ICgoY2hhckNvZGUgLSAweEQ4MDApPDwxMCkgKyAobG93Q2hhckNvZGUgLSAweERDMDApICsgMHgxMDAwMDtcblxuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKGNoYXJDb2RlIDw9IDB4N0YpIHtcblx0XHRcdFx0XHRvdXRwdXRbcG9zKytdID0gY2hhckNvZGU7XG5cdFx0XHRcdH0gZWxzZSBpZiAoY2hhckNvZGUgPD0gMHg3RkYpIHtcblx0XHRcdFx0XHRvdXRwdXRbcG9zKytdID0gY2hhckNvZGU+PjYgICYgMHgxRiB8IDB4QzA7XG5cdFx0XHRcdFx0b3V0cHV0W3BvcysrXSA9IGNoYXJDb2RlICAgICAmIDB4M0YgfCAweDgwO1xuXHRcdFx0XHR9IGVsc2UgaWYgKGNoYXJDb2RlIDw9IDB4RkZGRikge1xuXHRcdFx0XHRcdG91dHB1dFtwb3MrK10gPSBjaGFyQ29kZT4+MTIgJiAweDBGIHwgMHhFMDtcblx0XHRcdFx0XHRvdXRwdXRbcG9zKytdID0gY2hhckNvZGU+PjYgICYgMHgzRiB8IDB4ODA7XG5cdFx0XHRcdFx0b3V0cHV0W3BvcysrXSA9IGNoYXJDb2RlICAgICAmIDB4M0YgfCAweDgwO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdG91dHB1dFtwb3MrK10gPSBjaGFyQ29kZT4+MTggJiAweDA3IHwgMHhGMDtcblx0XHRcdFx0XHRvdXRwdXRbcG9zKytdID0gY2hhckNvZGU+PjEyICYgMHgzRiB8IDB4ODA7XG5cdFx0XHRcdFx0b3V0cHV0W3BvcysrXSA9IGNoYXJDb2RlPj42ICAmIDB4M0YgfCAweDgwO1xuXHRcdFx0XHRcdG91dHB1dFtwb3MrK10gPSBjaGFyQ29kZSAgICAgJiAweDNGIHwgMHg4MDtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIG91dHB1dDtcblx0XHR9XG5cblx0XHRmdW5jdGlvbiBwYXJzZVVURjgoaW5wdXQsIG9mZnNldCwgbGVuZ3RoKSB7XG5cdFx0XHR2YXIgb3V0cHV0ID0gXCJcIjtcblx0XHRcdHZhciB1dGYxNjtcblx0XHRcdHZhciBwb3MgPSBvZmZzZXQ7XG5cblx0XHRcdHdoaWxlIChwb3MgPCBvZmZzZXQrbGVuZ3RoKVxuXHRcdFx0e1xuXHRcdFx0XHR2YXIgYnl0ZTEgPSBpbnB1dFtwb3MrK107XG5cdFx0XHRcdGlmIChieXRlMSA8IDEyOClcblx0XHRcdFx0XHR1dGYxNiA9IGJ5dGUxO1xuXHRcdFx0XHRlbHNlXG5cdFx0XHRcdHtcblx0XHRcdFx0XHR2YXIgYnl0ZTIgPSBpbnB1dFtwb3MrK10tMTI4O1xuXHRcdFx0XHRcdGlmIChieXRlMiA8IDApXG5cdFx0XHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoZm9ybWF0KEVSUk9SLk1BTEZPUk1FRF9VVEYsIFtieXRlMS50b1N0cmluZygxNiksIGJ5dGUyLnRvU3RyaW5nKDE2KSxcIlwiXSkpO1xuXHRcdFx0XHRcdGlmIChieXRlMSA8IDB4RTApICAgICAgICAgICAgIC8vIDIgYnl0ZSBjaGFyYWN0ZXJcblx0XHRcdFx0XHRcdHV0ZjE2ID0gNjQqKGJ5dGUxLTB4QzApICsgYnl0ZTI7XG5cdFx0XHRcdFx0ZWxzZVxuXHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdHZhciBieXRlMyA9IGlucHV0W3BvcysrXS0xMjg7XG5cdFx0XHRcdFx0XHRpZiAoYnl0ZTMgPCAwKVxuXHRcdFx0XHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoZm9ybWF0KEVSUk9SLk1BTEZPUk1FRF9VVEYsIFtieXRlMS50b1N0cmluZygxNiksIGJ5dGUyLnRvU3RyaW5nKDE2KSwgYnl0ZTMudG9TdHJpbmcoMTYpXSkpO1xuXHRcdFx0XHRcdFx0aWYgKGJ5dGUxIDwgMHhGMCkgICAgICAgIC8vIDMgYnl0ZSBjaGFyYWN0ZXJcblx0XHRcdFx0XHRcdFx0dXRmMTYgPSA0MDk2KihieXRlMS0weEUwKSArIDY0KmJ5dGUyICsgYnl0ZTM7XG5cdFx0XHRcdFx0XHRlbHNlXG5cdFx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHRcdHZhciBieXRlNCA9IGlucHV0W3BvcysrXS0xMjg7XG5cdFx0XHRcdFx0XHRcdGlmIChieXRlNCA8IDApXG5cdFx0XHRcdFx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKGZvcm1hdChFUlJPUi5NQUxGT1JNRURfVVRGLCBbYnl0ZTEudG9TdHJpbmcoMTYpLCBieXRlMi50b1N0cmluZygxNiksIGJ5dGUzLnRvU3RyaW5nKDE2KSwgYnl0ZTQudG9TdHJpbmcoMTYpXSkpO1xuXHRcdFx0XHRcdFx0XHRpZiAoYnl0ZTEgPCAweEY4KSAgICAgICAgLy8gNCBieXRlIGNoYXJhY3RlclxuXHRcdFx0XHRcdFx0XHRcdHV0ZjE2ID0gMjYyMTQ0KihieXRlMS0weEYwKSArIDQwOTYqYnl0ZTIgKyA2NCpieXRlMyArIGJ5dGU0O1xuXHRcdFx0XHRcdFx0XHRlbHNlICAgICAgICAgICAgICAgICAgICAgLy8gbG9uZ2VyIGVuY29kaW5ncyBhcmUgbm90IHN1cHBvcnRlZFxuXHRcdFx0XHRcdFx0XHRcdHRocm93IG5ldyBFcnJvcihmb3JtYXQoRVJST1IuTUFMRk9STUVEX1VURiwgW2J5dGUxLnRvU3RyaW5nKDE2KSwgYnl0ZTIudG9TdHJpbmcoMTYpLCBieXRlMy50b1N0cmluZygxNiksIGJ5dGU0LnRvU3RyaW5nKDE2KV0pKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAodXRmMTYgPiAweEZGRkYpICAgLy8gNCBieXRlIGNoYXJhY3RlciAtIGV4cHJlc3MgYXMgYSBzdXJyb2dhdGUgcGFpclxuXHRcdFx0XHR7XG5cdFx0XHRcdFx0dXRmMTYgLT0gMHgxMDAwMDtcblx0XHRcdFx0XHRvdXRwdXQgKz0gU3RyaW5nLmZyb21DaGFyQ29kZSgweEQ4MDAgKyAodXRmMTYgPj4gMTApKTsgLy8gbGVhZCBjaGFyYWN0ZXJcblx0XHRcdFx0XHR1dGYxNiA9IDB4REMwMCArICh1dGYxNiAmIDB4M0ZGKTsgIC8vIHRyYWlsIGNoYXJhY3RlclxuXHRcdFx0XHR9XG5cdFx0XHRcdG91dHB1dCArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKHV0ZjE2KTtcblx0XHRcdH1cblx0XHRcdHJldHVybiBvdXRwdXQ7XG5cdFx0fVxuXG5cdFx0LyoqXG5cdCAqIFJlcGVhdCBrZWVwYWxpdmUgcmVxdWVzdHMsIG1vbml0b3IgcmVzcG9uc2VzLlxuXHQgKiBAaWdub3JlXG5cdCAqL1xuXHRcdHZhciBQaW5nZXIgPSBmdW5jdGlvbihjbGllbnQsIGtlZXBBbGl2ZUludGVydmFsKSB7XG5cdFx0XHR0aGlzLl9jbGllbnQgPSBjbGllbnQ7XG5cdFx0XHR0aGlzLl9rZWVwQWxpdmVJbnRlcnZhbCA9IGtlZXBBbGl2ZUludGVydmFsKjEwMDA7XG5cdFx0XHR0aGlzLmlzUmVzZXQgPSBmYWxzZTtcblxuXHRcdFx0dmFyIHBpbmdSZXEgPSBuZXcgV2lyZU1lc3NhZ2UoTUVTU0FHRV9UWVBFLlBJTkdSRVEpLmVuY29kZSgpO1xuXG5cdFx0XHR2YXIgZG9UaW1lb3V0ID0gZnVuY3Rpb24gKHBpbmdlcikge1xuXHRcdFx0XHRyZXR1cm4gZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRcdHJldHVybiBkb1BpbmcuYXBwbHkocGluZ2VyKTtcblx0XHRcdFx0fTtcblx0XHRcdH07XG5cblx0XHRcdC8qKiBAaWdub3JlICovXG5cdFx0XHR2YXIgZG9QaW5nID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGlmICghdGhpcy5pc1Jlc2V0KSB7XG5cdFx0XHRcdFx0dGhpcy5fY2xpZW50Ll90cmFjZShcIlBpbmdlci5kb1BpbmdcIiwgXCJUaW1lZCBvdXRcIik7XG5cdFx0XHRcdFx0dGhpcy5fY2xpZW50Ll9kaXNjb25uZWN0ZWQoIEVSUk9SLlBJTkdfVElNRU9VVC5jb2RlICwgZm9ybWF0KEVSUk9SLlBJTkdfVElNRU9VVCkpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHRoaXMuaXNSZXNldCA9IGZhbHNlO1xuXHRcdFx0XHRcdHRoaXMuX2NsaWVudC5fdHJhY2UoXCJQaW5nZXIuZG9QaW5nXCIsIFwic2VuZCBQSU5HUkVRXCIpO1xuXHRcdFx0XHRcdHRoaXMuX2NsaWVudC5zb2NrZXQuc2VuZChwaW5nUmVxKTtcblx0XHRcdFx0XHR0aGlzLnRpbWVvdXQgPSBzZXRUaW1lb3V0KGRvVGltZW91dCh0aGlzKSwgdGhpcy5fa2VlcEFsaXZlSW50ZXJ2YWwpO1xuXHRcdFx0XHR9XG5cdFx0XHR9O1xuXG5cdFx0XHR0aGlzLnJlc2V0ID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHRoaXMuaXNSZXNldCA9IHRydWU7XG5cdFx0XHRcdGNsZWFyVGltZW91dCh0aGlzLnRpbWVvdXQpO1xuXHRcdFx0XHRpZiAodGhpcy5fa2VlcEFsaXZlSW50ZXJ2YWwgPiAwKVxuXHRcdFx0XHRcdHRoaXMudGltZW91dCA9IHNldFRpbWVvdXQoZG9UaW1lb3V0KHRoaXMpLCB0aGlzLl9rZWVwQWxpdmVJbnRlcnZhbCk7XG5cdFx0XHR9O1xuXG5cdFx0XHR0aGlzLmNhbmNlbCA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRjbGVhclRpbWVvdXQodGhpcy50aW1lb3V0KTtcblx0XHRcdH07XG5cdFx0fTtcblxuXHRcdC8qKlxuXHQgKiBNb25pdG9yIHJlcXVlc3QgY29tcGxldGlvbi5cblx0ICogQGlnbm9yZVxuXHQgKi9cblx0XHR2YXIgVGltZW91dCA9IGZ1bmN0aW9uKGNsaWVudCwgdGltZW91dFNlY29uZHMsIGFjdGlvbiwgYXJncykge1xuXHRcdFx0aWYgKCF0aW1lb3V0U2Vjb25kcylcblx0XHRcdFx0dGltZW91dFNlY29uZHMgPSAzMDtcblxuXHRcdFx0dmFyIGRvVGltZW91dCA9IGZ1bmN0aW9uIChhY3Rpb24sIGNsaWVudCwgYXJncykge1xuXHRcdFx0XHRyZXR1cm4gZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRcdHJldHVybiBhY3Rpb24uYXBwbHkoY2xpZW50LCBhcmdzKTtcblx0XHRcdFx0fTtcblx0XHRcdH07XG5cdFx0XHR0aGlzLnRpbWVvdXQgPSBzZXRUaW1lb3V0KGRvVGltZW91dChhY3Rpb24sIGNsaWVudCwgYXJncyksIHRpbWVvdXRTZWNvbmRzICogMTAwMCk7XG5cblx0XHRcdHRoaXMuY2FuY2VsID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGNsZWFyVGltZW91dCh0aGlzLnRpbWVvdXQpO1xuXHRcdFx0fTtcblx0XHR9O1xuXG5cdC8qKlxuXHQgKiBJbnRlcm5hbCBpbXBsZW1lbnRhdGlvbiBvZiB0aGUgV2Vic29ja2V0cyBNUVRUIFYzLjEgY2xpZW50LlxuXHQgKlxuXHQgKiBAbmFtZSBQYWhvLkNsaWVudEltcGwgQGNvbnN0cnVjdG9yXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBob3N0IHRoZSBETlMgbmFtZW9mIHRoZSB3ZWJTb2NrZXQgaG9zdC5cblx0ICogQHBhcmFtIHtOdW1iZXJ9IHBvcnQgdGhlIHBvcnQgbnVtYmVyIGZvciB0aGF0IGhvc3QuXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBjbGllbnRJZCB0aGUgTVEgY2xpZW50IGlkZW50aWZpZXIuXG5cdCAqL1xuXHRcdHZhciBDbGllbnRJbXBsID0gZnVuY3Rpb24gKHVyaSwgaG9zdCwgcG9ydCwgcGF0aCwgY2xpZW50SWQpIHtcblx0XHQvLyBDaGVjayBkZXBlbmRlbmNpZXMgYXJlIHNhdGlzZmllZCBpbiB0aGlzIGJyb3dzZXIuXG5cdFx0XHRpZiAoIShcIldlYlNvY2tldFwiIGluIGdsb2JhbCAmJiBnbG9iYWwuV2ViU29ja2V0ICE9PSBudWxsKSkge1xuXHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoZm9ybWF0KEVSUk9SLlVOU1VQUE9SVEVELCBbXCJXZWJTb2NrZXRcIl0pKTtcblx0XHRcdH1cblx0XHRcdGlmICghKFwiQXJyYXlCdWZmZXJcIiBpbiBnbG9iYWwgJiYgZ2xvYmFsLkFycmF5QnVmZmVyICE9PSBudWxsKSkge1xuXHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoZm9ybWF0KEVSUk9SLlVOU1VQUE9SVEVELCBbXCJBcnJheUJ1ZmZlclwiXSkpO1xuXHRcdFx0fVxuXHRcdFx0dGhpcy5fdHJhY2UoXCJQYWhvLkNsaWVudFwiLCB1cmksIGhvc3QsIHBvcnQsIHBhdGgsIGNsaWVudElkKTtcblxuXHRcdFx0dGhpcy5ob3N0ID0gaG9zdDtcblx0XHRcdHRoaXMucG9ydCA9IHBvcnQ7XG5cdFx0XHR0aGlzLnBhdGggPSBwYXRoO1xuXHRcdFx0dGhpcy51cmkgPSB1cmk7XG5cdFx0XHR0aGlzLmNsaWVudElkID0gY2xpZW50SWQ7XG5cdFx0XHR0aGlzLl93c3VyaSA9IG51bGw7XG5cblx0XHRcdC8vIExvY2FsIHN0b3JhZ2VrZXlzIGFyZSBxdWFsaWZpZWQgd2l0aCB0aGUgZm9sbG93aW5nIHN0cmluZy5cblx0XHRcdC8vIFRoZSBjb25kaXRpb25hbCBpbmNsdXNpb24gb2YgcGF0aCBpbiB0aGUga2V5IGlzIGZvciBiYWNrd2FyZFxuXHRcdFx0Ly8gY29tcGF0aWJpbGl0eSB0byB3aGVuIHRoZSBwYXRoIHdhcyBub3QgY29uZmlndXJhYmxlIGFuZCBhc3N1bWVkIHRvXG5cdFx0XHQvLyBiZSAvbXF0dFxuXHRcdFx0dGhpcy5fbG9jYWxLZXk9aG9zdCtcIjpcIitwb3J0KyhwYXRoIT1cIi9tcXR0XCI/XCI6XCIrcGF0aDpcIlwiKStcIjpcIitjbGllbnRJZCtcIjpcIjtcblxuXHRcdFx0Ly8gQ3JlYXRlIHByaXZhdGUgaW5zdGFuY2Utb25seSBtZXNzYWdlIHF1ZXVlXG5cdFx0XHQvLyBJbnRlcm5hbCBxdWV1ZSBvZiBtZXNzYWdlcyB0byBiZSBzZW50LCBpbiBzZW5kaW5nIG9yZGVyLlxuXHRcdFx0dGhpcy5fbXNnX3F1ZXVlID0gW107XG5cdFx0XHR0aGlzLl9idWZmZXJlZF9tc2dfcXVldWUgPSBbXTtcblxuXHRcdFx0Ly8gTWVzc2FnZXMgd2UgaGF2ZSBzZW50IGFuZCBhcmUgZXhwZWN0aW5nIGEgcmVzcG9uc2UgZm9yLCBpbmRleGVkIGJ5IHRoZWlyIHJlc3BlY3RpdmUgbWVzc2FnZSBpZHMuXG5cdFx0XHR0aGlzLl9zZW50TWVzc2FnZXMgPSB7fTtcblxuXHRcdFx0Ly8gTWVzc2FnZXMgd2UgaGF2ZSByZWNlaXZlZCBhbmQgYWNrbm93bGVnZWQgYW5kIGFyZSBleHBlY3RpbmcgYSBjb25maXJtIG1lc3NhZ2UgZm9yXG5cdFx0XHQvLyBpbmRleGVkIGJ5IHRoZWlyIHJlc3BlY3RpdmUgbWVzc2FnZSBpZHMuXG5cdFx0XHR0aGlzLl9yZWNlaXZlZE1lc3NhZ2VzID0ge307XG5cblx0XHRcdC8vIEludGVybmFsIGxpc3Qgb2YgY2FsbGJhY2tzIHRvIGJlIGV4ZWN1dGVkIHdoZW4gbWVzc2FnZXNcblx0XHRcdC8vIGhhdmUgYmVlbiBzdWNjZXNzZnVsbHkgc2VudCBvdmVyIHdlYiBzb2NrZXQsIGUuZy4gZGlzY29ubmVjdFxuXHRcdFx0Ly8gd2hlbiBpdCBkb2Vzbid0IGhhdmUgdG8gd2FpdCBmb3IgQUNLLCBqdXN0IG1lc3NhZ2UgaXMgZGlzcGF0Y2hlZC5cblx0XHRcdHRoaXMuX25vdGlmeV9tc2dfc2VudCA9IHt9O1xuXG5cdFx0XHQvLyBVbmlxdWUgaWRlbnRpZmllciBmb3IgU0VORCBtZXNzYWdlcywgaW5jcmVtZW50aW5nXG5cdFx0XHQvLyBjb3VudGVyIGFzIG1lc3NhZ2VzIGFyZSBzZW50LlxuXHRcdFx0dGhpcy5fbWVzc2FnZV9pZGVudGlmaWVyID0gMTtcblxuXHRcdFx0Ly8gVXNlZCB0byBkZXRlcm1pbmUgdGhlIHRyYW5zbWlzc2lvbiBzZXF1ZW5jZSBvZiBzdG9yZWQgc2VudCBtZXNzYWdlcy5cblx0XHRcdHRoaXMuX3NlcXVlbmNlID0gMDtcblxuXG5cdFx0XHQvLyBMb2FkIHRoZSBsb2NhbCBzdGF0ZSwgaWYgYW55LCBmcm9tIHRoZSBzYXZlZCB2ZXJzaW9uLCBvbmx5IHJlc3RvcmUgc3RhdGUgcmVsZXZhbnQgdG8gdGhpcyBjbGllbnQuXG5cdFx0XHRmb3IgKHZhciBrZXkgaW4gbG9jYWxTdG9yYWdlKVxuXHRcdFx0XHRpZiAoICAga2V5LmluZGV4T2YoXCJTZW50OlwiK3RoaXMuX2xvY2FsS2V5KSA9PT0gMCB8fCBrZXkuaW5kZXhPZihcIlJlY2VpdmVkOlwiK3RoaXMuX2xvY2FsS2V5KSA9PT0gMClcblx0XHRcdFx0XHR0aGlzLnJlc3RvcmUoa2V5KTtcblx0XHR9O1xuXG5cdFx0Ly8gTWVzc2FnaW5nIENsaWVudCBwdWJsaWMgaW5zdGFuY2UgbWVtYmVycy5cblx0XHRDbGllbnRJbXBsLnByb3RvdHlwZS5ob3N0ID0gbnVsbDtcblx0XHRDbGllbnRJbXBsLnByb3RvdHlwZS5wb3J0ID0gbnVsbDtcblx0XHRDbGllbnRJbXBsLnByb3RvdHlwZS5wYXRoID0gbnVsbDtcblx0XHRDbGllbnRJbXBsLnByb3RvdHlwZS51cmkgPSBudWxsO1xuXHRcdENsaWVudEltcGwucHJvdG90eXBlLmNsaWVudElkID0gbnVsbDtcblxuXHRcdC8vIE1lc3NhZ2luZyBDbGllbnQgcHJpdmF0ZSBpbnN0YW5jZSBtZW1iZXJzLlxuXHRcdENsaWVudEltcGwucHJvdG90eXBlLnNvY2tldCA9IG51bGw7XG5cdFx0LyogdHJ1ZSBvbmNlIHdlIGhhdmUgcmVjZWl2ZWQgYW4gYWNrbm93bGVkZ2VtZW50IHRvIGEgQ09OTkVDVCBwYWNrZXQuICovXG5cdFx0Q2xpZW50SW1wbC5wcm90b3R5cGUuY29ubmVjdGVkID0gZmFsc2U7XG5cdFx0LyogVGhlIGxhcmdlc3QgbWVzc2FnZSBpZGVudGlmaWVyIGFsbG93ZWQsIG1heSBub3QgYmUgbGFyZ2VyIHRoYW4gMioqMTYgYnV0XG5cdFx0ICogaWYgc2V0IHNtYWxsZXIgcmVkdWNlcyB0aGUgbWF4aW11bSBudW1iZXIgb2Ygb3V0Ym91bmQgbWVzc2FnZXMgYWxsb3dlZC5cblx0XHQgKi9cblx0XHRDbGllbnRJbXBsLnByb3RvdHlwZS5tYXhNZXNzYWdlSWRlbnRpZmllciA9IDY1NTM2O1xuXHRcdENsaWVudEltcGwucHJvdG90eXBlLmNvbm5lY3RPcHRpb25zID0gbnVsbDtcblx0XHRDbGllbnRJbXBsLnByb3RvdHlwZS5ob3N0SW5kZXggPSBudWxsO1xuXHRcdENsaWVudEltcGwucHJvdG90eXBlLm9uQ29ubmVjdGVkID0gbnVsbDtcblx0XHRDbGllbnRJbXBsLnByb3RvdHlwZS5vbkNvbm5lY3Rpb25Mb3N0ID0gbnVsbDtcblx0XHRDbGllbnRJbXBsLnByb3RvdHlwZS5vbk1lc3NhZ2VEZWxpdmVyZWQgPSBudWxsO1xuXHRcdENsaWVudEltcGwucHJvdG90eXBlLm9uTWVzc2FnZUFycml2ZWQgPSBudWxsO1xuXHRcdENsaWVudEltcGwucHJvdG90eXBlLnRyYWNlRnVuY3Rpb24gPSBudWxsO1xuXHRcdENsaWVudEltcGwucHJvdG90eXBlLl9tc2dfcXVldWUgPSBudWxsO1xuXHRcdENsaWVudEltcGwucHJvdG90eXBlLl9idWZmZXJlZF9tc2dfcXVldWUgPSBudWxsO1xuXHRcdENsaWVudEltcGwucHJvdG90eXBlLl9jb25uZWN0VGltZW91dCA9IG51bGw7XG5cdFx0LyogVGhlIHNlbmRQaW5nZXIgbW9uaXRvcnMgaG93IGxvbmcgd2UgYWxsb3cgYmVmb3JlIHdlIHNlbmQgZGF0YSB0byBwcm92ZSB0byB0aGUgc2VydmVyIHRoYXQgd2UgYXJlIGFsaXZlLiAqL1xuXHRcdENsaWVudEltcGwucHJvdG90eXBlLnNlbmRQaW5nZXIgPSBudWxsO1xuXHRcdC8qIFRoZSByZWNlaXZlUGluZ2VyIG1vbml0b3JzIGhvdyBsb25nIHdlIGFsbG93IGJlZm9yZSB3ZSByZXF1aXJlIGV2aWRlbmNlIHRoYXQgdGhlIHNlcnZlciBpcyBhbGl2ZS4gKi9cblx0XHRDbGllbnRJbXBsLnByb3RvdHlwZS5yZWNlaXZlUGluZ2VyID0gbnVsbDtcblx0XHRDbGllbnRJbXBsLnByb3RvdHlwZS5fcmVjb25uZWN0SW50ZXJ2YWwgPSAxOyAvLyBSZWNvbm5lY3QgRGVsYXksIHN0YXJ0cyBhdCAxIHNlY29uZFxuXHRcdENsaWVudEltcGwucHJvdG90eXBlLl9yZWNvbm5lY3RpbmcgPSBmYWxzZTtcblx0XHRDbGllbnRJbXBsLnByb3RvdHlwZS5fcmVjb25uZWN0VGltZW91dCA9IG51bGw7XG5cdFx0Q2xpZW50SW1wbC5wcm90b3R5cGUuZGlzY29ubmVjdGVkUHVibGlzaGluZyA9IGZhbHNlO1xuXHRcdENsaWVudEltcGwucHJvdG90eXBlLmRpc2Nvbm5lY3RlZEJ1ZmZlclNpemUgPSA1MDAwO1xuXG5cdFx0Q2xpZW50SW1wbC5wcm90b3R5cGUucmVjZWl2ZUJ1ZmZlciA9IG51bGw7XG5cblx0XHRDbGllbnRJbXBsLnByb3RvdHlwZS5fdHJhY2VCdWZmZXIgPSBudWxsO1xuXHRcdENsaWVudEltcGwucHJvdG90eXBlLl9NQVhfVFJBQ0VfRU5UUklFUyA9IDEwMDtcblxuXHRcdENsaWVudEltcGwucHJvdG90eXBlLmNvbm5lY3QgPSBmdW5jdGlvbiAoY29ubmVjdE9wdGlvbnMpIHtcblx0XHRcdHZhciBjb25uZWN0T3B0aW9uc01hc2tlZCA9IHRoaXMuX3RyYWNlTWFzayhjb25uZWN0T3B0aW9ucywgXCJwYXNzd29yZFwiKTtcblx0XHRcdHRoaXMuX3RyYWNlKFwiQ2xpZW50LmNvbm5lY3RcIiwgY29ubmVjdE9wdGlvbnNNYXNrZWQsIHRoaXMuc29ja2V0LCB0aGlzLmNvbm5lY3RlZCk7XG5cblx0XHRcdGlmICh0aGlzLmNvbm5lY3RlZClcblx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKGZvcm1hdChFUlJPUi5JTlZBTElEX1NUQVRFLCBbXCJhbHJlYWR5IGNvbm5lY3RlZFwiXSkpO1xuXHRcdFx0aWYgKHRoaXMuc29ja2V0KVxuXHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoZm9ybWF0KEVSUk9SLklOVkFMSURfU1RBVEUsIFtcImFscmVhZHkgY29ubmVjdGVkXCJdKSk7XG5cblx0XHRcdGlmICh0aGlzLl9yZWNvbm5lY3RpbmcpIHtcblx0XHRcdC8vIGNvbm5lY3QoKSBmdW5jdGlvbiBpcyBjYWxsZWQgd2hpbGUgcmVjb25uZWN0IGlzIGluIHByb2dyZXNzLlxuXHRcdFx0Ly8gVGVybWluYXRlIHRoZSBhdXRvIHJlY29ubmVjdCBwcm9jZXNzIHRvIHVzZSBuZXcgY29ubmVjdCBvcHRpb25zLlxuXHRcdFx0XHR0aGlzLl9yZWNvbm5lY3RUaW1lb3V0LmNhbmNlbCgpO1xuXHRcdFx0XHR0aGlzLl9yZWNvbm5lY3RUaW1lb3V0ID0gbnVsbDtcblx0XHRcdFx0dGhpcy5fcmVjb25uZWN0aW5nID0gZmFsc2U7XG5cdFx0XHR9XG5cblx0XHRcdHRoaXMuY29ubmVjdE9wdGlvbnMgPSBjb25uZWN0T3B0aW9ucztcblx0XHRcdHRoaXMuX3JlY29ubmVjdEludGVydmFsID0gMTtcblx0XHRcdHRoaXMuX3JlY29ubmVjdGluZyA9IGZhbHNlO1xuXHRcdFx0aWYgKGNvbm5lY3RPcHRpb25zLnVyaXMpIHtcblx0XHRcdFx0dGhpcy5ob3N0SW5kZXggPSAwO1xuXHRcdFx0XHR0aGlzLl9kb0Nvbm5lY3QoY29ubmVjdE9wdGlvbnMudXJpc1swXSk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHR0aGlzLl9kb0Nvbm5lY3QodGhpcy51cmkpO1xuXHRcdFx0fVxuXG5cdFx0fTtcblxuXHRcdENsaWVudEltcGwucHJvdG90eXBlLnN1YnNjcmliZSA9IGZ1bmN0aW9uIChmaWx0ZXIsIHN1YnNjcmliZU9wdGlvbnMpIHtcblx0XHRcdHRoaXMuX3RyYWNlKFwiQ2xpZW50LnN1YnNjcmliZVwiLCBmaWx0ZXIsIHN1YnNjcmliZU9wdGlvbnMpO1xuXG5cdFx0XHRpZiAoIXRoaXMuY29ubmVjdGVkKVxuXHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoZm9ybWF0KEVSUk9SLklOVkFMSURfU1RBVEUsIFtcIm5vdCBjb25uZWN0ZWRcIl0pKTtcblxuICAgICAgICAgICAgdmFyIHdpcmVNZXNzYWdlID0gbmV3IFdpcmVNZXNzYWdlKE1FU1NBR0VfVFlQRS5TVUJTQ1JJQkUpO1xuICAgICAgICAgICAgd2lyZU1lc3NhZ2UudG9waWNzID0gZmlsdGVyLmNvbnN0cnVjdG9yID09PSBBcnJheSA/IGZpbHRlciA6IFtmaWx0ZXJdO1xuICAgICAgICAgICAgaWYgKHN1YnNjcmliZU9wdGlvbnMucW9zID09PSB1bmRlZmluZWQpXG4gICAgICAgICAgICAgICAgc3Vic2NyaWJlT3B0aW9ucy5xb3MgPSAwO1xuICAgICAgICAgICAgd2lyZU1lc3NhZ2UucmVxdWVzdGVkUW9zID0gW107XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHdpcmVNZXNzYWdlLnRvcGljcy5sZW5ndGg7IGkrKylcbiAgICAgICAgICAgICAgICB3aXJlTWVzc2FnZS5yZXF1ZXN0ZWRRb3NbaV0gPSBzdWJzY3JpYmVPcHRpb25zLnFvcztcblxuXHRcdFx0aWYgKHN1YnNjcmliZU9wdGlvbnMub25TdWNjZXNzKSB7XG5cdFx0XHRcdHdpcmVNZXNzYWdlLm9uU3VjY2VzcyA9IGZ1bmN0aW9uKGdyYW50ZWRRb3MpIHtzdWJzY3JpYmVPcHRpb25zLm9uU3VjY2Vzcyh7aW52b2NhdGlvbkNvbnRleHQ6c3Vic2NyaWJlT3B0aW9ucy5pbnZvY2F0aW9uQ29udGV4dCxncmFudGVkUW9zOmdyYW50ZWRRb3N9KTt9O1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoc3Vic2NyaWJlT3B0aW9ucy5vbkZhaWx1cmUpIHtcblx0XHRcdFx0d2lyZU1lc3NhZ2Uub25GYWlsdXJlID0gZnVuY3Rpb24oZXJyb3JDb2RlKSB7c3Vic2NyaWJlT3B0aW9ucy5vbkZhaWx1cmUoe2ludm9jYXRpb25Db250ZXh0OnN1YnNjcmliZU9wdGlvbnMuaW52b2NhdGlvbkNvbnRleHQsZXJyb3JDb2RlOmVycm9yQ29kZSwgZXJyb3JNZXNzYWdlOmZvcm1hdChlcnJvckNvZGUpfSk7fTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKHN1YnNjcmliZU9wdGlvbnMudGltZW91dCkge1xuXHRcdFx0XHR3aXJlTWVzc2FnZS50aW1lT3V0ID0gbmV3IFRpbWVvdXQodGhpcywgc3Vic2NyaWJlT3B0aW9ucy50aW1lb3V0LCBzdWJzY3JpYmVPcHRpb25zLm9uRmFpbHVyZSxcblx0XHRcdFx0XHRbe2ludm9jYXRpb25Db250ZXh0OnN1YnNjcmliZU9wdGlvbnMuaW52b2NhdGlvbkNvbnRleHQsXG5cdFx0XHRcdFx0XHRlcnJvckNvZGU6RVJST1IuU1VCU0NSSUJFX1RJTUVPVVQuY29kZSxcblx0XHRcdFx0XHRcdGVycm9yTWVzc2FnZTpmb3JtYXQoRVJST1IuU1VCU0NSSUJFX1RJTUVPVVQpfV0pO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBBbGwgc3Vic2NyaXB0aW9ucyByZXR1cm4gYSBTVUJBQ0suXG5cdFx0XHR0aGlzLl9yZXF1aXJlc19hY2sod2lyZU1lc3NhZ2UpO1xuXHRcdFx0dGhpcy5fc2NoZWR1bGVfbWVzc2FnZSh3aXJlTWVzc2FnZSk7XG5cdFx0fTtcblxuXHRcdC8qKiBAaWdub3JlICovXG5cdFx0Q2xpZW50SW1wbC5wcm90b3R5cGUudW5zdWJzY3JpYmUgPSBmdW5jdGlvbihmaWx0ZXIsIHVuc3Vic2NyaWJlT3B0aW9ucykge1xuXHRcdFx0dGhpcy5fdHJhY2UoXCJDbGllbnQudW5zdWJzY3JpYmVcIiwgZmlsdGVyLCB1bnN1YnNjcmliZU9wdGlvbnMpO1xuXG5cdFx0XHRpZiAoIXRoaXMuY29ubmVjdGVkKVxuXHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoZm9ybWF0KEVSUk9SLklOVkFMSURfU1RBVEUsIFtcIm5vdCBjb25uZWN0ZWRcIl0pKTtcblxuICAgICAgICAgICAgdmFyIHdpcmVNZXNzYWdlID0gbmV3IFdpcmVNZXNzYWdlKE1FU1NBR0VfVFlQRS5VTlNVQlNDUklCRSk7XG4gICAgICAgICAgICB3aXJlTWVzc2FnZS50b3BpY3MgPSBmaWx0ZXIuY29uc3RydWN0b3IgPT09IEFycmF5ID8gZmlsdGVyIDogW2ZpbHRlcl07XG5cblx0XHRcdGlmICh1bnN1YnNjcmliZU9wdGlvbnMub25TdWNjZXNzKSB7XG5cdFx0XHRcdHdpcmVNZXNzYWdlLmNhbGxiYWNrID0gZnVuY3Rpb24oKSB7dW5zdWJzY3JpYmVPcHRpb25zLm9uU3VjY2Vzcyh7aW52b2NhdGlvbkNvbnRleHQ6dW5zdWJzY3JpYmVPcHRpb25zLmludm9jYXRpb25Db250ZXh0fSk7fTtcblx0XHRcdH1cblx0XHRcdGlmICh1bnN1YnNjcmliZU9wdGlvbnMudGltZW91dCkge1xuXHRcdFx0XHR3aXJlTWVzc2FnZS50aW1lT3V0ID0gbmV3IFRpbWVvdXQodGhpcywgdW5zdWJzY3JpYmVPcHRpb25zLnRpbWVvdXQsIHVuc3Vic2NyaWJlT3B0aW9ucy5vbkZhaWx1cmUsXG5cdFx0XHRcdFx0W3tpbnZvY2F0aW9uQ29udGV4dDp1bnN1YnNjcmliZU9wdGlvbnMuaW52b2NhdGlvbkNvbnRleHQsXG5cdFx0XHRcdFx0XHRlcnJvckNvZGU6RVJST1IuVU5TVUJTQ1JJQkVfVElNRU9VVC5jb2RlLFxuXHRcdFx0XHRcdFx0ZXJyb3JNZXNzYWdlOmZvcm1hdChFUlJPUi5VTlNVQlNDUklCRV9USU1FT1VUKX1dKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gQWxsIHVuc3Vic2NyaWJlcyByZXR1cm4gYSBTVUJBQ0suXG5cdFx0XHR0aGlzLl9yZXF1aXJlc19hY2sod2lyZU1lc3NhZ2UpO1xuXHRcdFx0dGhpcy5fc2NoZWR1bGVfbWVzc2FnZSh3aXJlTWVzc2FnZSk7XG5cdFx0fTtcblxuXHRcdENsaWVudEltcGwucHJvdG90eXBlLnNlbmQgPSBmdW5jdGlvbiAobWVzc2FnZSkge1xuXHRcdFx0dGhpcy5fdHJhY2UoXCJDbGllbnQuc2VuZFwiLCBtZXNzYWdlKTtcblxuXHRcdFx0dmFyIHdpcmVNZXNzYWdlID0gbmV3IFdpcmVNZXNzYWdlKE1FU1NBR0VfVFlQRS5QVUJMSVNIKTtcblx0XHRcdHdpcmVNZXNzYWdlLnBheWxvYWRNZXNzYWdlID0gbWVzc2FnZTtcblxuXHRcdFx0aWYgKHRoaXMuY29ubmVjdGVkKSB7XG5cdFx0XHQvLyBNYXJrIHFvcyAxICYgMiBtZXNzYWdlIGFzIFwiQUNLIHJlcXVpcmVkXCJcblx0XHRcdC8vIEZvciBxb3MgMCBtZXNzYWdlLCBpbnZva2Ugb25NZXNzYWdlRGVsaXZlcmVkIGNhbGxiYWNrIGlmIHRoZXJlIGlzIG9uZS5cblx0XHRcdC8vIFRoZW4gc2NoZWR1bGUgdGhlIG1lc3NhZ2UuXG5cdFx0XHRcdGlmIChtZXNzYWdlLnFvcyA+IDApIHtcblx0XHRcdFx0XHR0aGlzLl9yZXF1aXJlc19hY2sod2lyZU1lc3NhZ2UpO1xuXHRcdFx0XHR9IGVsc2UgaWYgKHRoaXMub25NZXNzYWdlRGVsaXZlcmVkKSB7XG5cdFx0XHRcdFx0dGhpcy5fbm90aWZ5X21zZ19zZW50W3dpcmVNZXNzYWdlXSA9IHRoaXMub25NZXNzYWdlRGVsaXZlcmVkKHdpcmVNZXNzYWdlLnBheWxvYWRNZXNzYWdlKTtcblx0XHRcdFx0fVxuXHRcdFx0XHR0aGlzLl9zY2hlZHVsZV9tZXNzYWdlKHdpcmVNZXNzYWdlKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHQvLyBDdXJyZW50bHkgZGlzY29ubmVjdGVkLCB3aWxsIG5vdCBzY2hlZHVsZSB0aGlzIG1lc3NhZ2Vcblx0XHRcdC8vIENoZWNrIGlmIHJlY29ubmVjdGluZyBpcyBpbiBwcm9ncmVzcyBhbmQgZGlzY29ubmVjdGVkIHB1Ymxpc2ggaXMgZW5hYmxlZC5cblx0XHRcdFx0aWYgKHRoaXMuX3JlY29ubmVjdGluZyAmJiB0aGlzLmRpc2Nvbm5lY3RlZFB1Ymxpc2hpbmcpIHtcblx0XHRcdFx0Ly8gQ2hlY2sgdGhlIGxpbWl0IHdoaWNoIGluY2x1ZGUgdGhlIFwicmVxdWlyZWQgQUNLXCIgbWVzc2FnZXNcblx0XHRcdFx0XHR2YXIgbWVzc2FnZUNvdW50ID0gT2JqZWN0LmtleXModGhpcy5fc2VudE1lc3NhZ2VzKS5sZW5ndGggKyB0aGlzLl9idWZmZXJlZF9tc2dfcXVldWUubGVuZ3RoO1xuXHRcdFx0XHRcdGlmIChtZXNzYWdlQ291bnQgPiB0aGlzLmRpc2Nvbm5lY3RlZEJ1ZmZlclNpemUpIHtcblx0XHRcdFx0XHRcdHRocm93IG5ldyBFcnJvcihmb3JtYXQoRVJST1IuQlVGRkVSX0ZVTEwsIFt0aGlzLmRpc2Nvbm5lY3RlZEJ1ZmZlclNpemVdKSk7XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdGlmIChtZXNzYWdlLnFvcyA+IDApIHtcblx0XHRcdFx0XHRcdC8vIE1hcmsgdGhpcyBtZXNzYWdlIGFzIFwiQUNLIHJlcXVpcmVkXCJcblx0XHRcdFx0XHRcdFx0dGhpcy5fcmVxdWlyZXNfYWNrKHdpcmVNZXNzYWdlKTtcblx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdHdpcmVNZXNzYWdlLnNlcXVlbmNlID0gKyt0aGlzLl9zZXF1ZW5jZTtcblx0XHRcdFx0XHRcdFx0Ly8gQWRkIG1lc3NhZ2VzIGluIGZpZm8gb3JkZXIgdG8gYXJyYXksIGJ5IGFkZGluZyB0byBzdGFydFxuXHRcdFx0XHRcdFx0XHR0aGlzLl9idWZmZXJlZF9tc2dfcXVldWUudW5zaGlmdCh3aXJlTWVzc2FnZSk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHRocm93IG5ldyBFcnJvcihmb3JtYXQoRVJST1IuSU5WQUxJRF9TVEFURSwgW1wibm90IGNvbm5lY3RlZFwiXSkpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fTtcblxuXHRcdENsaWVudEltcGwucHJvdG90eXBlLmRpc2Nvbm5lY3QgPSBmdW5jdGlvbiAoKSB7XG5cdFx0XHR0aGlzLl90cmFjZShcIkNsaWVudC5kaXNjb25uZWN0XCIpO1xuXG5cdFx0XHRpZiAodGhpcy5fcmVjb25uZWN0aW5nKSB7XG5cdFx0XHQvLyBkaXNjb25uZWN0KCkgZnVuY3Rpb24gaXMgY2FsbGVkIHdoaWxlIHJlY29ubmVjdCBpcyBpbiBwcm9ncmVzcy5cblx0XHRcdC8vIFRlcm1pbmF0ZSB0aGUgYXV0byByZWNvbm5lY3QgcHJvY2Vzcy5cblx0XHRcdFx0dGhpcy5fcmVjb25uZWN0VGltZW91dC5jYW5jZWwoKTtcblx0XHRcdFx0dGhpcy5fcmVjb25uZWN0VGltZW91dCA9IG51bGw7XG5cdFx0XHRcdHRoaXMuX3JlY29ubmVjdGluZyA9IGZhbHNlO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoIXRoaXMuc29ja2V0KVxuXHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoZm9ybWF0KEVSUk9SLklOVkFMSURfU1RBVEUsIFtcIm5vdCBjb25uZWN0aW5nIG9yIGNvbm5lY3RlZFwiXSkpO1xuXG5cdFx0XHR2YXIgd2lyZU1lc3NhZ2UgPSBuZXcgV2lyZU1lc3NhZ2UoTUVTU0FHRV9UWVBFLkRJU0NPTk5FQ1QpO1xuXG5cdFx0XHQvLyBSdW4gdGhlIGRpc2Nvbm5lY3RlZCBjYWxsIGJhY2sgYXMgc29vbiBhcyB0aGUgbWVzc2FnZSBoYXMgYmVlbiBzZW50LFxuXHRcdFx0Ly8gaW4gY2FzZSBvZiBhIGZhaWx1cmUgbGF0ZXIgb24gaW4gdGhlIGRpc2Nvbm5lY3QgcHJvY2Vzc2luZy5cblx0XHRcdC8vIGFzIGEgY29uc2VxdWVuY2UsIHRoZSBfZGlzY29uZWN0ZWQgY2FsbCBiYWNrIG1heSBiZSBydW4gc2V2ZXJhbCB0aW1lcy5cblx0XHRcdHRoaXMuX25vdGlmeV9tc2dfc2VudFt3aXJlTWVzc2FnZV0gPSBzY29wZSh0aGlzLl9kaXNjb25uZWN0ZWQsIHRoaXMpO1xuXG5cdFx0XHR0aGlzLl9zY2hlZHVsZV9tZXNzYWdlKHdpcmVNZXNzYWdlKTtcblx0XHR9O1xuXG5cdFx0Q2xpZW50SW1wbC5wcm90b3R5cGUuZ2V0VHJhY2VMb2cgPSBmdW5jdGlvbiAoKSB7XG5cdFx0XHRpZiAoIHRoaXMuX3RyYWNlQnVmZmVyICE9PSBudWxsICkge1xuXHRcdFx0XHR0aGlzLl90cmFjZShcIkNsaWVudC5nZXRUcmFjZUxvZ1wiLCBuZXcgRGF0ZSgpKTtcblx0XHRcdFx0dGhpcy5fdHJhY2UoXCJDbGllbnQuZ2V0VHJhY2VMb2cgaW4gZmxpZ2h0IG1lc3NhZ2VzXCIsIHRoaXMuX3NlbnRNZXNzYWdlcy5sZW5ndGgpO1xuXHRcdFx0XHRmb3IgKHZhciBrZXkgaW4gdGhpcy5fc2VudE1lc3NhZ2VzKVxuXHRcdFx0XHRcdHRoaXMuX3RyYWNlKFwiX3NlbnRNZXNzYWdlcyBcIixrZXksIHRoaXMuX3NlbnRNZXNzYWdlc1trZXldKTtcblx0XHRcdFx0Zm9yICh2YXIga2V5IGluIHRoaXMuX3JlY2VpdmVkTWVzc2FnZXMpXG5cdFx0XHRcdFx0dGhpcy5fdHJhY2UoXCJfcmVjZWl2ZWRNZXNzYWdlcyBcIixrZXksIHRoaXMuX3JlY2VpdmVkTWVzc2FnZXNba2V5XSk7XG5cblx0XHRcdFx0cmV0dXJuIHRoaXMuX3RyYWNlQnVmZmVyO1xuXHRcdFx0fVxuXHRcdH07XG5cblx0XHRDbGllbnRJbXBsLnByb3RvdHlwZS5zdGFydFRyYWNlID0gZnVuY3Rpb24gKCkge1xuXHRcdFx0aWYgKCB0aGlzLl90cmFjZUJ1ZmZlciA9PT0gbnVsbCApIHtcblx0XHRcdFx0dGhpcy5fdHJhY2VCdWZmZXIgPSBbXTtcblx0XHRcdH1cblx0XHRcdHRoaXMuX3RyYWNlKFwiQ2xpZW50LnN0YXJ0VHJhY2VcIiwgbmV3IERhdGUoKSwgdmVyc2lvbik7XG5cdFx0fTtcblxuXHRcdENsaWVudEltcGwucHJvdG90eXBlLnN0b3BUcmFjZSA9IGZ1bmN0aW9uICgpIHtcblx0XHRcdGRlbGV0ZSB0aGlzLl90cmFjZUJ1ZmZlcjtcblx0XHR9O1xuXG5cdFx0Q2xpZW50SW1wbC5wcm90b3R5cGUuX2RvQ29ubmVjdCA9IGZ1bmN0aW9uICh3c3VybCkge1xuXHRcdC8vIFdoZW4gdGhlIHNvY2tldCBpcyBvcGVuLCB0aGlzIGNsaWVudCB3aWxsIHNlbmQgdGhlIENPTk5FQ1QgV2lyZU1lc3NhZ2UgdXNpbmcgdGhlIHNhdmVkIHBhcmFtZXRlcnMuXG5cdFx0XHRpZiAodGhpcy5jb25uZWN0T3B0aW9ucy51c2VTU0wpIHtcblx0XHRcdFx0dmFyIHVyaVBhcnRzID0gd3N1cmwuc3BsaXQoXCI6XCIpO1xuXHRcdFx0XHR1cmlQYXJ0c1swXSA9IFwid3NzXCI7XG5cdFx0XHRcdHdzdXJsID0gdXJpUGFydHMuam9pbihcIjpcIik7XG5cdFx0XHR9XG5cdFx0XHR0aGlzLl93c3VyaSA9IHdzdXJsO1xuXHRcdFx0dGhpcy5jb25uZWN0ZWQgPSBmYWxzZTtcblxuXG5cblx0XHRcdGlmICh0aGlzLmNvbm5lY3RPcHRpb25zLm1xdHRWZXJzaW9uIDwgNCkge1xuXHRcdFx0XHR0aGlzLnNvY2tldCA9IG5ldyBXZWJTb2NrZXQod3N1cmwsIFtcIm1xdHR2My4xXCJdKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHRoaXMuc29ja2V0ID0gbmV3IFdlYlNvY2tldCh3c3VybCwgW1wibXF0dFwiXSk7XG5cdFx0XHR9XG5cdFx0XHR0aGlzLnNvY2tldC5iaW5hcnlUeXBlID0gXCJhcnJheWJ1ZmZlclwiO1xuXHRcdFx0dGhpcy5zb2NrZXQub25vcGVuID0gc2NvcGUodGhpcy5fb25fc29ja2V0X29wZW4sIHRoaXMpO1xuXHRcdFx0dGhpcy5zb2NrZXQub25tZXNzYWdlID0gc2NvcGUodGhpcy5fb25fc29ja2V0X21lc3NhZ2UsIHRoaXMpO1xuXHRcdFx0dGhpcy5zb2NrZXQub25lcnJvciA9IHNjb3BlKHRoaXMuX29uX3NvY2tldF9lcnJvciwgdGhpcyk7XG5cdFx0XHR0aGlzLnNvY2tldC5vbmNsb3NlID0gc2NvcGUodGhpcy5fb25fc29ja2V0X2Nsb3NlLCB0aGlzKTtcblxuXHRcdFx0dGhpcy5zZW5kUGluZ2VyID0gbmV3IFBpbmdlcih0aGlzLCB0aGlzLmNvbm5lY3RPcHRpb25zLmtlZXBBbGl2ZUludGVydmFsKTtcblx0XHRcdHRoaXMucmVjZWl2ZVBpbmdlciA9IG5ldyBQaW5nZXIodGhpcywgdGhpcy5jb25uZWN0T3B0aW9ucy5rZWVwQWxpdmVJbnRlcnZhbCk7XG5cdFx0XHRpZiAodGhpcy5fY29ubmVjdFRpbWVvdXQpIHtcblx0XHRcdFx0dGhpcy5fY29ubmVjdFRpbWVvdXQuY2FuY2VsKCk7XG5cdFx0XHRcdHRoaXMuX2Nvbm5lY3RUaW1lb3V0ID0gbnVsbDtcblx0XHRcdH1cblx0XHRcdHRoaXMuX2Nvbm5lY3RUaW1lb3V0ID0gbmV3IFRpbWVvdXQodGhpcywgdGhpcy5jb25uZWN0T3B0aW9ucy50aW1lb3V0LCB0aGlzLl9kaXNjb25uZWN0ZWQsICBbRVJST1IuQ09OTkVDVF9USU1FT1VULmNvZGUsIGZvcm1hdChFUlJPUi5DT05ORUNUX1RJTUVPVVQpXSk7XG5cdFx0fTtcblxuXG5cdFx0Ly8gU2NoZWR1bGUgYSBuZXcgbWVzc2FnZSB0byBiZSBzZW50IG92ZXIgdGhlIFdlYlNvY2tldHNcblx0XHQvLyBjb25uZWN0aW9uLiBDT05ORUNUIG1lc3NhZ2VzIGNhdXNlIFdlYlNvY2tldCBjb25uZWN0aW9uXG5cdFx0Ly8gdG8gYmUgc3RhcnRlZC4gQWxsIG90aGVyIG1lc3NhZ2VzIGFyZSBxdWV1ZWQgaW50ZXJuYWxseVxuXHRcdC8vIHVudGlsIHRoaXMgaGFzIGhhcHBlbmVkLiBXaGVuIFdTIGNvbm5lY3Rpb24gc3RhcnRzLCBwcm9jZXNzXG5cdFx0Ly8gYWxsIG91dHN0YW5kaW5nIG1lc3NhZ2VzLlxuXHRcdENsaWVudEltcGwucHJvdG90eXBlLl9zY2hlZHVsZV9tZXNzYWdlID0gZnVuY3Rpb24gKG1lc3NhZ2UpIHtcblx0XHRcdC8vIEFkZCBtZXNzYWdlcyBpbiBmaWZvIG9yZGVyIHRvIGFycmF5LCBieSBhZGRpbmcgdG8gc3RhcnRcblx0XHRcdHRoaXMuX21zZ19xdWV1ZS51bnNoaWZ0KG1lc3NhZ2UpO1xuXHRcdFx0Ly8gUHJvY2VzcyBvdXRzdGFuZGluZyBtZXNzYWdlcyBpbiB0aGUgcXVldWUgaWYgd2UgaGF2ZSBhbiAgb3BlbiBzb2NrZXQsIGFuZCBoYXZlIHJlY2VpdmVkIENPTk5BQ0suXG5cdFx0XHRpZiAodGhpcy5jb25uZWN0ZWQpIHtcblx0XHRcdFx0dGhpcy5fcHJvY2Vzc19xdWV1ZSgpO1xuXHRcdFx0fVxuXHRcdH07XG5cblx0XHRDbGllbnRJbXBsLnByb3RvdHlwZS5zdG9yZSA9IGZ1bmN0aW9uKHByZWZpeCwgd2lyZU1lc3NhZ2UpIHtcblx0XHRcdHZhciBzdG9yZWRNZXNzYWdlID0ge3R5cGU6d2lyZU1lc3NhZ2UudHlwZSwgbWVzc2FnZUlkZW50aWZpZXI6d2lyZU1lc3NhZ2UubWVzc2FnZUlkZW50aWZpZXIsIHZlcnNpb246MX07XG5cblx0XHRcdHN3aXRjaCh3aXJlTWVzc2FnZS50eXBlKSB7XG5cdFx0XHRjYXNlIE1FU1NBR0VfVFlQRS5QVUJMSVNIOlxuXHRcdFx0XHRpZih3aXJlTWVzc2FnZS5wdWJSZWNSZWNlaXZlZClcblx0XHRcdFx0XHRzdG9yZWRNZXNzYWdlLnB1YlJlY1JlY2VpdmVkID0gdHJ1ZTtcblxuXHRcdFx0XHQvLyBDb252ZXJ0IHRoZSBwYXlsb2FkIHRvIGEgaGV4IHN0cmluZy5cblx0XHRcdFx0c3RvcmVkTWVzc2FnZS5wYXlsb2FkTWVzc2FnZSA9IHt9O1xuXHRcdFx0XHR2YXIgaGV4ID0gXCJcIjtcblx0XHRcdFx0dmFyIG1lc3NhZ2VCeXRlcyA9IHdpcmVNZXNzYWdlLnBheWxvYWRNZXNzYWdlLnBheWxvYWRCeXRlcztcblx0XHRcdFx0Zm9yICh2YXIgaT0wOyBpPG1lc3NhZ2VCeXRlcy5sZW5ndGg7IGkrKykge1xuXHRcdFx0XHRcdGlmIChtZXNzYWdlQnl0ZXNbaV0gPD0gMHhGKVxuXHRcdFx0XHRcdFx0aGV4ID0gaGV4K1wiMFwiK21lc3NhZ2VCeXRlc1tpXS50b1N0cmluZygxNik7XG5cdFx0XHRcdFx0ZWxzZVxuXHRcdFx0XHRcdFx0aGV4ID0gaGV4K21lc3NhZ2VCeXRlc1tpXS50b1N0cmluZygxNik7XG5cdFx0XHRcdH1cblx0XHRcdFx0c3RvcmVkTWVzc2FnZS5wYXlsb2FkTWVzc2FnZS5wYXlsb2FkSGV4ID0gaGV4O1xuXG5cdFx0XHRcdHN0b3JlZE1lc3NhZ2UucGF5bG9hZE1lc3NhZ2UucW9zID0gd2lyZU1lc3NhZ2UucGF5bG9hZE1lc3NhZ2UucW9zO1xuXHRcdFx0XHRzdG9yZWRNZXNzYWdlLnBheWxvYWRNZXNzYWdlLmRlc3RpbmF0aW9uTmFtZSA9IHdpcmVNZXNzYWdlLnBheWxvYWRNZXNzYWdlLmRlc3RpbmF0aW9uTmFtZTtcblx0XHRcdFx0aWYgKHdpcmVNZXNzYWdlLnBheWxvYWRNZXNzYWdlLmR1cGxpY2F0ZSlcblx0XHRcdFx0XHRzdG9yZWRNZXNzYWdlLnBheWxvYWRNZXNzYWdlLmR1cGxpY2F0ZSA9IHRydWU7XG5cdFx0XHRcdGlmICh3aXJlTWVzc2FnZS5wYXlsb2FkTWVzc2FnZS5yZXRhaW5lZClcblx0XHRcdFx0XHRzdG9yZWRNZXNzYWdlLnBheWxvYWRNZXNzYWdlLnJldGFpbmVkID0gdHJ1ZTtcblxuXHRcdFx0XHQvLyBBZGQgYSBzZXF1ZW5jZSBudW1iZXIgdG8gc2VudCBtZXNzYWdlcy5cblx0XHRcdFx0aWYgKCBwcmVmaXguaW5kZXhPZihcIlNlbnQ6XCIpID09PSAwICkge1xuXHRcdFx0XHRcdGlmICggd2lyZU1lc3NhZ2Uuc2VxdWVuY2UgPT09IHVuZGVmaW5lZCApXG5cdFx0XHRcdFx0XHR3aXJlTWVzc2FnZS5zZXF1ZW5jZSA9ICsrdGhpcy5fc2VxdWVuY2U7XG5cdFx0XHRcdFx0c3RvcmVkTWVzc2FnZS5zZXF1ZW5jZSA9IHdpcmVNZXNzYWdlLnNlcXVlbmNlO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRkZWZhdWx0OlxuXHRcdFx0XHR0aHJvdyBFcnJvcihmb3JtYXQoRVJST1IuSU5WQUxJRF9TVE9SRURfREFUQSwgW3ByZWZpeCt0aGlzLl9sb2NhbEtleSt3aXJlTWVzc2FnZS5tZXNzYWdlSWRlbnRpZmllciwgc3RvcmVkTWVzc2FnZV0pKTtcblx0XHRcdH1cblx0XHRcdGxvY2FsU3RvcmFnZS5zZXRJdGVtKHByZWZpeCt0aGlzLl9sb2NhbEtleSt3aXJlTWVzc2FnZS5tZXNzYWdlSWRlbnRpZmllciwgSlNPTi5zdHJpbmdpZnkoc3RvcmVkTWVzc2FnZSkpO1xuXHRcdH07XG5cblx0XHRDbGllbnRJbXBsLnByb3RvdHlwZS5yZXN0b3JlID0gZnVuY3Rpb24oa2V5KSB7XG5cdFx0XHR2YXIgdmFsdWUgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShrZXkpO1xuXHRcdFx0dmFyIHN0b3JlZE1lc3NhZ2UgPSBKU09OLnBhcnNlKHZhbHVlKTtcblxuXHRcdFx0dmFyIHdpcmVNZXNzYWdlID0gbmV3IFdpcmVNZXNzYWdlKHN0b3JlZE1lc3NhZ2UudHlwZSwgc3RvcmVkTWVzc2FnZSk7XG5cblx0XHRcdHN3aXRjaChzdG9yZWRNZXNzYWdlLnR5cGUpIHtcblx0XHRcdGNhc2UgTUVTU0FHRV9UWVBFLlBVQkxJU0g6XG5cdFx0XHRcdC8vIFJlcGxhY2UgdGhlIHBheWxvYWQgbWVzc2FnZSB3aXRoIGEgTWVzc2FnZSBvYmplY3QuXG5cdFx0XHRcdHZhciBoZXggPSBzdG9yZWRNZXNzYWdlLnBheWxvYWRNZXNzYWdlLnBheWxvYWRIZXg7XG5cdFx0XHRcdHZhciBidWZmZXIgPSBuZXcgQXJyYXlCdWZmZXIoKGhleC5sZW5ndGgpLzIpO1xuXHRcdFx0XHR2YXIgYnl0ZVN0cmVhbSA9IG5ldyBVaW50OEFycmF5KGJ1ZmZlcik7XG5cdFx0XHRcdHZhciBpID0gMDtcblx0XHRcdFx0d2hpbGUgKGhleC5sZW5ndGggPj0gMikge1xuXHRcdFx0XHRcdHZhciB4ID0gcGFyc2VJbnQoaGV4LnN1YnN0cmluZygwLCAyKSwgMTYpO1xuXHRcdFx0XHRcdGhleCA9IGhleC5zdWJzdHJpbmcoMiwgaGV4Lmxlbmd0aCk7XG5cdFx0XHRcdFx0Ynl0ZVN0cmVhbVtpKytdID0geDtcblx0XHRcdFx0fVxuXHRcdFx0XHR2YXIgcGF5bG9hZE1lc3NhZ2UgPSBuZXcgTWVzc2FnZShieXRlU3RyZWFtKTtcblxuXHRcdFx0XHRwYXlsb2FkTWVzc2FnZS5xb3MgPSBzdG9yZWRNZXNzYWdlLnBheWxvYWRNZXNzYWdlLnFvcztcblx0XHRcdFx0cGF5bG9hZE1lc3NhZ2UuZGVzdGluYXRpb25OYW1lID0gc3RvcmVkTWVzc2FnZS5wYXlsb2FkTWVzc2FnZS5kZXN0aW5hdGlvbk5hbWU7XG5cdFx0XHRcdGlmIChzdG9yZWRNZXNzYWdlLnBheWxvYWRNZXNzYWdlLmR1cGxpY2F0ZSlcblx0XHRcdFx0XHRwYXlsb2FkTWVzc2FnZS5kdXBsaWNhdGUgPSB0cnVlO1xuXHRcdFx0XHRpZiAoc3RvcmVkTWVzc2FnZS5wYXlsb2FkTWVzc2FnZS5yZXRhaW5lZClcblx0XHRcdFx0XHRwYXlsb2FkTWVzc2FnZS5yZXRhaW5lZCA9IHRydWU7XG5cdFx0XHRcdHdpcmVNZXNzYWdlLnBheWxvYWRNZXNzYWdlID0gcGF5bG9hZE1lc3NhZ2U7XG5cblx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdGRlZmF1bHQ6XG5cdFx0XHRcdHRocm93IEVycm9yKGZvcm1hdChFUlJPUi5JTlZBTElEX1NUT1JFRF9EQVRBLCBba2V5LCB2YWx1ZV0pKTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKGtleS5pbmRleE9mKFwiU2VudDpcIit0aGlzLl9sb2NhbEtleSkgPT09IDApIHtcblx0XHRcdFx0d2lyZU1lc3NhZ2UucGF5bG9hZE1lc3NhZ2UuZHVwbGljYXRlID0gdHJ1ZTtcblx0XHRcdFx0dGhpcy5fc2VudE1lc3NhZ2VzW3dpcmVNZXNzYWdlLm1lc3NhZ2VJZGVudGlmaWVyXSA9IHdpcmVNZXNzYWdlO1xuXHRcdFx0fSBlbHNlIGlmIChrZXkuaW5kZXhPZihcIlJlY2VpdmVkOlwiK3RoaXMuX2xvY2FsS2V5KSA9PT0gMCkge1xuXHRcdFx0XHR0aGlzLl9yZWNlaXZlZE1lc3NhZ2VzW3dpcmVNZXNzYWdlLm1lc3NhZ2VJZGVudGlmaWVyXSA9IHdpcmVNZXNzYWdlO1xuXHRcdFx0fVxuXHRcdH07XG5cblx0XHRDbGllbnRJbXBsLnByb3RvdHlwZS5fcHJvY2Vzc19xdWV1ZSA9IGZ1bmN0aW9uICgpIHtcblx0XHRcdHZhciBtZXNzYWdlID0gbnVsbDtcblxuXHRcdFx0Ly8gU2VuZCBhbGwgcXVldWVkIG1lc3NhZ2VzIGRvd24gc29ja2V0IGNvbm5lY3Rpb25cblx0XHRcdHdoaWxlICgobWVzc2FnZSA9IHRoaXMuX21zZ19xdWV1ZS5wb3AoKSkpIHtcblx0XHRcdFx0dGhpcy5fc29ja2V0X3NlbmQobWVzc2FnZSk7XG5cdFx0XHRcdC8vIE5vdGlmeSBsaXN0ZW5lcnMgdGhhdCBtZXNzYWdlIHdhcyBzdWNjZXNzZnVsbHkgc2VudFxuXHRcdFx0XHRpZiAodGhpcy5fbm90aWZ5X21zZ19zZW50W21lc3NhZ2VdKSB7XG5cdFx0XHRcdFx0dGhpcy5fbm90aWZ5X21zZ19zZW50W21lc3NhZ2VdKCk7XG5cdFx0XHRcdFx0ZGVsZXRlIHRoaXMuX25vdGlmeV9tc2dfc2VudFttZXNzYWdlXTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH07XG5cblx0XHQvKipcblx0ICogRXhwZWN0IGFuIEFDSyByZXNwb25zZSBmb3IgdGhpcyBtZXNzYWdlLiBBZGQgbWVzc2FnZSB0byB0aGUgc2V0IG9mIGluIHByb2dyZXNzXG5cdCAqIG1lc3NhZ2VzIGFuZCBzZXQgYW4gdW51c2VkIGlkZW50aWZpZXIgaW4gdGhpcyBtZXNzYWdlLlxuXHQgKiBAaWdub3JlXG5cdCAqL1xuXHRcdENsaWVudEltcGwucHJvdG90eXBlLl9yZXF1aXJlc19hY2sgPSBmdW5jdGlvbiAod2lyZU1lc3NhZ2UpIHtcblx0XHRcdHZhciBtZXNzYWdlQ291bnQgPSBPYmplY3Qua2V5cyh0aGlzLl9zZW50TWVzc2FnZXMpLmxlbmd0aDtcblx0XHRcdGlmIChtZXNzYWdlQ291bnQgPiB0aGlzLm1heE1lc3NhZ2VJZGVudGlmaWVyKVxuXHRcdFx0XHR0aHJvdyBFcnJvciAoXCJUb28gbWFueSBtZXNzYWdlczpcIittZXNzYWdlQ291bnQpO1xuXG5cdFx0XHR3aGlsZSh0aGlzLl9zZW50TWVzc2FnZXNbdGhpcy5fbWVzc2FnZV9pZGVudGlmaWVyXSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdHRoaXMuX21lc3NhZ2VfaWRlbnRpZmllcisrO1xuXHRcdFx0fVxuXHRcdFx0d2lyZU1lc3NhZ2UubWVzc2FnZUlkZW50aWZpZXIgPSB0aGlzLl9tZXNzYWdlX2lkZW50aWZpZXI7XG5cdFx0XHR0aGlzLl9zZW50TWVzc2FnZXNbd2lyZU1lc3NhZ2UubWVzc2FnZUlkZW50aWZpZXJdID0gd2lyZU1lc3NhZ2U7XG5cdFx0XHRpZiAod2lyZU1lc3NhZ2UudHlwZSA9PT0gTUVTU0FHRV9UWVBFLlBVQkxJU0gpIHtcblx0XHRcdFx0dGhpcy5zdG9yZShcIlNlbnQ6XCIsIHdpcmVNZXNzYWdlKTtcblx0XHRcdH1cblx0XHRcdGlmICh0aGlzLl9tZXNzYWdlX2lkZW50aWZpZXIgPT09IHRoaXMubWF4TWVzc2FnZUlkZW50aWZpZXIpIHtcblx0XHRcdFx0dGhpcy5fbWVzc2FnZV9pZGVudGlmaWVyID0gMTtcblx0XHRcdH1cblx0XHR9O1xuXG5cdFx0LyoqXG5cdCAqIENhbGxlZCB3aGVuIHRoZSB1bmRlcmx5aW5nIHdlYnNvY2tldCBoYXMgYmVlbiBvcGVuZWQuXG5cdCAqIEBpZ25vcmVcblx0ICovXG5cdFx0Q2xpZW50SW1wbC5wcm90b3R5cGUuX29uX3NvY2tldF9vcGVuID0gZnVuY3Rpb24gKCkge1xuXHRcdC8vIENyZWF0ZSB0aGUgQ09OTkVDVCBtZXNzYWdlIG9iamVjdC5cblx0XHRcdHZhciB3aXJlTWVzc2FnZSA9IG5ldyBXaXJlTWVzc2FnZShNRVNTQUdFX1RZUEUuQ09OTkVDVCwgdGhpcy5jb25uZWN0T3B0aW9ucyk7XG5cdFx0XHR3aXJlTWVzc2FnZS5jbGllbnRJZCA9IHRoaXMuY2xpZW50SWQ7XG5cdFx0XHR0aGlzLl9zb2NrZXRfc2VuZCh3aXJlTWVzc2FnZSk7XG5cdFx0fTtcblxuXHRcdC8qKlxuXHQgKiBDYWxsZWQgd2hlbiB0aGUgdW5kZXJseWluZyB3ZWJzb2NrZXQgaGFzIHJlY2VpdmVkIGEgY29tcGxldGUgcGFja2V0LlxuXHQgKiBAaWdub3JlXG5cdCAqL1xuXHRcdENsaWVudEltcGwucHJvdG90eXBlLl9vbl9zb2NrZXRfbWVzc2FnZSA9IGZ1bmN0aW9uIChldmVudCkge1xuXHRcdFx0dGhpcy5fdHJhY2UoXCJDbGllbnQuX29uX3NvY2tldF9tZXNzYWdlXCIsIGV2ZW50LmRhdGEpO1xuXHRcdFx0dmFyIG1lc3NhZ2VzID0gdGhpcy5fZGVmcmFtZU1lc3NhZ2VzKGV2ZW50LmRhdGEpO1xuXHRcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBtZXNzYWdlcy5sZW5ndGg7IGkrPTEpIHtcblx0XHRcdFx0dGhpcy5faGFuZGxlTWVzc2FnZShtZXNzYWdlc1tpXSk7XG5cdFx0XHR9XG5cdFx0fTtcblxuXHRcdENsaWVudEltcGwucHJvdG90eXBlLl9kZWZyYW1lTWVzc2FnZXMgPSBmdW5jdGlvbihkYXRhKSB7XG5cdFx0XHR2YXIgYnl0ZUFycmF5ID0gbmV3IFVpbnQ4QXJyYXkoZGF0YSk7XG5cdFx0XHR2YXIgbWVzc2FnZXMgPSBbXTtcblx0XHRcdGlmICh0aGlzLnJlY2VpdmVCdWZmZXIpIHtcblx0XHRcdFx0dmFyIG5ld0RhdGEgPSBuZXcgVWludDhBcnJheSh0aGlzLnJlY2VpdmVCdWZmZXIubGVuZ3RoK2J5dGVBcnJheS5sZW5ndGgpO1xuXHRcdFx0XHRuZXdEYXRhLnNldCh0aGlzLnJlY2VpdmVCdWZmZXIpO1xuXHRcdFx0XHRuZXdEYXRhLnNldChieXRlQXJyYXksdGhpcy5yZWNlaXZlQnVmZmVyLmxlbmd0aCk7XG5cdFx0XHRcdGJ5dGVBcnJheSA9IG5ld0RhdGE7XG5cdFx0XHRcdGRlbGV0ZSB0aGlzLnJlY2VpdmVCdWZmZXI7XG5cdFx0XHR9XG5cdFx0XHR0cnkge1xuXHRcdFx0XHR2YXIgb2Zmc2V0ID0gMDtcblx0XHRcdFx0d2hpbGUob2Zmc2V0IDwgYnl0ZUFycmF5Lmxlbmd0aCkge1xuXHRcdFx0XHRcdHZhciByZXN1bHQgPSBkZWNvZGVNZXNzYWdlKGJ5dGVBcnJheSxvZmZzZXQpO1xuXHRcdFx0XHRcdHZhciB3aXJlTWVzc2FnZSA9IHJlc3VsdFswXTtcblx0XHRcdFx0XHRvZmZzZXQgPSByZXN1bHRbMV07XG5cdFx0XHRcdFx0aWYgKHdpcmVNZXNzYWdlICE9PSBudWxsKSB7XG5cdFx0XHRcdFx0XHRtZXNzYWdlcy5wdXNoKHdpcmVNZXNzYWdlKTtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHRcdGlmIChvZmZzZXQgPCBieXRlQXJyYXkubGVuZ3RoKSB7XG5cdFx0XHRcdFx0dGhpcy5yZWNlaXZlQnVmZmVyID0gYnl0ZUFycmF5LnN1YmFycmF5KG9mZnNldCk7XG5cdFx0XHRcdH1cblx0XHRcdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0XHRcdHZhciBlcnJvclN0YWNrID0gKChlcnJvci5oYXNPd25Qcm9wZXJ0eShcInN0YWNrXCIpID09IFwidW5kZWZpbmVkXCIpID8gZXJyb3Iuc3RhY2sudG9TdHJpbmcoKSA6IFwiTm8gRXJyb3IgU3RhY2sgQXZhaWxhYmxlXCIpO1xuXHRcdFx0XHR0aGlzLl9kaXNjb25uZWN0ZWQoRVJST1IuSU5URVJOQUxfRVJST1IuY29kZSAsIGZvcm1hdChFUlJPUi5JTlRFUk5BTF9FUlJPUiwgW2Vycm9yLm1lc3NhZ2UsZXJyb3JTdGFja10pKTtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIG1lc3NhZ2VzO1xuXHRcdH07XG5cblx0XHRDbGllbnRJbXBsLnByb3RvdHlwZS5faGFuZGxlTWVzc2FnZSA9IGZ1bmN0aW9uKHdpcmVNZXNzYWdlKSB7XG5cblx0XHRcdHRoaXMuX3RyYWNlKFwiQ2xpZW50Ll9oYW5kbGVNZXNzYWdlXCIsIHdpcmVNZXNzYWdlKTtcblxuXHRcdFx0dHJ5IHtcblx0XHRcdFx0c3dpdGNoKHdpcmVNZXNzYWdlLnR5cGUpIHtcblx0XHRcdFx0Y2FzZSBNRVNTQUdFX1RZUEUuQ09OTkFDSzpcblx0XHRcdFx0XHR0aGlzLl9jb25uZWN0VGltZW91dC5jYW5jZWwoKTtcblx0XHRcdFx0XHRpZiAodGhpcy5fcmVjb25uZWN0VGltZW91dClcblx0XHRcdFx0XHRcdHRoaXMuX3JlY29ubmVjdFRpbWVvdXQuY2FuY2VsKCk7XG5cblx0XHRcdFx0XHQvLyBJZiB3ZSBoYXZlIHN0YXJ0ZWQgdXNpbmcgY2xlYW4gc2Vzc2lvbiB0aGVuIGNsZWFyIHVwIHRoZSBsb2NhbCBzdGF0ZS5cblx0XHRcdFx0XHRpZiAodGhpcy5jb25uZWN0T3B0aW9ucy5jbGVhblNlc3Npb24pIHtcblx0XHRcdFx0XHRcdGZvciAodmFyIGtleSBpbiB0aGlzLl9zZW50TWVzc2FnZXMpIHtcblx0XHRcdFx0XHRcdFx0dmFyIHNlbnRNZXNzYWdlID0gdGhpcy5fc2VudE1lc3NhZ2VzW2tleV07XG5cdFx0XHRcdFx0XHRcdGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKFwiU2VudDpcIit0aGlzLl9sb2NhbEtleStzZW50TWVzc2FnZS5tZXNzYWdlSWRlbnRpZmllcik7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR0aGlzLl9zZW50TWVzc2FnZXMgPSB7fTtcblxuXHRcdFx0XHRcdFx0Zm9yICh2YXIga2V5IGluIHRoaXMuX3JlY2VpdmVkTWVzc2FnZXMpIHtcblx0XHRcdFx0XHRcdFx0dmFyIHJlY2VpdmVkTWVzc2FnZSA9IHRoaXMuX3JlY2VpdmVkTWVzc2FnZXNba2V5XTtcblx0XHRcdFx0XHRcdFx0bG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oXCJSZWNlaXZlZDpcIit0aGlzLl9sb2NhbEtleStyZWNlaXZlZE1lc3NhZ2UubWVzc2FnZUlkZW50aWZpZXIpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0dGhpcy5fcmVjZWl2ZWRNZXNzYWdlcyA9IHt9O1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHQvLyBDbGllbnQgY29ubmVjdGVkIGFuZCByZWFkeSBmb3IgYnVzaW5lc3MuXG5cdFx0XHRcdFx0aWYgKHdpcmVNZXNzYWdlLnJldHVybkNvZGUgPT09IDApIHtcblxuXHRcdFx0XHRcdFx0dGhpcy5jb25uZWN0ZWQgPSB0cnVlO1xuXHRcdFx0XHRcdFx0Ly8gSnVtcCB0byB0aGUgZW5kIG9mIHRoZSBsaXN0IG9mIHVyaXMgYW5kIHN0b3AgbG9va2luZyBmb3IgYSBnb29kIGhvc3QuXG5cblx0XHRcdFx0XHRcdGlmICh0aGlzLmNvbm5lY3RPcHRpb25zLnVyaXMpXG5cdFx0XHRcdFx0XHRcdHRoaXMuaG9zdEluZGV4ID0gdGhpcy5jb25uZWN0T3B0aW9ucy51cmlzLmxlbmd0aDtcblxuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHR0aGlzLl9kaXNjb25uZWN0ZWQoRVJST1IuQ09OTkFDS19SRVRVUk5DT0RFLmNvZGUgLCBmb3JtYXQoRVJST1IuQ09OTkFDS19SRVRVUk5DT0RFLCBbd2lyZU1lc3NhZ2UucmV0dXJuQ29kZSwgQ09OTkFDS19SQ1t3aXJlTWVzc2FnZS5yZXR1cm5Db2RlXV0pKTtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdC8vIFJlc2VuZCBtZXNzYWdlcy5cblx0XHRcdFx0XHR2YXIgc2VxdWVuY2VkTWVzc2FnZXMgPSBbXTtcblx0XHRcdFx0XHRmb3IgKHZhciBtc2dJZCBpbiB0aGlzLl9zZW50TWVzc2FnZXMpIHtcblx0XHRcdFx0XHRcdGlmICh0aGlzLl9zZW50TWVzc2FnZXMuaGFzT3duUHJvcGVydHkobXNnSWQpKVxuXHRcdFx0XHRcdFx0XHRzZXF1ZW5jZWRNZXNzYWdlcy5wdXNoKHRoaXMuX3NlbnRNZXNzYWdlc1ttc2dJZF0pO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdC8vIEFsc28gc2NoZWR1bGUgcW9zIDAgYnVmZmVyZWQgbWVzc2FnZXMgaWYgYW55XG5cdFx0XHRcdFx0aWYgKHRoaXMuX2J1ZmZlcmVkX21zZ19xdWV1ZS5sZW5ndGggPiAwKSB7XG5cdFx0XHRcdFx0XHR2YXIgbXNnID0gbnVsbDtcblx0XHRcdFx0XHRcdHdoaWxlICgobXNnID0gdGhpcy5fYnVmZmVyZWRfbXNnX3F1ZXVlLnBvcCgpKSkge1xuXHRcdFx0XHRcdFx0XHRzZXF1ZW5jZWRNZXNzYWdlcy5wdXNoKG1zZyk7XG5cdFx0XHRcdFx0XHRcdGlmICh0aGlzLm9uTWVzc2FnZURlbGl2ZXJlZClcblx0XHRcdFx0XHRcdFx0XHR0aGlzLl9ub3RpZnlfbXNnX3NlbnRbbXNnXSA9IHRoaXMub25NZXNzYWdlRGVsaXZlcmVkKG1zZy5wYXlsb2FkTWVzc2FnZSk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Ly8gU29ydCBzZW50TWVzc2FnZXMgaW50byB0aGUgb3JpZ2luYWwgc2VudCBvcmRlci5cblx0XHRcdFx0XHR2YXIgc2VxdWVuY2VkTWVzc2FnZXMgPSBzZXF1ZW5jZWRNZXNzYWdlcy5zb3J0KGZ1bmN0aW9uKGEsYikge3JldHVybiBhLnNlcXVlbmNlIC0gYi5zZXF1ZW5jZTt9ICk7XG5cdFx0XHRcdFx0Zm9yICh2YXIgaT0wLCBsZW49c2VxdWVuY2VkTWVzc2FnZXMubGVuZ3RoOyBpPGxlbjsgaSsrKSB7XG5cdFx0XHRcdFx0XHR2YXIgc2VudE1lc3NhZ2UgPSBzZXF1ZW5jZWRNZXNzYWdlc1tpXTtcblx0XHRcdFx0XHRcdGlmIChzZW50TWVzc2FnZS50eXBlID09IE1FU1NBR0VfVFlQRS5QVUJMSVNIICYmIHNlbnRNZXNzYWdlLnB1YlJlY1JlY2VpdmVkKSB7XG5cdFx0XHRcdFx0XHRcdHZhciBwdWJSZWxNZXNzYWdlID0gbmV3IFdpcmVNZXNzYWdlKE1FU1NBR0VfVFlQRS5QVUJSRUwsIHttZXNzYWdlSWRlbnRpZmllcjpzZW50TWVzc2FnZS5tZXNzYWdlSWRlbnRpZmllcn0pO1xuXHRcdFx0XHRcdFx0XHR0aGlzLl9zY2hlZHVsZV9tZXNzYWdlKHB1YlJlbE1lc3NhZ2UpO1xuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0dGhpcy5fc2NoZWR1bGVfbWVzc2FnZShzZW50TWVzc2FnZSk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Ly8gRXhlY3V0ZSB0aGUgY29ubmVjdE9wdGlvbnMub25TdWNjZXNzIGNhbGxiYWNrIGlmIHRoZXJlIGlzIG9uZS5cblx0XHRcdFx0XHQvLyBXaWxsIGFsc28gbm93IHJldHVybiBpZiB0aGlzIGNvbm5lY3Rpb24gd2FzIHRoZSByZXN1bHQgb2YgYW4gYXV0b21hdGljXG5cdFx0XHRcdFx0Ly8gcmVjb25uZWN0IGFuZCB3aGljaCBVUkkgd2FzIHN1Y2Nlc3NmdWxseSBjb25uZWN0ZWQgdG8uXG5cdFx0XHRcdFx0aWYgKHRoaXMuY29ubmVjdE9wdGlvbnMub25TdWNjZXNzKSB7XG5cdFx0XHRcdFx0XHR0aGlzLmNvbm5lY3RPcHRpb25zLm9uU3VjY2Vzcyh7aW52b2NhdGlvbkNvbnRleHQ6dGhpcy5jb25uZWN0T3B0aW9ucy5pbnZvY2F0aW9uQ29udGV4dH0pO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHZhciByZWNvbm5lY3RlZCA9IGZhbHNlO1xuXHRcdFx0XHRcdGlmICh0aGlzLl9yZWNvbm5lY3RpbmcpIHtcblx0XHRcdFx0XHRcdHJlY29ubmVjdGVkID0gdHJ1ZTtcblx0XHRcdFx0XHRcdHRoaXMuX3JlY29ubmVjdEludGVydmFsID0gMTtcblx0XHRcdFx0XHRcdHRoaXMuX3JlY29ubmVjdGluZyA9IGZhbHNlO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdC8vIEV4ZWN1dGUgdGhlIG9uQ29ubmVjdGVkIGNhbGxiYWNrIGlmIHRoZXJlIGlzIG9uZS5cblx0XHRcdFx0XHR0aGlzLl9jb25uZWN0ZWQocmVjb25uZWN0ZWQsIHRoaXMuX3dzdXJpKTtcblxuXHRcdFx0XHRcdC8vIFByb2Nlc3MgYWxsIHF1ZXVlZCBtZXNzYWdlcyBub3cgdGhhdCB0aGUgY29ubmVjdGlvbiBpcyBlc3RhYmxpc2hlZC5cblx0XHRcdFx0XHR0aGlzLl9wcm9jZXNzX3F1ZXVlKCk7XG5cdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0Y2FzZSBNRVNTQUdFX1RZUEUuUFVCTElTSDpcblx0XHRcdFx0XHR0aGlzLl9yZWNlaXZlUHVibGlzaCh3aXJlTWVzc2FnZSk7XG5cdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0Y2FzZSBNRVNTQUdFX1RZUEUuUFVCQUNLOlxuXHRcdFx0XHRcdHZhciBzZW50TWVzc2FnZSA9IHRoaXMuX3NlbnRNZXNzYWdlc1t3aXJlTWVzc2FnZS5tZXNzYWdlSWRlbnRpZmllcl07XG5cdFx0XHRcdFx0Ly8gSWYgdGhpcyBpcyBhIHJlIGZsb3cgb2YgYSBQVUJBQ0sgYWZ0ZXIgd2UgaGF2ZSByZXN0YXJ0ZWQgcmVjZWl2ZWRNZXNzYWdlIHdpbGwgbm90IGV4aXN0LlxuXHRcdFx0XHRcdGlmIChzZW50TWVzc2FnZSkge1xuXHRcdFx0XHRcdFx0ZGVsZXRlIHRoaXMuX3NlbnRNZXNzYWdlc1t3aXJlTWVzc2FnZS5tZXNzYWdlSWRlbnRpZmllcl07XG5cdFx0XHRcdFx0XHRsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShcIlNlbnQ6XCIrdGhpcy5fbG9jYWxLZXkrd2lyZU1lc3NhZ2UubWVzc2FnZUlkZW50aWZpZXIpO1xuXHRcdFx0XHRcdFx0aWYgKHRoaXMub25NZXNzYWdlRGVsaXZlcmVkKVxuXHRcdFx0XHRcdFx0XHR0aGlzLm9uTWVzc2FnZURlbGl2ZXJlZChzZW50TWVzc2FnZS5wYXlsb2FkTWVzc2FnZSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRcdGNhc2UgTUVTU0FHRV9UWVBFLlBVQlJFQzpcblx0XHRcdFx0XHR2YXIgc2VudE1lc3NhZ2UgPSB0aGlzLl9zZW50TWVzc2FnZXNbd2lyZU1lc3NhZ2UubWVzc2FnZUlkZW50aWZpZXJdO1xuXHRcdFx0XHRcdC8vIElmIHRoaXMgaXMgYSByZSBmbG93IG9mIGEgUFVCUkVDIGFmdGVyIHdlIGhhdmUgcmVzdGFydGVkIHJlY2VpdmVkTWVzc2FnZSB3aWxsIG5vdCBleGlzdC5cblx0XHRcdFx0XHRpZiAoc2VudE1lc3NhZ2UpIHtcblx0XHRcdFx0XHRcdHNlbnRNZXNzYWdlLnB1YlJlY1JlY2VpdmVkID0gdHJ1ZTtcblx0XHRcdFx0XHRcdHZhciBwdWJSZWxNZXNzYWdlID0gbmV3IFdpcmVNZXNzYWdlKE1FU1NBR0VfVFlQRS5QVUJSRUwsIHttZXNzYWdlSWRlbnRpZmllcjp3aXJlTWVzc2FnZS5tZXNzYWdlSWRlbnRpZmllcn0pO1xuXHRcdFx0XHRcdFx0dGhpcy5zdG9yZShcIlNlbnQ6XCIsIHNlbnRNZXNzYWdlKTtcblx0XHRcdFx0XHRcdHRoaXMuX3NjaGVkdWxlX21lc3NhZ2UocHViUmVsTWVzc2FnZSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRcdGNhc2UgTUVTU0FHRV9UWVBFLlBVQlJFTDpcblx0XHRcdFx0XHR2YXIgcmVjZWl2ZWRNZXNzYWdlID0gdGhpcy5fcmVjZWl2ZWRNZXNzYWdlc1t3aXJlTWVzc2FnZS5tZXNzYWdlSWRlbnRpZmllcl07XG5cdFx0XHRcdFx0bG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oXCJSZWNlaXZlZDpcIit0aGlzLl9sb2NhbEtleSt3aXJlTWVzc2FnZS5tZXNzYWdlSWRlbnRpZmllcik7XG5cdFx0XHRcdFx0Ly8gSWYgdGhpcyBpcyBhIHJlIGZsb3cgb2YgYSBQVUJSRUwgYWZ0ZXIgd2UgaGF2ZSByZXN0YXJ0ZWQgcmVjZWl2ZWRNZXNzYWdlIHdpbGwgbm90IGV4aXN0LlxuXHRcdFx0XHRcdGlmIChyZWNlaXZlZE1lc3NhZ2UpIHtcblx0XHRcdFx0XHRcdHRoaXMuX3JlY2VpdmVNZXNzYWdlKHJlY2VpdmVkTWVzc2FnZSk7XG5cdFx0XHRcdFx0XHRkZWxldGUgdGhpcy5fcmVjZWl2ZWRNZXNzYWdlc1t3aXJlTWVzc2FnZS5tZXNzYWdlSWRlbnRpZmllcl07XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdC8vIEFsd2F5cyBmbG93IFB1YkNvbXAsIHdlIG1heSBoYXZlIHByZXZpb3VzbHkgZmxvd2VkIFB1YkNvbXAgYnV0IHRoZSBzZXJ2ZXIgbG9zdCBpdCBhbmQgcmVzdGFydGVkLlxuXHRcdFx0XHRcdHZhciBwdWJDb21wTWVzc2FnZSA9IG5ldyBXaXJlTWVzc2FnZShNRVNTQUdFX1RZUEUuUFVCQ09NUCwge21lc3NhZ2VJZGVudGlmaWVyOndpcmVNZXNzYWdlLm1lc3NhZ2VJZGVudGlmaWVyfSk7XG5cdFx0XHRcdFx0dGhpcy5fc2NoZWR1bGVfbWVzc2FnZShwdWJDb21wTWVzc2FnZSk7XG5cblxuXHRcdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRcdGNhc2UgTUVTU0FHRV9UWVBFLlBVQkNPTVA6XG5cdFx0XHRcdFx0dmFyIHNlbnRNZXNzYWdlID0gdGhpcy5fc2VudE1lc3NhZ2VzW3dpcmVNZXNzYWdlLm1lc3NhZ2VJZGVudGlmaWVyXTtcblx0XHRcdFx0XHRkZWxldGUgdGhpcy5fc2VudE1lc3NhZ2VzW3dpcmVNZXNzYWdlLm1lc3NhZ2VJZGVudGlmaWVyXTtcblx0XHRcdFx0XHRsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShcIlNlbnQ6XCIrdGhpcy5fbG9jYWxLZXkrd2lyZU1lc3NhZ2UubWVzc2FnZUlkZW50aWZpZXIpO1xuXHRcdFx0XHRcdGlmICh0aGlzLm9uTWVzc2FnZURlbGl2ZXJlZClcblx0XHRcdFx0XHRcdHRoaXMub25NZXNzYWdlRGVsaXZlcmVkKHNlbnRNZXNzYWdlLnBheWxvYWRNZXNzYWdlKTtcblx0XHRcdFx0XHRicmVhaztcblxuXHRcdFx0XHRjYXNlIE1FU1NBR0VfVFlQRS5TVUJBQ0s6XG5cdFx0XHRcdFx0dmFyIHNlbnRNZXNzYWdlID0gdGhpcy5fc2VudE1lc3NhZ2VzW3dpcmVNZXNzYWdlLm1lc3NhZ2VJZGVudGlmaWVyXTtcblx0XHRcdFx0XHRpZiAoc2VudE1lc3NhZ2UpIHtcblx0XHRcdFx0XHRcdGlmKHNlbnRNZXNzYWdlLnRpbWVPdXQpXG5cdFx0XHRcdFx0XHRcdHNlbnRNZXNzYWdlLnRpbWVPdXQuY2FuY2VsKCk7XG5cdFx0XHRcdFx0XHQvLyBUaGlzIHdpbGwgbmVlZCB0byBiZSBmaXhlZCB3aGVuIHdlIGFkZCBtdWx0aXBsZSB0b3BpYyBzdXBwb3J0XG5cdFx0XHRcdFx0XHRpZiAod2lyZU1lc3NhZ2UucmV0dXJuQ29kZVswXSA9PT0gMHg4MCkge1xuXHRcdFx0XHRcdFx0XHRpZiAoc2VudE1lc3NhZ2Uub25GYWlsdXJlKSB7XG5cdFx0XHRcdFx0XHRcdFx0c2VudE1lc3NhZ2Uub25GYWlsdXJlKHdpcmVNZXNzYWdlLnJldHVybkNvZGUpO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9IGVsc2UgaWYgKHNlbnRNZXNzYWdlLm9uU3VjY2Vzcykge1xuXHRcdFx0XHRcdFx0XHRzZW50TWVzc2FnZS5vblN1Y2Nlc3Mod2lyZU1lc3NhZ2UucmV0dXJuQ29kZSk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRkZWxldGUgdGhpcy5fc2VudE1lc3NhZ2VzW3dpcmVNZXNzYWdlLm1lc3NhZ2VJZGVudGlmaWVyXTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0Y2FzZSBNRVNTQUdFX1RZUEUuVU5TVUJBQ0s6XG5cdFx0XHRcdFx0dmFyIHNlbnRNZXNzYWdlID0gdGhpcy5fc2VudE1lc3NhZ2VzW3dpcmVNZXNzYWdlLm1lc3NhZ2VJZGVudGlmaWVyXTtcblx0XHRcdFx0XHRpZiAoc2VudE1lc3NhZ2UpIHtcblx0XHRcdFx0XHRcdGlmIChzZW50TWVzc2FnZS50aW1lT3V0KVxuXHRcdFx0XHRcdFx0XHRzZW50TWVzc2FnZS50aW1lT3V0LmNhbmNlbCgpO1xuXHRcdFx0XHRcdFx0aWYgKHNlbnRNZXNzYWdlLmNhbGxiYWNrKSB7XG5cdFx0XHRcdFx0XHRcdHNlbnRNZXNzYWdlLmNhbGxiYWNrKCk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRkZWxldGUgdGhpcy5fc2VudE1lc3NhZ2VzW3dpcmVNZXNzYWdlLm1lc3NhZ2VJZGVudGlmaWVyXTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRicmVhaztcblxuXHRcdFx0XHRjYXNlIE1FU1NBR0VfVFlQRS5QSU5HUkVTUDpcblx0XHRcdFx0LyogVGhlIHNlbmRQaW5nZXIgb3IgcmVjZWl2ZVBpbmdlciBtYXkgaGF2ZSBzZW50IGEgcGluZywgdGhlIHJlY2VpdmVQaW5nZXIgaGFzIGFscmVhZHkgYmVlbiByZXNldC4gKi9cblx0XHRcdFx0XHR0aGlzLnNlbmRQaW5nZXIucmVzZXQoKTtcblx0XHRcdFx0XHRicmVhaztcblxuXHRcdFx0XHRjYXNlIE1FU1NBR0VfVFlQRS5ESVNDT05ORUNUOlxuXHRcdFx0XHQvLyBDbGllbnRzIGRvIG5vdCBleHBlY3QgdG8gcmVjZWl2ZSBkaXNjb25uZWN0IHBhY2tldHMuXG5cdFx0XHRcdFx0dGhpcy5fZGlzY29ubmVjdGVkKEVSUk9SLklOVkFMSURfTVFUVF9NRVNTQUdFX1RZUEUuY29kZSAsIGZvcm1hdChFUlJPUi5JTlZBTElEX01RVFRfTUVTU0FHRV9UWVBFLCBbd2lyZU1lc3NhZ2UudHlwZV0pKTtcblx0XHRcdFx0XHRicmVhaztcblxuXHRcdFx0XHRkZWZhdWx0OlxuXHRcdFx0XHRcdHRoaXMuX2Rpc2Nvbm5lY3RlZChFUlJPUi5JTlZBTElEX01RVFRfTUVTU0FHRV9UWVBFLmNvZGUgLCBmb3JtYXQoRVJST1IuSU5WQUxJRF9NUVRUX01FU1NBR0VfVFlQRSwgW3dpcmVNZXNzYWdlLnR5cGVdKSk7XG5cdFx0XHRcdH1cblx0XHRcdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0XHRcdHZhciBlcnJvclN0YWNrID0gKChlcnJvci5oYXNPd25Qcm9wZXJ0eShcInN0YWNrXCIpID09IFwidW5kZWZpbmVkXCIpID8gZXJyb3Iuc3RhY2sudG9TdHJpbmcoKSA6IFwiTm8gRXJyb3IgU3RhY2sgQXZhaWxhYmxlXCIpO1xuXHRcdFx0XHR0aGlzLl9kaXNjb25uZWN0ZWQoRVJST1IuSU5URVJOQUxfRVJST1IuY29kZSAsIGZvcm1hdChFUlJPUi5JTlRFUk5BTF9FUlJPUiwgW2Vycm9yLm1lc3NhZ2UsZXJyb3JTdGFja10pKTtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXHRcdH07XG5cblx0XHQvKiogQGlnbm9yZSAqL1xuXHRcdENsaWVudEltcGwucHJvdG90eXBlLl9vbl9zb2NrZXRfZXJyb3IgPSBmdW5jdGlvbiAoZXJyb3IpIHtcblx0XHRcdGlmICghdGhpcy5fcmVjb25uZWN0aW5nKSB7XG5cdFx0XHRcdHRoaXMuX2Rpc2Nvbm5lY3RlZChFUlJPUi5TT0NLRVRfRVJST1IuY29kZSAsIGZvcm1hdChFUlJPUi5TT0NLRVRfRVJST1IsIFtlcnJvci5kYXRhXSkpO1xuXHRcdFx0fVxuXHRcdH07XG5cblx0XHQvKiogQGlnbm9yZSAqL1xuXHRcdENsaWVudEltcGwucHJvdG90eXBlLl9vbl9zb2NrZXRfY2xvc2UgPSBmdW5jdGlvbiAoKSB7XG5cdFx0XHRpZiAoIXRoaXMuX3JlY29ubmVjdGluZykge1xuXHRcdFx0XHR0aGlzLl9kaXNjb25uZWN0ZWQoRVJST1IuU09DS0VUX0NMT1NFLmNvZGUgLCBmb3JtYXQoRVJST1IuU09DS0VUX0NMT1NFKSk7XG5cdFx0XHR9XG5cdFx0fTtcblxuXHRcdC8qKiBAaWdub3JlICovXG5cdFx0Q2xpZW50SW1wbC5wcm90b3R5cGUuX3NvY2tldF9zZW5kID0gZnVuY3Rpb24gKHdpcmVNZXNzYWdlKSB7XG5cblx0XHRcdGlmICh3aXJlTWVzc2FnZS50eXBlID09IDEpIHtcblx0XHRcdFx0dmFyIHdpcmVNZXNzYWdlTWFza2VkID0gdGhpcy5fdHJhY2VNYXNrKHdpcmVNZXNzYWdlLCBcInBhc3N3b3JkXCIpO1xuXHRcdFx0XHR0aGlzLl90cmFjZShcIkNsaWVudC5fc29ja2V0X3NlbmRcIiwgd2lyZU1lc3NhZ2VNYXNrZWQpO1xuXHRcdFx0fVxuXHRcdFx0ZWxzZSB0aGlzLl90cmFjZShcIkNsaWVudC5fc29ja2V0X3NlbmRcIiwgd2lyZU1lc3NhZ2UpO1xuXG5cdFx0XHR0aGlzLnNvY2tldC5zZW5kKHdpcmVNZXNzYWdlLmVuY29kZSgpKTtcblx0XHRcdC8qIFdlIGhhdmUgcHJvdmVkIHRvIHRoZSBzZXJ2ZXIgd2UgYXJlIGFsaXZlLiAqL1xuXHRcdFx0dGhpcy5zZW5kUGluZ2VyLnJlc2V0KCk7XG5cdFx0fTtcblxuXHRcdC8qKiBAaWdub3JlICovXG5cdFx0Q2xpZW50SW1wbC5wcm90b3R5cGUuX3JlY2VpdmVQdWJsaXNoID0gZnVuY3Rpb24gKHdpcmVNZXNzYWdlKSB7XG5cdFx0XHRzd2l0Y2god2lyZU1lc3NhZ2UucGF5bG9hZE1lc3NhZ2UucW9zKSB7XG5cdFx0XHRjYXNlIFwidW5kZWZpbmVkXCI6XG5cdFx0XHRjYXNlIDA6XG5cdFx0XHRcdHRoaXMuX3JlY2VpdmVNZXNzYWdlKHdpcmVNZXNzYWdlKTtcblx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdGNhc2UgMTpcblx0XHRcdFx0dmFyIHB1YkFja01lc3NhZ2UgPSBuZXcgV2lyZU1lc3NhZ2UoTUVTU0FHRV9UWVBFLlBVQkFDSywge21lc3NhZ2VJZGVudGlmaWVyOndpcmVNZXNzYWdlLm1lc3NhZ2VJZGVudGlmaWVyfSk7XG5cdFx0XHRcdHRoaXMuX3NjaGVkdWxlX21lc3NhZ2UocHViQWNrTWVzc2FnZSk7XG5cdFx0XHRcdHRoaXMuX3JlY2VpdmVNZXNzYWdlKHdpcmVNZXNzYWdlKTtcblx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdGNhc2UgMjpcblx0XHRcdFx0dGhpcy5fcmVjZWl2ZWRNZXNzYWdlc1t3aXJlTWVzc2FnZS5tZXNzYWdlSWRlbnRpZmllcl0gPSB3aXJlTWVzc2FnZTtcblx0XHRcdFx0dGhpcy5zdG9yZShcIlJlY2VpdmVkOlwiLCB3aXJlTWVzc2FnZSk7XG5cdFx0XHRcdHZhciBwdWJSZWNNZXNzYWdlID0gbmV3IFdpcmVNZXNzYWdlKE1FU1NBR0VfVFlQRS5QVUJSRUMsIHttZXNzYWdlSWRlbnRpZmllcjp3aXJlTWVzc2FnZS5tZXNzYWdlSWRlbnRpZmllcn0pO1xuXHRcdFx0XHR0aGlzLl9zY2hlZHVsZV9tZXNzYWdlKHB1YlJlY01lc3NhZ2UpO1xuXG5cdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRkZWZhdWx0OlxuXHRcdFx0XHR0aHJvdyBFcnJvcihcIkludmFpbGQgcW9zPVwiICsgd2lyZU1lc3NhZ2UucGF5bG9hZE1lc3NhZ2UucW9zKTtcblx0XHRcdH1cblx0XHR9O1xuXG5cdFx0LyoqIEBpZ25vcmUgKi9cblx0XHRDbGllbnRJbXBsLnByb3RvdHlwZS5fcmVjZWl2ZU1lc3NhZ2UgPSBmdW5jdGlvbiAod2lyZU1lc3NhZ2UpIHtcblx0XHRcdGlmICh0aGlzLm9uTWVzc2FnZUFycml2ZWQpIHtcblx0XHRcdFx0dGhpcy5vbk1lc3NhZ2VBcnJpdmVkKHdpcmVNZXNzYWdlLnBheWxvYWRNZXNzYWdlKTtcblx0XHRcdH1cblx0XHR9O1xuXG5cdFx0LyoqXG5cdCAqIENsaWVudCBoYXMgY29ubmVjdGVkLlxuXHQgKiBAcGFyYW0ge3JlY29ubmVjdH0gW2Jvb2xlYW5dIGluZGljYXRlIGlmIHRoaXMgd2FzIGEgcmVzdWx0IG9mIHJlY29ubmVjdCBvcGVyYXRpb24uXG5cdCAqIEBwYXJhbSB7dXJpfSBbc3RyaW5nXSBmdWxseSBxdWFsaWZpZWQgV2ViU29ja2V0IFVSSSBvZiB0aGUgc2VydmVyLlxuXHQgKi9cblx0XHRDbGllbnRJbXBsLnByb3RvdHlwZS5fY29ubmVjdGVkID0gZnVuY3Rpb24gKHJlY29ubmVjdCwgdXJpKSB7XG5cdFx0Ly8gRXhlY3V0ZSB0aGUgb25Db25uZWN0ZWQgY2FsbGJhY2sgaWYgdGhlcmUgaXMgb25lLlxuXHRcdFx0aWYgKHRoaXMub25Db25uZWN0ZWQpXG5cdFx0XHRcdHRoaXMub25Db25uZWN0ZWQocmVjb25uZWN0LCB1cmkpO1xuXHRcdH07XG5cblx0XHQvKipcblx0ICogQXR0ZW1wdHMgdG8gcmVjb25uZWN0IHRoZSBjbGllbnQgdG8gdGhlIHNlcnZlci5cbiAgICogRm9yIGVhY2ggcmVjb25uZWN0IGF0dGVtcHQsIHdpbGwgZG91YmxlIHRoZSByZWNvbm5lY3QgaW50ZXJ2YWxcbiAgICogdXAgdG8gMTI4IHNlY29uZHMuXG5cdCAqL1xuXHRcdENsaWVudEltcGwucHJvdG90eXBlLl9yZWNvbm5lY3QgPSBmdW5jdGlvbiAoKSB7XG5cdFx0XHR0aGlzLl90cmFjZShcIkNsaWVudC5fcmVjb25uZWN0XCIpO1xuXHRcdFx0aWYgKCF0aGlzLmNvbm5lY3RlZCkge1xuXHRcdFx0XHR0aGlzLl9yZWNvbm5lY3RpbmcgPSB0cnVlO1xuXHRcdFx0XHR0aGlzLnNlbmRQaW5nZXIuY2FuY2VsKCk7XG5cdFx0XHRcdHRoaXMucmVjZWl2ZVBpbmdlci5jYW5jZWwoKTtcblx0XHRcdFx0aWYgKHRoaXMuX3JlY29ubmVjdEludGVydmFsIDwgMTI4KVxuXHRcdFx0XHRcdHRoaXMuX3JlY29ubmVjdEludGVydmFsID0gdGhpcy5fcmVjb25uZWN0SW50ZXJ2YWwgKiAyO1xuXHRcdFx0XHRpZiAodGhpcy5jb25uZWN0T3B0aW9ucy51cmlzKSB7XG5cdFx0XHRcdFx0dGhpcy5ob3N0SW5kZXggPSAwO1xuXHRcdFx0XHRcdHRoaXMuX2RvQ29ubmVjdCh0aGlzLmNvbm5lY3RPcHRpb25zLnVyaXNbMF0pO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHRoaXMuX2RvQ29ubmVjdCh0aGlzLnVyaSk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9O1xuXG5cdFx0LyoqXG5cdCAqIENsaWVudCBoYXMgZGlzY29ubmVjdGVkIGVpdGhlciBhdCBpdHMgb3duIHJlcXVlc3Qgb3IgYmVjYXVzZSB0aGUgc2VydmVyXG5cdCAqIG9yIG5ldHdvcmsgZGlzY29ubmVjdGVkIGl0LiBSZW1vdmUgYWxsIG5vbi1kdXJhYmxlIHN0YXRlLlxuXHQgKiBAcGFyYW0ge2Vycm9yQ29kZX0gW251bWJlcl0gdGhlIGVycm9yIG51bWJlci5cblx0ICogQHBhcmFtIHtlcnJvclRleHR9IFtzdHJpbmddIHRoZSBlcnJvciB0ZXh0LlxuXHQgKiBAaWdub3JlXG5cdCAqL1xuXHRcdENsaWVudEltcGwucHJvdG90eXBlLl9kaXNjb25uZWN0ZWQgPSBmdW5jdGlvbiAoZXJyb3JDb2RlLCBlcnJvclRleHQpIHtcblx0XHRcdHRoaXMuX3RyYWNlKFwiQ2xpZW50Ll9kaXNjb25uZWN0ZWRcIiwgZXJyb3JDb2RlLCBlcnJvclRleHQpO1xuXG5cdFx0XHRpZiAoZXJyb3JDb2RlICE9PSB1bmRlZmluZWQgJiYgdGhpcy5fcmVjb25uZWN0aW5nKSB7XG5cdFx0XHRcdC8vQ29udGludWUgYXV0b21hdGljIHJlY29ubmVjdCBwcm9jZXNzXG5cdFx0XHRcdHRoaXMuX3JlY29ubmVjdFRpbWVvdXQgPSBuZXcgVGltZW91dCh0aGlzLCB0aGlzLl9yZWNvbm5lY3RJbnRlcnZhbCwgdGhpcy5fcmVjb25uZWN0KTtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHR0aGlzLnNlbmRQaW5nZXIuY2FuY2VsKCk7XG5cdFx0XHR0aGlzLnJlY2VpdmVQaW5nZXIuY2FuY2VsKCk7XG5cdFx0XHRpZiAodGhpcy5fY29ubmVjdFRpbWVvdXQpIHtcblx0XHRcdFx0dGhpcy5fY29ubmVjdFRpbWVvdXQuY2FuY2VsKCk7XG5cdFx0XHRcdHRoaXMuX2Nvbm5lY3RUaW1lb3V0ID0gbnVsbDtcblx0XHRcdH1cblxuXHRcdFx0Ly8gQ2xlYXIgbWVzc2FnZSBidWZmZXJzLlxuXHRcdFx0dGhpcy5fbXNnX3F1ZXVlID0gW107XG5cdFx0XHR0aGlzLl9idWZmZXJlZF9tc2dfcXVldWUgPSBbXTtcblx0XHRcdHRoaXMuX25vdGlmeV9tc2dfc2VudCA9IHt9O1xuXG5cdFx0XHRpZiAodGhpcy5zb2NrZXQpIHtcblx0XHRcdC8vIENhbmNlbCBhbGwgc29ja2V0IGNhbGxiYWNrcyBzbyB0aGF0IHRoZXkgY2Fubm90IGJlIGRyaXZlbiBhZ2FpbiBieSB0aGlzIHNvY2tldC5cblx0XHRcdFx0dGhpcy5zb2NrZXQub25vcGVuID0gbnVsbDtcblx0XHRcdFx0dGhpcy5zb2NrZXQub25tZXNzYWdlID0gbnVsbDtcblx0XHRcdFx0dGhpcy5zb2NrZXQub25lcnJvciA9IG51bGw7XG5cdFx0XHRcdHRoaXMuc29ja2V0Lm9uY2xvc2UgPSBudWxsO1xuXHRcdFx0XHRpZiAodGhpcy5zb2NrZXQucmVhZHlTdGF0ZSA9PT0gMSlcblx0XHRcdFx0XHR0aGlzLnNvY2tldC5jbG9zZSgpO1xuXHRcdFx0XHRkZWxldGUgdGhpcy5zb2NrZXQ7XG5cdFx0XHR9XG5cblx0XHRcdGlmICh0aGlzLmNvbm5lY3RPcHRpb25zLnVyaXMgJiYgdGhpcy5ob3N0SW5kZXggPCB0aGlzLmNvbm5lY3RPcHRpb25zLnVyaXMubGVuZ3RoLTEpIHtcblx0XHRcdC8vIFRyeSB0aGUgbmV4dCBob3N0LlxuXHRcdFx0XHR0aGlzLmhvc3RJbmRleCsrO1xuXHRcdFx0XHR0aGlzLl9kb0Nvbm5lY3QodGhpcy5jb25uZWN0T3B0aW9ucy51cmlzW3RoaXMuaG9zdEluZGV4XSk7XG5cdFx0XHR9IGVsc2Uge1xuXG5cdFx0XHRcdGlmIChlcnJvckNvZGUgPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRcdGVycm9yQ29kZSA9IEVSUk9SLk9LLmNvZGU7XG5cdFx0XHRcdFx0ZXJyb3JUZXh0ID0gZm9ybWF0KEVSUk9SLk9LKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIFJ1biBhbnkgYXBwbGljYXRpb24gY2FsbGJhY2tzIGxhc3QgYXMgdGhleSBtYXkgYXR0ZW1wdCB0byByZWNvbm5lY3QgYW5kIGhlbmNlIGNyZWF0ZSBhIG5ldyBzb2NrZXQuXG5cdFx0XHRcdGlmICh0aGlzLmNvbm5lY3RlZCkge1xuXHRcdFx0XHRcdHRoaXMuY29ubmVjdGVkID0gZmFsc2U7XG5cdFx0XHRcdFx0Ly8gRXhlY3V0ZSB0aGUgY29ubmVjdGlvbkxvc3RDYWxsYmFjayBpZiB0aGVyZSBpcyBvbmUsIGFuZCB3ZSB3ZXJlIGNvbm5lY3RlZC5cblx0XHRcdFx0XHRpZiAodGhpcy5vbkNvbm5lY3Rpb25Mb3N0KSB7XG5cdFx0XHRcdFx0XHR0aGlzLm9uQ29ubmVjdGlvbkxvc3Qoe2Vycm9yQ29kZTplcnJvckNvZGUsIGVycm9yTWVzc2FnZTplcnJvclRleHQsIHJlY29ubmVjdDp0aGlzLmNvbm5lY3RPcHRpb25zLnJlY29ubmVjdCwgdXJpOnRoaXMuX3dzdXJpfSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGlmIChlcnJvckNvZGUgIT09IEVSUk9SLk9LLmNvZGUgJiYgdGhpcy5jb25uZWN0T3B0aW9ucy5yZWNvbm5lY3QpIHtcblx0XHRcdFx0XHQvLyBTdGFydCBhdXRvbWF0aWMgcmVjb25uZWN0IHByb2Nlc3MgZm9yIHRoZSB2ZXJ5IGZpcnN0IHRpbWUgc2luY2UgbGFzdCBzdWNjZXNzZnVsIGNvbm5lY3QuXG5cdFx0XHRcdFx0XHR0aGlzLl9yZWNvbm5lY3RJbnRlcnZhbCA9IDE7XG5cdFx0XHRcdFx0XHR0aGlzLl9yZWNvbm5lY3QoKTtcblx0XHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdC8vIE90aGVyd2lzZSB3ZSBuZXZlciBoYWQgYSBjb25uZWN0aW9uLCBzbyBpbmRpY2F0ZSB0aGF0IHRoZSBjb25uZWN0IGhhcyBmYWlsZWQuXG5cdFx0XHRcdFx0aWYgKHRoaXMuY29ubmVjdE9wdGlvbnMubXF0dFZlcnNpb24gPT09IDQgJiYgdGhpcy5jb25uZWN0T3B0aW9ucy5tcXR0VmVyc2lvbkV4cGxpY2l0ID09PSBmYWxzZSkge1xuXHRcdFx0XHRcdFx0dGhpcy5fdHJhY2UoXCJGYWlsZWQgdG8gY29ubmVjdCBWNCwgZHJvcHBpbmcgYmFjayB0byBWM1wiKTtcblx0XHRcdFx0XHRcdHRoaXMuY29ubmVjdE9wdGlvbnMubXF0dFZlcnNpb24gPSAzO1xuXHRcdFx0XHRcdFx0aWYgKHRoaXMuY29ubmVjdE9wdGlvbnMudXJpcykge1xuXHRcdFx0XHRcdFx0XHR0aGlzLmhvc3RJbmRleCA9IDA7XG5cdFx0XHRcdFx0XHRcdHRoaXMuX2RvQ29ubmVjdCh0aGlzLmNvbm5lY3RPcHRpb25zLnVyaXNbMF0pO1xuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0dGhpcy5fZG9Db25uZWN0KHRoaXMudXJpKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9IGVsc2UgaWYodGhpcy5jb25uZWN0T3B0aW9ucy5vbkZhaWx1cmUpIHtcblx0XHRcdFx0XHRcdHRoaXMuY29ubmVjdE9wdGlvbnMub25GYWlsdXJlKHtpbnZvY2F0aW9uQ29udGV4dDp0aGlzLmNvbm5lY3RPcHRpb25zLmludm9jYXRpb25Db250ZXh0LCBlcnJvckNvZGU6ZXJyb3JDb2RlLCBlcnJvck1lc3NhZ2U6ZXJyb3JUZXh0fSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fTtcblxuXHRcdC8qKiBAaWdub3JlICovXG5cdFx0Q2xpZW50SW1wbC5wcm90b3R5cGUuX3RyYWNlID0gZnVuY3Rpb24gKCkge1xuXHRcdC8vIFBhc3MgdHJhY2UgbWVzc2FnZSBiYWNrIHRvIGNsaWVudCdzIGNhbGxiYWNrIGZ1bmN0aW9uXG5cdFx0XHRpZiAodGhpcy50cmFjZUZ1bmN0aW9uKSB7XG5cdFx0XHRcdHZhciBhcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKTtcblx0XHRcdFx0Zm9yICh2YXIgaSBpbiBhcmdzKVxuXHRcdFx0XHR7XG5cdFx0XHRcdFx0aWYgKHR5cGVvZiBhcmdzW2ldICE9PSBcInVuZGVmaW5lZFwiKVxuXHRcdFx0XHRcdFx0YXJncy5zcGxpY2UoaSwgMSwgSlNPTi5zdHJpbmdpZnkoYXJnc1tpXSkpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHZhciByZWNvcmQgPSBhcmdzLmpvaW4oXCJcIik7XG5cdFx0XHRcdHRoaXMudHJhY2VGdW5jdGlvbiAoe3NldmVyaXR5OiBcIkRlYnVnXCIsIG1lc3NhZ2U6IHJlY29yZFx0fSk7XG5cdFx0XHR9XG5cblx0XHRcdC8vYnVmZmVyIHN0eWxlIHRyYWNlXG5cdFx0XHRpZiAoIHRoaXMuX3RyYWNlQnVmZmVyICE9PSBudWxsICkge1xuXHRcdFx0XHRmb3IgKHZhciBpID0gMCwgbWF4ID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG1heDsgaSsrKSB7XG5cdFx0XHRcdFx0aWYgKCB0aGlzLl90cmFjZUJ1ZmZlci5sZW5ndGggPT0gdGhpcy5fTUFYX1RSQUNFX0VOVFJJRVMgKSB7XG5cdFx0XHRcdFx0XHR0aGlzLl90cmFjZUJ1ZmZlci5zaGlmdCgpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRpZiAoaSA9PT0gMCkgdGhpcy5fdHJhY2VCdWZmZXIucHVzaChhcmd1bWVudHNbaV0pO1xuXHRcdFx0XHRcdGVsc2UgaWYgKHR5cGVvZiBhcmd1bWVudHNbaV0gPT09IFwidW5kZWZpbmVkXCIgKSB0aGlzLl90cmFjZUJ1ZmZlci5wdXNoKGFyZ3VtZW50c1tpXSk7XG5cdFx0XHRcdFx0ZWxzZSB0aGlzLl90cmFjZUJ1ZmZlci5wdXNoKFwiICBcIitKU09OLnN0cmluZ2lmeShhcmd1bWVudHNbaV0pKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH07XG5cblx0XHQvKiogQGlnbm9yZSAqL1xuXHRcdENsaWVudEltcGwucHJvdG90eXBlLl90cmFjZU1hc2sgPSBmdW5jdGlvbiAodHJhY2VPYmplY3QsIG1hc2tlZCkge1xuXHRcdFx0dmFyIHRyYWNlT2JqZWN0TWFza2VkID0ge307XG5cdFx0XHRmb3IgKHZhciBhdHRyIGluIHRyYWNlT2JqZWN0KSB7XG5cdFx0XHRcdGlmICh0cmFjZU9iamVjdC5oYXNPd25Qcm9wZXJ0eShhdHRyKSkge1xuXHRcdFx0XHRcdGlmIChhdHRyID09IG1hc2tlZClcblx0XHRcdFx0XHRcdHRyYWNlT2JqZWN0TWFza2VkW2F0dHJdID0gXCIqKioqKipcIjtcblx0XHRcdFx0XHRlbHNlXG5cdFx0XHRcdFx0XHR0cmFjZU9iamVjdE1hc2tlZFthdHRyXSA9IHRyYWNlT2JqZWN0W2F0dHJdO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gdHJhY2VPYmplY3RNYXNrZWQ7XG5cdFx0fTtcblxuXHRcdC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXHRcdC8vIFB1YmxpYyBQcm9ncmFtbWluZyBpbnRlcmZhY2UuXG5cdFx0Ly8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cblx0XHQvKipcblx0ICogVGhlIEphdmFTY3JpcHQgYXBwbGljYXRpb24gY29tbXVuaWNhdGVzIHRvIHRoZSBzZXJ2ZXIgdXNpbmcgYSB7QGxpbmsgUGFoby5DbGllbnR9IG9iamVjdC5cblx0ICogPHA+XG5cdCAqIE1vc3QgYXBwbGljYXRpb25zIHdpbGwgY3JlYXRlIGp1c3Qgb25lIENsaWVudCBvYmplY3QgYW5kIHRoZW4gY2FsbCBpdHMgY29ubmVjdCgpIG1ldGhvZCxcblx0ICogaG93ZXZlciBhcHBsaWNhdGlvbnMgY2FuIGNyZWF0ZSBtb3JlIHRoYW4gb25lIENsaWVudCBvYmplY3QgaWYgdGhleSB3aXNoLlxuXHQgKiBJbiB0aGlzIGNhc2UgdGhlIGNvbWJpbmF0aW9uIG9mIGhvc3QsIHBvcnQgYW5kIGNsaWVudElkIGF0dHJpYnV0ZXMgbXVzdCBiZSBkaWZmZXJlbnQgZm9yIGVhY2ggQ2xpZW50IG9iamVjdC5cblx0ICogPHA+XG5cdCAqIFRoZSBzZW5kLCBzdWJzY3JpYmUgYW5kIHVuc3Vic2NyaWJlIG1ldGhvZHMgYXJlIGltcGxlbWVudGVkIGFzIGFzeW5jaHJvbm91cyBKYXZhU2NyaXB0IG1ldGhvZHNcblx0ICogKGV2ZW4gdGhvdWdoIHRoZSB1bmRlcmx5aW5nIHByb3RvY29sIGV4Y2hhbmdlIG1pZ2h0IGJlIHN5bmNocm9ub3VzIGluIG5hdHVyZSkuXG5cdCAqIFRoaXMgbWVhbnMgdGhleSBzaWduYWwgdGhlaXIgY29tcGxldGlvbiBieSBjYWxsaW5nIGJhY2sgdG8gdGhlIGFwcGxpY2F0aW9uLFxuXHQgKiB2aWEgU3VjY2VzcyBvciBGYWlsdXJlIGNhbGxiYWNrIGZ1bmN0aW9ucyBwcm92aWRlZCBieSB0aGUgYXBwbGljYXRpb24gb24gdGhlIG1ldGhvZCBpbiBxdWVzdGlvbi5cblx0ICogU3VjaCBjYWxsYmFja3MgYXJlIGNhbGxlZCBhdCBtb3N0IG9uY2UgcGVyIG1ldGhvZCBpbnZvY2F0aW9uIGFuZCBkbyBub3QgcGVyc2lzdCBiZXlvbmQgdGhlIGxpZmV0aW1lXG5cdCAqIG9mIHRoZSBzY3JpcHQgdGhhdCBtYWRlIHRoZSBpbnZvY2F0aW9uLlxuXHQgKiA8cD5cblx0ICogSW4gY29udHJhc3QgdGhlcmUgYXJlIHNvbWUgY2FsbGJhY2sgZnVuY3Rpb25zLCBtb3N0IG5vdGFibHkgPGk+b25NZXNzYWdlQXJyaXZlZDwvaT4sXG5cdCAqIHRoYXQgYXJlIGRlZmluZWQgb24gdGhlIHtAbGluayBQYWhvLkNsaWVudH0gb2JqZWN0LlxuXHQgKiBUaGVzZSBtYXkgZ2V0IGNhbGxlZCBtdWx0aXBsZSB0aW1lcywgYW5kIGFyZW4ndCBkaXJlY3RseSByZWxhdGVkIHRvIHNwZWNpZmljIG1ldGhvZCBpbnZvY2F0aW9ucyBtYWRlIGJ5IHRoZSBjbGllbnQuXG5cdCAqXG5cdCAqIEBuYW1lIFBhaG8uQ2xpZW50XG5cdCAqXG5cdCAqIEBjb25zdHJ1Y3RvclxuXHQgKlxuXHQgKiBAcGFyYW0ge3N0cmluZ30gaG9zdCAtIHRoZSBhZGRyZXNzIG9mIHRoZSBtZXNzYWdpbmcgc2VydmVyLCBhcyBhIGZ1bGx5IHF1YWxpZmllZCBXZWJTb2NrZXQgVVJJLCBhcyBhIEROUyBuYW1lIG9yIGRvdHRlZCBkZWNpbWFsIElQIGFkZHJlc3MuXG5cdCAqIEBwYXJhbSB7bnVtYmVyfSBwb3J0IC0gdGhlIHBvcnQgbnVtYmVyIHRvIGNvbm5lY3QgdG8gLSBvbmx5IHJlcXVpcmVkIGlmIGhvc3QgaXMgbm90IGEgVVJJXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBwYXRoIC0gdGhlIHBhdGggb24gdGhlIGhvc3QgdG8gY29ubmVjdCB0byAtIG9ubHkgdXNlZCBpZiBob3N0IGlzIG5vdCBhIFVSSS4gRGVmYXVsdDogJy9tcXR0Jy5cblx0ICogQHBhcmFtIHtzdHJpbmd9IGNsaWVudElkIC0gdGhlIE1lc3NhZ2luZyBjbGllbnQgaWRlbnRpZmllciwgYmV0d2VlbiAxIGFuZCAyMyBjaGFyYWN0ZXJzIGluIGxlbmd0aC5cblx0ICpcblx0ICogQHByb3BlcnR5IHtzdHJpbmd9IGhvc3QgLSA8aT5yZWFkIG9ubHk8L2k+IHRoZSBzZXJ2ZXIncyBETlMgaG9zdG5hbWUgb3IgZG90dGVkIGRlY2ltYWwgSVAgYWRkcmVzcy5cblx0ICogQHByb3BlcnR5IHtudW1iZXJ9IHBvcnQgLSA8aT5yZWFkIG9ubHk8L2k+IHRoZSBzZXJ2ZXIncyBwb3J0LlxuXHQgKiBAcHJvcGVydHkge3N0cmluZ30gcGF0aCAtIDxpPnJlYWQgb25seTwvaT4gdGhlIHNlcnZlcidzIHBhdGguXG5cdCAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBjbGllbnRJZCAtIDxpPnJlYWQgb25seTwvaT4gdXNlZCB3aGVuIGNvbm5lY3RpbmcgdG8gdGhlIHNlcnZlci5cblx0ICogQHByb3BlcnR5IHtmdW5jdGlvbn0gb25Db25uZWN0aW9uTG9zdCAtIGNhbGxlZCB3aGVuIGEgY29ubmVjdGlvbiBoYXMgYmVlbiBsb3N0LlxuXHQgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZnRlciBhIGNvbm5lY3QoKSBtZXRob2QgaGFzIHN1Y2NlZWRlZC5cblx0ICogICAgICAgICAgICAgICAgICAgICAgICAgICAgRXN0YWJsaXNoIHRoZSBjYWxsIGJhY2sgdXNlZCB3aGVuIGEgY29ubmVjdGlvbiBoYXMgYmVlbiBsb3N0LiBUaGUgY29ubmVjdGlvbiBtYXkgYmVcblx0ICogICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9zdCBiZWNhdXNlIHRoZSBjbGllbnQgaW5pdGlhdGVzIGEgZGlzY29ubmVjdCBvciBiZWNhdXNlIHRoZSBzZXJ2ZXIgb3IgbmV0d29ya1xuXHQgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXVzZSB0aGUgY2xpZW50IHRvIGJlIGRpc2Nvbm5lY3RlZC4gVGhlIGRpc2Nvbm5lY3QgY2FsbCBiYWNrIG1heSBiZSBjYWxsZWQgd2l0aG91dFxuXHQgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGUgY29ubmVjdGlvbkNvbXBsZXRlIGNhbGwgYmFjayBiZWluZyBpbnZva2VkIGlmLCBmb3IgZXhhbXBsZSB0aGUgY2xpZW50IGZhaWxzIHRvXG5cdCAqICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbm5lY3QuXG5cdCAqICAgICAgICAgICAgICAgICAgICAgICAgICAgIEEgc2luZ2xlIHJlc3BvbnNlIG9iamVjdCBwYXJhbWV0ZXIgaXMgcGFzc2VkIHRvIHRoZSBvbkNvbm5lY3Rpb25Mb3N0IGNhbGxiYWNrIGNvbnRhaW5pbmcgdGhlIGZvbGxvd2luZyBmaWVsZHM6XG5cdCAqICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxvbD5cblx0ICogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpPmVycm9yQ29kZVxuXHQgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGk+ZXJyb3JNZXNzYWdlXG5cdCAqICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvb2w+XG5cdCAqIEBwcm9wZXJ0eSB7ZnVuY3Rpb259IG9uTWVzc2FnZURlbGl2ZXJlZCAtIGNhbGxlZCB3aGVuIGEgbWVzc2FnZSBoYXMgYmVlbiBkZWxpdmVyZWQuXG5cdCAqICAgICAgICAgICAgICAgICAgICAgICAgICAgIEFsbCBwcm9jZXNzaW5nIHRoYXQgdGhpcyBDbGllbnQgd2lsbCBldmVyIGRvIGhhcyBiZWVuIGNvbXBsZXRlZC4gU28sIGZvciBleGFtcGxlLFxuXHQgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbiB0aGUgY2FzZSBvZiBhIFFvcz0yIG1lc3NhZ2Ugc2VudCBieSB0aGlzIGNsaWVudCwgdGhlIFB1YkNvbXAgZmxvdyBoYXMgYmVlbiByZWNlaXZlZCBmcm9tIHRoZSBzZXJ2ZXJcblx0ICogICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5kIHRoZSBtZXNzYWdlIGhhcyBiZWVuIHJlbW92ZWQgZnJvbSBwZXJzaXN0ZW50IHN0b3JhZ2UgYmVmb3JlIHRoaXMgY2FsbGJhY2sgaXMgaW52b2tlZC5cblx0ICogICAgICAgICAgICAgICAgICAgICAgICAgICAgUGFyYW1ldGVycyBwYXNzZWQgdG8gdGhlIG9uTWVzc2FnZURlbGl2ZXJlZCBjYWxsYmFjayBhcmU6XG5cdCAqICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxvbD5cblx0ICogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpPntAbGluayBQYWhvLk1lc3NhZ2V9IHRoYXQgd2FzIGRlbGl2ZXJlZC5cblx0ICogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9vbD5cblx0ICogQHByb3BlcnR5IHtmdW5jdGlvbn0gb25NZXNzYWdlQXJyaXZlZCAtIGNhbGxlZCB3aGVuIGEgbWVzc2FnZSBoYXMgYXJyaXZlZCBpbiB0aGlzIFBhaG8uY2xpZW50LlxuXHQgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICBQYXJhbWV0ZXJzIHBhc3NlZCB0byB0aGUgb25NZXNzYWdlQXJyaXZlZCBjYWxsYmFjayBhcmU6XG5cdCAqICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxvbD5cblx0ICogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpPntAbGluayBQYWhvLk1lc3NhZ2V9IHRoYXQgaGFzIGFycml2ZWQuXG5cdCAqICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvb2w+XG5cdCAqIEBwcm9wZXJ0eSB7ZnVuY3Rpb259IG9uQ29ubmVjdGVkIC0gY2FsbGVkIHdoZW4gYSBjb25uZWN0aW9uIGlzIHN1Y2Nlc3NmdWxseSBtYWRlIHRvIHRoZSBzZXJ2ZXIuXG5cdCAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFmdGVyIGEgY29ubmVjdCgpIG1ldGhvZC5cblx0ICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUGFyYW1ldGVycyBwYXNzZWQgdG8gdGhlIG9uQ29ubmVjdGVkIGNhbGxiYWNrIGFyZTpcblx0ICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPG9sPlxuXHQgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGk+cmVjb25uZWN0IChib29sZWFuKSAtIElmIHRydWUsIHRoZSBjb25uZWN0aW9uIHdhcyB0aGUgcmVzdWx0IG9mIGEgcmVjb25uZWN0LjwvbGk+XG5cdCAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaT5VUkkgKHN0cmluZykgLSBUaGUgVVJJIHVzZWQgdG8gY29ubmVjdCB0byB0aGUgc2VydmVyLjwvbGk+XG5cdCAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvb2w+XG5cdCAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gZGlzY29ubmVjdGVkUHVibGlzaGluZyAtIGlmIHNldCwgd2lsbCBlbmFibGUgZGlzY29ubmVjdGVkIHB1Ymxpc2hpbmcgaW5cblx0ICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluIHRoZSBldmVudCB0aGF0IHRoZSBjb25uZWN0aW9uIHRvIHRoZSBzZXJ2ZXIgaXMgbG9zdC5cblx0ICogQHByb3BlcnR5IHtudW1iZXJ9IGRpc2Nvbm5lY3RlZEJ1ZmZlclNpemUgLSBVc2VkIHRvIHNldCB0aGUgbWF4aW11bSBudW1iZXIgb2YgbWVzc2FnZXMgdGhhdCB0aGUgZGlzY29ubmVjdGVkXG5cdCAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnVmZmVyIHdpbGwgaG9sZCBiZWZvcmUgcmVqZWN0aW5nIG5ldyBtZXNzYWdlcy4gRGVmYXVsdCBzaXplOiA1MDAwIG1lc3NhZ2VzXG5cdCAqIEBwcm9wZXJ0eSB7ZnVuY3Rpb259IHRyYWNlIC0gY2FsbGVkIHdoZW5ldmVyIHRyYWNlIGlzIGNhbGxlZC4gVE9ET1xuXHQgKi9cblx0XHR2YXIgQ2xpZW50ID0gZnVuY3Rpb24gKGhvc3QsIHBvcnQsIHBhdGgsIGNsaWVudElkKSB7XG5cblx0XHRcdHZhciB1cmk7XG5cblx0XHRcdGlmICh0eXBlb2YgaG9zdCAhPT0gXCJzdHJpbmdcIilcblx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKGZvcm1hdChFUlJPUi5JTlZBTElEX1RZUEUsIFt0eXBlb2YgaG9zdCwgXCJob3N0XCJdKSk7XG5cblx0XHRcdGlmIChhcmd1bWVudHMubGVuZ3RoID09IDIpIHtcblx0XHRcdC8vIGhvc3Q6IG11c3QgYmUgZnVsbCB3czovLyB1cmlcblx0XHRcdC8vIHBvcnQ6IGNsaWVudElkXG5cdFx0XHRcdGNsaWVudElkID0gcG9ydDtcblx0XHRcdFx0dXJpID0gaG9zdDtcblx0XHRcdFx0dmFyIG1hdGNoID0gdXJpLm1hdGNoKC9eKHdzcz8pOlxcL1xcLygoXFxbKC4rKVxcXSl8KFteXFwvXSs/KSkoOihcXGQrKSk/KFxcLy4qKSQvKTtcblx0XHRcdFx0aWYgKG1hdGNoKSB7XG5cdFx0XHRcdFx0aG9zdCA9IG1hdGNoWzRdfHxtYXRjaFsyXTtcblx0XHRcdFx0XHRwb3J0ID0gcGFyc2VJbnQobWF0Y2hbN10pO1xuXHRcdFx0XHRcdHBhdGggPSBtYXRjaFs4XTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoZm9ybWF0KEVSUk9SLklOVkFMSURfQVJHVU1FTlQsW2hvc3QsXCJob3N0XCJdKSk7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGlmIChhcmd1bWVudHMubGVuZ3RoID09IDMpIHtcblx0XHRcdFx0XHRjbGllbnRJZCA9IHBhdGg7XG5cdFx0XHRcdFx0cGF0aCA9IFwiL21xdHRcIjtcblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAodHlwZW9mIHBvcnQgIT09IFwibnVtYmVyXCIgfHwgcG9ydCA8IDApXG5cdFx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKGZvcm1hdChFUlJPUi5JTlZBTElEX1RZUEUsIFt0eXBlb2YgcG9ydCwgXCJwb3J0XCJdKSk7XG5cdFx0XHRcdGlmICh0eXBlb2YgcGF0aCAhPT0gXCJzdHJpbmdcIilcblx0XHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoZm9ybWF0KEVSUk9SLklOVkFMSURfVFlQRSwgW3R5cGVvZiBwYXRoLCBcInBhdGhcIl0pKTtcblxuXHRcdFx0XHR2YXIgaXB2NkFkZFNCcmFja2V0ID0gKGhvc3QuaW5kZXhPZihcIjpcIikgIT09IC0xICYmIGhvc3Quc2xpY2UoMCwxKSAhPT0gXCJbXCIgJiYgaG9zdC5zbGljZSgtMSkgIT09IFwiXVwiKTtcblx0XHRcdFx0dXJpID0gXCJ3czovL1wiKyhpcHY2QWRkU0JyYWNrZXQ/XCJbXCIraG9zdCtcIl1cIjpob3N0KStcIjpcIitwb3J0K3BhdGg7XG5cdFx0XHR9XG5cblx0XHRcdHZhciBjbGllbnRJZExlbmd0aCA9IDA7XG5cdFx0XHRmb3IgKHZhciBpID0gMDsgaTxjbGllbnRJZC5sZW5ndGg7IGkrKykge1xuXHRcdFx0XHR2YXIgY2hhckNvZGUgPSBjbGllbnRJZC5jaGFyQ29kZUF0KGkpO1xuXHRcdFx0XHRpZiAoMHhEODAwIDw9IGNoYXJDb2RlICYmIGNoYXJDb2RlIDw9IDB4REJGRikgIHtcblx0XHRcdFx0XHRpKys7IC8vIFN1cnJvZ2F0ZSBwYWlyLlxuXHRcdFx0XHR9XG5cdFx0XHRcdGNsaWVudElkTGVuZ3RoKys7XG5cdFx0XHR9XG5cdFx0XHRpZiAodHlwZW9mIGNsaWVudElkICE9PSBcInN0cmluZ1wiIHx8IGNsaWVudElkTGVuZ3RoID4gNjU1MzUpXG5cdFx0XHRcdHRocm93IG5ldyBFcnJvcihmb3JtYXQoRVJST1IuSU5WQUxJRF9BUkdVTUVOVCwgW2NsaWVudElkLCBcImNsaWVudElkXCJdKSk7XG5cblx0XHRcdHZhciBjbGllbnQgPSBuZXcgQ2xpZW50SW1wbCh1cmksIGhvc3QsIHBvcnQsIHBhdGgsIGNsaWVudElkKTtcblxuXHRcdFx0Ly9QdWJsaWMgUHJvcGVydGllc1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnRpZXModGhpcyx7XG5cdFx0XHRcdFwiaG9zdFwiOntcblx0XHRcdFx0XHRnZXQ6IGZ1bmN0aW9uKCkgeyByZXR1cm4gaG9zdDsgfSxcblx0XHRcdFx0XHRzZXQ6IGZ1bmN0aW9uKCkgeyB0aHJvdyBuZXcgRXJyb3IoZm9ybWF0KEVSUk9SLlVOU1VQUE9SVEVEX09QRVJBVElPTikpOyB9XG5cdFx0XHRcdH0sXG5cdFx0XHRcdFwicG9ydFwiOntcblx0XHRcdFx0XHRnZXQ6IGZ1bmN0aW9uKCkgeyByZXR1cm4gcG9ydDsgfSxcblx0XHRcdFx0XHRzZXQ6IGZ1bmN0aW9uKCkgeyB0aHJvdyBuZXcgRXJyb3IoZm9ybWF0KEVSUk9SLlVOU1VQUE9SVEVEX09QRVJBVElPTikpOyB9XG5cdFx0XHRcdH0sXG5cdFx0XHRcdFwicGF0aFwiOntcblx0XHRcdFx0XHRnZXQ6IGZ1bmN0aW9uKCkgeyByZXR1cm4gcGF0aDsgfSxcblx0XHRcdFx0XHRzZXQ6IGZ1bmN0aW9uKCkgeyB0aHJvdyBuZXcgRXJyb3IoZm9ybWF0KEVSUk9SLlVOU1VQUE9SVEVEX09QRVJBVElPTikpOyB9XG5cdFx0XHRcdH0sXG5cdFx0XHRcdFwidXJpXCI6e1xuXHRcdFx0XHRcdGdldDogZnVuY3Rpb24oKSB7IHJldHVybiB1cmk7IH0sXG5cdFx0XHRcdFx0c2V0OiBmdW5jdGlvbigpIHsgdGhyb3cgbmV3IEVycm9yKGZvcm1hdChFUlJPUi5VTlNVUFBPUlRFRF9PUEVSQVRJT04pKTsgfVxuXHRcdFx0XHR9LFxuXHRcdFx0XHRcImNsaWVudElkXCI6e1xuXHRcdFx0XHRcdGdldDogZnVuY3Rpb24oKSB7IHJldHVybiBjbGllbnQuY2xpZW50SWQ7IH0sXG5cdFx0XHRcdFx0c2V0OiBmdW5jdGlvbigpIHsgdGhyb3cgbmV3IEVycm9yKGZvcm1hdChFUlJPUi5VTlNVUFBPUlRFRF9PUEVSQVRJT04pKTsgfVxuXHRcdFx0XHR9LFxuXHRcdFx0XHRcIm9uQ29ubmVjdGVkXCI6e1xuXHRcdFx0XHRcdGdldDogZnVuY3Rpb24oKSB7IHJldHVybiBjbGllbnQub25Db25uZWN0ZWQ7IH0sXG5cdFx0XHRcdFx0c2V0OiBmdW5jdGlvbihuZXdPbkNvbm5lY3RlZCkge1xuXHRcdFx0XHRcdFx0aWYgKHR5cGVvZiBuZXdPbkNvbm5lY3RlZCA9PT0gXCJmdW5jdGlvblwiKVxuXHRcdFx0XHRcdFx0XHRjbGllbnQub25Db25uZWN0ZWQgPSBuZXdPbkNvbm5lY3RlZDtcblx0XHRcdFx0XHRcdGVsc2Vcblx0XHRcdFx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKGZvcm1hdChFUlJPUi5JTlZBTElEX1RZUEUsIFt0eXBlb2YgbmV3T25Db25uZWN0ZWQsIFwib25Db25uZWN0ZWRcIl0pKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0sXG5cdFx0XHRcdFwiZGlzY29ubmVjdGVkUHVibGlzaGluZ1wiOntcblx0XHRcdFx0XHRnZXQ6IGZ1bmN0aW9uKCkgeyByZXR1cm4gY2xpZW50LmRpc2Nvbm5lY3RlZFB1Ymxpc2hpbmc7IH0sXG5cdFx0XHRcdFx0c2V0OiBmdW5jdGlvbihuZXdEaXNjb25uZWN0ZWRQdWJsaXNoaW5nKSB7XG5cdFx0XHRcdFx0XHRjbGllbnQuZGlzY29ubmVjdGVkUHVibGlzaGluZyA9IG5ld0Rpc2Nvbm5lY3RlZFB1Ymxpc2hpbmc7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9LFxuXHRcdFx0XHRcImRpc2Nvbm5lY3RlZEJ1ZmZlclNpemVcIjp7XG5cdFx0XHRcdFx0Z2V0OiBmdW5jdGlvbigpIHsgcmV0dXJuIGNsaWVudC5kaXNjb25uZWN0ZWRCdWZmZXJTaXplOyB9LFxuXHRcdFx0XHRcdHNldDogZnVuY3Rpb24obmV3RGlzY29ubmVjdGVkQnVmZmVyU2l6ZSkge1xuXHRcdFx0XHRcdFx0Y2xpZW50LmRpc2Nvbm5lY3RlZEJ1ZmZlclNpemUgPSBuZXdEaXNjb25uZWN0ZWRCdWZmZXJTaXplO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSxcblx0XHRcdFx0XCJvbkNvbm5lY3Rpb25Mb3N0XCI6e1xuXHRcdFx0XHRcdGdldDogZnVuY3Rpb24oKSB7IHJldHVybiBjbGllbnQub25Db25uZWN0aW9uTG9zdDsgfSxcblx0XHRcdFx0XHRzZXQ6IGZ1bmN0aW9uKG5ld09uQ29ubmVjdGlvbkxvc3QpIHtcblx0XHRcdFx0XHRcdGlmICh0eXBlb2YgbmV3T25Db25uZWN0aW9uTG9zdCA9PT0gXCJmdW5jdGlvblwiKVxuXHRcdFx0XHRcdFx0XHRjbGllbnQub25Db25uZWN0aW9uTG9zdCA9IG5ld09uQ29ubmVjdGlvbkxvc3Q7XG5cdFx0XHRcdFx0XHRlbHNlXG5cdFx0XHRcdFx0XHRcdHRocm93IG5ldyBFcnJvcihmb3JtYXQoRVJST1IuSU5WQUxJRF9UWVBFLCBbdHlwZW9mIG5ld09uQ29ubmVjdGlvbkxvc3QsIFwib25Db25uZWN0aW9uTG9zdFwiXSkpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSxcblx0XHRcdFx0XCJvbk1lc3NhZ2VEZWxpdmVyZWRcIjp7XG5cdFx0XHRcdFx0Z2V0OiBmdW5jdGlvbigpIHsgcmV0dXJuIGNsaWVudC5vbk1lc3NhZ2VEZWxpdmVyZWQ7IH0sXG5cdFx0XHRcdFx0c2V0OiBmdW5jdGlvbihuZXdPbk1lc3NhZ2VEZWxpdmVyZWQpIHtcblx0XHRcdFx0XHRcdGlmICh0eXBlb2YgbmV3T25NZXNzYWdlRGVsaXZlcmVkID09PSBcImZ1bmN0aW9uXCIpXG5cdFx0XHRcdFx0XHRcdGNsaWVudC5vbk1lc3NhZ2VEZWxpdmVyZWQgPSBuZXdPbk1lc3NhZ2VEZWxpdmVyZWQ7XG5cdFx0XHRcdFx0XHRlbHNlXG5cdFx0XHRcdFx0XHRcdHRocm93IG5ldyBFcnJvcihmb3JtYXQoRVJST1IuSU5WQUxJRF9UWVBFLCBbdHlwZW9mIG5ld09uTWVzc2FnZURlbGl2ZXJlZCwgXCJvbk1lc3NhZ2VEZWxpdmVyZWRcIl0pKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0sXG5cdFx0XHRcdFwib25NZXNzYWdlQXJyaXZlZFwiOntcblx0XHRcdFx0XHRnZXQ6IGZ1bmN0aW9uKCkgeyByZXR1cm4gY2xpZW50Lm9uTWVzc2FnZUFycml2ZWQ7IH0sXG5cdFx0XHRcdFx0c2V0OiBmdW5jdGlvbihuZXdPbk1lc3NhZ2VBcnJpdmVkKSB7XG5cdFx0XHRcdFx0XHRpZiAodHlwZW9mIG5ld09uTWVzc2FnZUFycml2ZWQgPT09IFwiZnVuY3Rpb25cIilcblx0XHRcdFx0XHRcdFx0Y2xpZW50Lm9uTWVzc2FnZUFycml2ZWQgPSBuZXdPbk1lc3NhZ2VBcnJpdmVkO1xuXHRcdFx0XHRcdFx0ZWxzZVxuXHRcdFx0XHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoZm9ybWF0KEVSUk9SLklOVkFMSURfVFlQRSwgW3R5cGVvZiBuZXdPbk1lc3NhZ2VBcnJpdmVkLCBcIm9uTWVzc2FnZUFycml2ZWRcIl0pKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0sXG5cdFx0XHRcdFwidHJhY2VcIjp7XG5cdFx0XHRcdFx0Z2V0OiBmdW5jdGlvbigpIHsgcmV0dXJuIGNsaWVudC50cmFjZUZ1bmN0aW9uOyB9LFxuXHRcdFx0XHRcdHNldDogZnVuY3Rpb24odHJhY2UpIHtcblx0XHRcdFx0XHRcdGlmKHR5cGVvZiB0cmFjZSA9PT0gXCJmdW5jdGlvblwiKXtcblx0XHRcdFx0XHRcdFx0Y2xpZW50LnRyYWNlRnVuY3Rpb24gPSB0cmFjZTtcblx0XHRcdFx0XHRcdH1lbHNle1xuXHRcdFx0XHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoZm9ybWF0KEVSUk9SLklOVkFMSURfVFlQRSwgW3R5cGVvZiB0cmFjZSwgXCJvblRyYWNlXCJdKSk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9LFxuXHRcdFx0fSk7XG5cblx0XHRcdC8qKlxuXHRcdCAqIENvbm5lY3QgdGhpcyBNZXNzYWdpbmcgY2xpZW50IHRvIGl0cyBzZXJ2ZXIuXG5cdFx0ICpcblx0XHQgKiBAbmFtZSBQYWhvLkNsaWVudCNjb25uZWN0XG5cdFx0ICogQGZ1bmN0aW9uXG5cdFx0ICogQHBhcmFtIHtvYmplY3R9IGNvbm5lY3RPcHRpb25zIC0gQXR0cmlidXRlcyB1c2VkIHdpdGggdGhlIGNvbm5lY3Rpb24uXG5cdFx0ICogQHBhcmFtIHtudW1iZXJ9IGNvbm5lY3RPcHRpb25zLnRpbWVvdXQgLSBJZiB0aGUgY29ubmVjdCBoYXMgbm90IHN1Y2NlZWRlZCB3aXRoaW4gdGhpc1xuXHRcdCAqICAgICAgICAgICAgICAgICAgICBudW1iZXIgb2Ygc2Vjb25kcywgaXQgaXMgZGVlbWVkIHRvIGhhdmUgZmFpbGVkLlxuXHRcdCAqICAgICAgICAgICAgICAgICAgICBUaGUgZGVmYXVsdCBpcyAzMCBzZWNvbmRzLlxuXHRcdCAqIEBwYXJhbSB7c3RyaW5nfSBjb25uZWN0T3B0aW9ucy51c2VyTmFtZSAtIEF1dGhlbnRpY2F0aW9uIHVzZXJuYW1lIGZvciB0aGlzIGNvbm5lY3Rpb24uXG5cdFx0ICogQHBhcmFtIHtzdHJpbmd9IGNvbm5lY3RPcHRpb25zLnBhc3N3b3JkIC0gQXV0aGVudGljYXRpb24gcGFzc3dvcmQgZm9yIHRoaXMgY29ubmVjdGlvbi5cblx0XHQgKiBAcGFyYW0ge1BhaG8uTWVzc2FnZX0gY29ubmVjdE9wdGlvbnMud2lsbE1lc3NhZ2UgLSBzZW50IGJ5IHRoZSBzZXJ2ZXIgd2hlbiB0aGUgY2xpZW50XG5cdFx0ICogICAgICAgICAgICAgICAgICAgIGRpc2Nvbm5lY3RzIGFibm9ybWFsbHkuXG5cdFx0ICogQHBhcmFtIHtudW1iZXJ9IGNvbm5lY3RPcHRpb25zLmtlZXBBbGl2ZUludGVydmFsIC0gdGhlIHNlcnZlciBkaXNjb25uZWN0cyB0aGlzIGNsaWVudCBpZlxuXHRcdCAqICAgICAgICAgICAgICAgICAgICB0aGVyZSBpcyBubyBhY3Rpdml0eSBmb3IgdGhpcyBudW1iZXIgb2Ygc2Vjb25kcy5cblx0XHQgKiAgICAgICAgICAgICAgICAgICAgVGhlIGRlZmF1bHQgdmFsdWUgb2YgNjAgc2Vjb25kcyBpcyBhc3N1bWVkIGlmIG5vdCBzZXQuXG5cdFx0ICogQHBhcmFtIHtib29sZWFufSBjb25uZWN0T3B0aW9ucy5jbGVhblNlc3Npb24gLSBpZiB0cnVlKGRlZmF1bHQpIHRoZSBjbGllbnQgYW5kIHNlcnZlclxuXHRcdCAqICAgICAgICAgICAgICAgICAgICBwZXJzaXN0ZW50IHN0YXRlIGlzIGRlbGV0ZWQgb24gc3VjY2Vzc2Z1bCBjb25uZWN0LlxuXHRcdCAqIEBwYXJhbSB7Ym9vbGVhbn0gY29ubmVjdE9wdGlvbnMudXNlU1NMIC0gaWYgcHJlc2VudCBhbmQgdHJ1ZSwgdXNlIGFuIFNTTCBXZWJzb2NrZXQgY29ubmVjdGlvbi5cblx0XHQgKiBAcGFyYW0ge29iamVjdH0gY29ubmVjdE9wdGlvbnMuaW52b2NhdGlvbkNvbnRleHQgLSBwYXNzZWQgdG8gdGhlIG9uU3VjY2VzcyBjYWxsYmFjayBvciBvbkZhaWx1cmUgY2FsbGJhY2suXG5cdFx0ICogQHBhcmFtIHtmdW5jdGlvbn0gY29ubmVjdE9wdGlvbnMub25TdWNjZXNzIC0gY2FsbGVkIHdoZW4gdGhlIGNvbm5lY3QgYWNrbm93bGVkZ2VtZW50XG5cdFx0ICogICAgICAgICAgICAgICAgICAgIGhhcyBiZWVuIHJlY2VpdmVkIGZyb20gdGhlIHNlcnZlci5cblx0XHQgKiBBIHNpbmdsZSByZXNwb25zZSBvYmplY3QgcGFyYW1ldGVyIGlzIHBhc3NlZCB0byB0aGUgb25TdWNjZXNzIGNhbGxiYWNrIGNvbnRhaW5pbmcgdGhlIGZvbGxvd2luZyBmaWVsZHM6XG5cdFx0ICogPG9sPlxuXHRcdCAqIDxsaT5pbnZvY2F0aW9uQ29udGV4dCBhcyBwYXNzZWQgaW4gdG8gdGhlIG9uU3VjY2VzcyBtZXRob2QgaW4gdGhlIGNvbm5lY3RPcHRpb25zLlxuXHRcdCAqIDwvb2w+XG5cdCAqIEBwYXJhbSB7ZnVuY3Rpb259IGNvbm5lY3RPcHRpb25zLm9uRmFpbHVyZSAtIGNhbGxlZCB3aGVuIHRoZSBjb25uZWN0IHJlcXVlc3QgaGFzIGZhaWxlZCBvciB0aW1lZCBvdXQuXG5cdFx0ICogQSBzaW5nbGUgcmVzcG9uc2Ugb2JqZWN0IHBhcmFtZXRlciBpcyBwYXNzZWQgdG8gdGhlIG9uRmFpbHVyZSBjYWxsYmFjayBjb250YWluaW5nIHRoZSBmb2xsb3dpbmcgZmllbGRzOlxuXHRcdCAqIDxvbD5cblx0XHQgKiA8bGk+aW52b2NhdGlvbkNvbnRleHQgYXMgcGFzc2VkIGluIHRvIHRoZSBvbkZhaWx1cmUgbWV0aG9kIGluIHRoZSBjb25uZWN0T3B0aW9ucy5cblx0XHQgKiA8bGk+ZXJyb3JDb2RlIGEgbnVtYmVyIGluZGljYXRpbmcgdGhlIG5hdHVyZSBvZiB0aGUgZXJyb3IuXG5cdFx0ICogPGxpPmVycm9yTWVzc2FnZSB0ZXh0IGRlc2NyaWJpbmcgdGhlIGVycm9yLlxuXHRcdCAqIDwvb2w+XG5cdCAqIEBwYXJhbSB7YXJyYXl9IGNvbm5lY3RPcHRpb25zLmhvc3RzIC0gSWYgcHJlc2VudCB0aGlzIGNvbnRhaW5zIGVpdGhlciBhIHNldCBvZiBob3N0bmFtZXMgb3IgZnVsbHkgcXVhbGlmaWVkXG5cdFx0ICogV2ViU29ja2V0IFVSSXMgKHdzOi8vaW90LmVjbGlwc2Uub3JnOjgwL3dzKSwgdGhhdCBhcmUgdHJpZWQgaW4gb3JkZXIgaW4gcGxhY2Vcblx0XHQgKiBvZiB0aGUgaG9zdCBhbmQgcG9ydCBwYXJhbWF0ZXIgb24gdGhlIGNvbnN0cnV0b3IuIFRoZSBob3N0cyBhcmUgdHJpZWQgb25lIGF0IGF0IHRpbWUgaW4gb3JkZXIgdW50aWxcblx0XHQgKiBvbmUgb2YgdGhlbiBzdWNjZWVkcy5cblx0ICogQHBhcmFtIHthcnJheX0gY29ubmVjdE9wdGlvbnMucG9ydHMgLSBJZiBwcmVzZW50IHRoZSBzZXQgb2YgcG9ydHMgbWF0Y2hpbmcgdGhlIGhvc3RzLiBJZiBob3N0cyBjb250YWlucyBVUklzLCB0aGlzIHByb3BlcnR5XG5cdFx0ICogaXMgbm90IHVzZWQuXG5cdCAqIEBwYXJhbSB7Ym9vbGVhbn0gY29ubmVjdE9wdGlvbnMucmVjb25uZWN0IC0gU2V0cyB3aGV0aGVyIHRoZSBjbGllbnQgd2lsbCBhdXRvbWF0aWNhbGx5IGF0dGVtcHQgdG8gcmVjb25uZWN0XG5cdCAqIHRvIHRoZSBzZXJ2ZXIgaWYgdGhlIGNvbm5lY3Rpb24gaXMgbG9zdC5cblx0ICo8dWw+XG5cdCAqPGxpPklmIHNldCB0byBmYWxzZSwgdGhlIGNsaWVudCB3aWxsIG5vdCBhdHRlbXB0IHRvIGF1dG9tYXRpY2FsbHkgcmVjb25uZWN0IHRvIHRoZSBzZXJ2ZXIgaW4gdGhlIGV2ZW50IHRoYXQgdGhlXG5cdCAqIGNvbm5lY3Rpb24gaXMgbG9zdC48L2xpPlxuXHQgKjxsaT5JZiBzZXQgdG8gdHJ1ZSwgaW4gdGhlIGV2ZW50IHRoYXQgdGhlIGNvbm5lY3Rpb24gaXMgbG9zdCwgdGhlIGNsaWVudCB3aWxsIGF0dGVtcHQgdG8gcmVjb25uZWN0IHRvIHRoZSBzZXJ2ZXIuXG5cdCAqIEl0IHdpbGwgaW5pdGlhbGx5IHdhaXQgMSBzZWNvbmQgYmVmb3JlIGl0IGF0dGVtcHRzIHRvIHJlY29ubmVjdCwgZm9yIGV2ZXJ5IGZhaWxlZCByZWNvbm5lY3QgYXR0ZW1wdCwgdGhlIGRlbGF5XG5cdCAqIHdpbGwgZG91YmxlIHVudGlsIGl0IGlzIGF0IDIgbWludXRlcyBhdCB3aGljaCBwb2ludCB0aGUgZGVsYXkgd2lsbCBzdGF5IGF0IDIgbWludXRlcy48L2xpPlxuXHQgKjwvdWw+XG5cdCAqIEBwYXJhbSB7bnVtYmVyfSBjb25uZWN0T3B0aW9ucy5tcXR0VmVyc2lvbiAtIFRoZSB2ZXJzaW9uIG9mIE1RVFQgdG8gdXNlIHRvIGNvbm5lY3QgdG8gdGhlIE1RVFQgQnJva2VyLlxuXHQgKjx1bD5cblx0ICo8bGk+MyAtIE1RVFQgVjMuMTwvbGk+XG5cdCAqPGxpPjQgLSBNUVRUIFYzLjEuMTwvbGk+XG5cdCAqPC91bD5cblx0ICogQHBhcmFtIHtib29sZWFufSBjb25uZWN0T3B0aW9ucy5tcXR0VmVyc2lvbkV4cGxpY2l0IC0gSWYgc2V0IHRvIHRydWUsIHdpbGwgZm9yY2UgdGhlIGNvbm5lY3Rpb24gdG8gdXNlIHRoZVxuXHQgKiBzZWxlY3RlZCBNUVRUIFZlcnNpb24gb3Igd2lsbCBmYWlsIHRvIGNvbm5lY3QuXG5cdCAqIEBwYXJhbSB7YXJyYXl9IGNvbm5lY3RPcHRpb25zLnVyaXMgLSBJZiBwcmVzZW50LCBzaG91bGQgY29udGFpbiBhIGxpc3Qgb2YgZnVsbHkgcXVhbGlmaWVkIFdlYlNvY2tldCB1cmlzXG5cdCAqIChlLmcuIHdzOi8vaW90LmVjbGlwc2Uub3JnOjgwL3dzKSwgdGhhdCBhcmUgdHJpZWQgaW4gb3JkZXIgaW4gcGxhY2Ugb2YgdGhlIGhvc3QgYW5kIHBvcnQgcGFyYW1ldGVyIG9mIHRoZSBjb25zdHJ1dG9yLlxuXHQgKiBUaGUgdXJpcyBhcmUgdHJpZWQgb25lIGF0IGEgdGltZSBpbiBvcmRlciB1bnRpbCBvbmUgb2YgdGhlbSBzdWNjZWVkcy4gRG8gbm90IHVzZSB0aGlzIGluIGNvbmp1bmN0aW9uIHdpdGggaG9zdHMgYXNcblx0ICogdGhlIGhvc3RzIGFycmF5IHdpbGwgYmUgY29udmVydGVkIHRvIHVyaXMgYW5kIHdpbGwgb3ZlcndyaXRlIHRoaXMgcHJvcGVydHkuXG5cdFx0ICogQHRocm93cyB7SW52YWxpZFN0YXRlfSBJZiB0aGUgY2xpZW50IGlzIG5vdCBpbiBkaXNjb25uZWN0ZWQgc3RhdGUuIFRoZSBjbGllbnQgbXVzdCBoYXZlIHJlY2VpdmVkIGNvbm5lY3Rpb25Mb3N0XG5cdFx0ICogb3IgZGlzY29ubmVjdGVkIGJlZm9yZSBjYWxsaW5nIGNvbm5lY3QgZm9yIGEgc2Vjb25kIG9yIHN1YnNlcXVlbnQgdGltZS5cblx0XHQgKi9cblx0XHRcdHRoaXMuY29ubmVjdCA9IGZ1bmN0aW9uIChjb25uZWN0T3B0aW9ucykge1xuXHRcdFx0XHRjb25uZWN0T3B0aW9ucyA9IGNvbm5lY3RPcHRpb25zIHx8IHt9IDtcblx0XHRcdFx0dmFsaWRhdGUoY29ubmVjdE9wdGlvbnMsICB7dGltZW91dDpcIm51bWJlclwiLFxuXHRcdFx0XHRcdHVzZXJOYW1lOlwic3RyaW5nXCIsXG5cdFx0XHRcdFx0cGFzc3dvcmQ6XCJzdHJpbmdcIixcblx0XHRcdFx0XHR3aWxsTWVzc2FnZTpcIm9iamVjdFwiLFxuXHRcdFx0XHRcdGtlZXBBbGl2ZUludGVydmFsOlwibnVtYmVyXCIsXG5cdFx0XHRcdFx0Y2xlYW5TZXNzaW9uOlwiYm9vbGVhblwiLFxuXHRcdFx0XHRcdHVzZVNTTDpcImJvb2xlYW5cIixcblx0XHRcdFx0XHRpbnZvY2F0aW9uQ29udGV4dDpcIm9iamVjdFwiLFxuXHRcdFx0XHRcdG9uU3VjY2VzczpcImZ1bmN0aW9uXCIsXG5cdFx0XHRcdFx0b25GYWlsdXJlOlwiZnVuY3Rpb25cIixcblx0XHRcdFx0XHRob3N0czpcIm9iamVjdFwiLFxuXHRcdFx0XHRcdHBvcnRzOlwib2JqZWN0XCIsXG5cdFx0XHRcdFx0cmVjb25uZWN0OlwiYm9vbGVhblwiLFxuXHRcdFx0XHRcdG1xdHRWZXJzaW9uOlwibnVtYmVyXCIsXG5cdFx0XHRcdFx0bXF0dFZlcnNpb25FeHBsaWNpdDpcImJvb2xlYW5cIixcblx0XHRcdFx0XHR1cmlzOiBcIm9iamVjdFwifSk7XG5cblx0XHRcdFx0Ly8gSWYgbm8ga2VlcCBhbGl2ZSBpbnRlcnZhbCBpcyBzZXQsIGFzc3VtZSA2MCBzZWNvbmRzLlxuXHRcdFx0XHRpZiAoY29ubmVjdE9wdGlvbnMua2VlcEFsaXZlSW50ZXJ2YWwgPT09IHVuZGVmaW5lZClcblx0XHRcdFx0XHRjb25uZWN0T3B0aW9ucy5rZWVwQWxpdmVJbnRlcnZhbCA9IDYwO1xuXG5cdFx0XHRcdGlmIChjb25uZWN0T3B0aW9ucy5tcXR0VmVyc2lvbiA+IDQgfHwgY29ubmVjdE9wdGlvbnMubXF0dFZlcnNpb24gPCAzKSB7XG5cdFx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKGZvcm1hdChFUlJPUi5JTlZBTElEX0FSR1VNRU5ULCBbY29ubmVjdE9wdGlvbnMubXF0dFZlcnNpb24sIFwiY29ubmVjdE9wdGlvbnMubXF0dFZlcnNpb25cIl0pKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmIChjb25uZWN0T3B0aW9ucy5tcXR0VmVyc2lvbiA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdFx0Y29ubmVjdE9wdGlvbnMubXF0dFZlcnNpb25FeHBsaWNpdCA9IGZhbHNlO1xuXHRcdFx0XHRcdGNvbm5lY3RPcHRpb25zLm1xdHRWZXJzaW9uID0gNDtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRjb25uZWN0T3B0aW9ucy5tcXR0VmVyc2lvbkV4cGxpY2l0ID0gdHJ1ZTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vQ2hlY2sgdGhhdCBpZiBwYXNzd29yZCBpcyBzZXQsIHNvIGlzIHVzZXJuYW1lXG5cdFx0XHRcdGlmIChjb25uZWN0T3B0aW9ucy5wYXNzd29yZCAhPT0gdW5kZWZpbmVkICYmIGNvbm5lY3RPcHRpb25zLnVzZXJOYW1lID09PSB1bmRlZmluZWQpXG5cdFx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKGZvcm1hdChFUlJPUi5JTlZBTElEX0FSR1VNRU5ULCBbY29ubmVjdE9wdGlvbnMucGFzc3dvcmQsIFwiY29ubmVjdE9wdGlvbnMucGFzc3dvcmRcIl0pKTtcblxuXHRcdFx0XHRpZiAoY29ubmVjdE9wdGlvbnMud2lsbE1lc3NhZ2UpIHtcblx0XHRcdFx0XHRpZiAoIShjb25uZWN0T3B0aW9ucy53aWxsTWVzc2FnZSBpbnN0YW5jZW9mIE1lc3NhZ2UpKVxuXHRcdFx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKGZvcm1hdChFUlJPUi5JTlZBTElEX1RZUEUsIFtjb25uZWN0T3B0aW9ucy53aWxsTWVzc2FnZSwgXCJjb25uZWN0T3B0aW9ucy53aWxsTWVzc2FnZVwiXSkpO1xuXHRcdFx0XHRcdC8vIFRoZSB3aWxsIG1lc3NhZ2UgbXVzdCBoYXZlIGEgcGF5bG9hZCB0aGF0IGNhbiBiZSByZXByZXNlbnRlZCBhcyBhIHN0cmluZy5cblx0XHRcdFx0XHQvLyBDYXVzZSB0aGUgd2lsbE1lc3NhZ2UgdG8gdGhyb3cgYW4gZXhjZXB0aW9uIGlmIHRoaXMgaXMgbm90IHRoZSBjYXNlLlxuXHRcdFx0XHRcdGNvbm5lY3RPcHRpb25zLndpbGxNZXNzYWdlLnN0cmluZ1BheWxvYWQgPSBudWxsO1xuXG5cdFx0XHRcdFx0aWYgKHR5cGVvZiBjb25uZWN0T3B0aW9ucy53aWxsTWVzc2FnZS5kZXN0aW5hdGlvbk5hbWUgPT09IFwidW5kZWZpbmVkXCIpXG5cdFx0XHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoZm9ybWF0KEVSUk9SLklOVkFMSURfVFlQRSwgW3R5cGVvZiBjb25uZWN0T3B0aW9ucy53aWxsTWVzc2FnZS5kZXN0aW5hdGlvbk5hbWUsIFwiY29ubmVjdE9wdGlvbnMud2lsbE1lc3NhZ2UuZGVzdGluYXRpb25OYW1lXCJdKSk7XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKHR5cGVvZiBjb25uZWN0T3B0aW9ucy5jbGVhblNlc3Npb24gPT09IFwidW5kZWZpbmVkXCIpXG5cdFx0XHRcdFx0Y29ubmVjdE9wdGlvbnMuY2xlYW5TZXNzaW9uID0gdHJ1ZTtcblx0XHRcdFx0aWYgKGNvbm5lY3RPcHRpb25zLmhvc3RzKSB7XG5cblx0XHRcdFx0XHRpZiAoIShjb25uZWN0T3B0aW9ucy5ob3N0cyBpbnN0YW5jZW9mIEFycmF5KSApXG5cdFx0XHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoZm9ybWF0KEVSUk9SLklOVkFMSURfQVJHVU1FTlQsIFtjb25uZWN0T3B0aW9ucy5ob3N0cywgXCJjb25uZWN0T3B0aW9ucy5ob3N0c1wiXSkpO1xuXHRcdFx0XHRcdGlmIChjb25uZWN0T3B0aW9ucy5ob3N0cy5sZW5ndGggPDEgKVxuXHRcdFx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKGZvcm1hdChFUlJPUi5JTlZBTElEX0FSR1VNRU5ULCBbY29ubmVjdE9wdGlvbnMuaG9zdHMsIFwiY29ubmVjdE9wdGlvbnMuaG9zdHNcIl0pKTtcblxuXHRcdFx0XHRcdHZhciB1c2luZ1VSSXMgPSBmYWxzZTtcblx0XHRcdFx0XHRmb3IgKHZhciBpID0gMDsgaTxjb25uZWN0T3B0aW9ucy5ob3N0cy5sZW5ndGg7IGkrKykge1xuXHRcdFx0XHRcdFx0aWYgKHR5cGVvZiBjb25uZWN0T3B0aW9ucy5ob3N0c1tpXSAhPT0gXCJzdHJpbmdcIilcblx0XHRcdFx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKGZvcm1hdChFUlJPUi5JTlZBTElEX1RZUEUsIFt0eXBlb2YgY29ubmVjdE9wdGlvbnMuaG9zdHNbaV0sIFwiY29ubmVjdE9wdGlvbnMuaG9zdHNbXCIraStcIl1cIl0pKTtcblx0XHRcdFx0XHRcdGlmICgvXih3c3M/KTpcXC9cXC8oKFxcWyguKylcXF0pfChbXlxcL10rPykpKDooXFxkKykpPyhcXC8uKikkLy50ZXN0KGNvbm5lY3RPcHRpb25zLmhvc3RzW2ldKSkge1xuXHRcdFx0XHRcdFx0XHRpZiAoaSA9PT0gMCkge1xuXHRcdFx0XHRcdFx0XHRcdHVzaW5nVVJJcyA9IHRydWU7XG5cdFx0XHRcdFx0XHRcdH0gZWxzZSBpZiAoIXVzaW5nVVJJcykge1xuXHRcdFx0XHRcdFx0XHRcdHRocm93IG5ldyBFcnJvcihmb3JtYXQoRVJST1IuSU5WQUxJRF9BUkdVTUVOVCwgW2Nvbm5lY3RPcHRpb25zLmhvc3RzW2ldLCBcImNvbm5lY3RPcHRpb25zLmhvc3RzW1wiK2krXCJdXCJdKSk7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH0gZWxzZSBpZiAodXNpbmdVUklzKSB7XG5cdFx0XHRcdFx0XHRcdHRocm93IG5ldyBFcnJvcihmb3JtYXQoRVJST1IuSU5WQUxJRF9BUkdVTUVOVCwgW2Nvbm5lY3RPcHRpb25zLmhvc3RzW2ldLCBcImNvbm5lY3RPcHRpb25zLmhvc3RzW1wiK2krXCJdXCJdKSk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0aWYgKCF1c2luZ1VSSXMpIHtcblx0XHRcdFx0XHRcdGlmICghY29ubmVjdE9wdGlvbnMucG9ydHMpXG5cdFx0XHRcdFx0XHRcdHRocm93IG5ldyBFcnJvcihmb3JtYXQoRVJST1IuSU5WQUxJRF9BUkdVTUVOVCwgW2Nvbm5lY3RPcHRpb25zLnBvcnRzLCBcImNvbm5lY3RPcHRpb25zLnBvcnRzXCJdKSk7XG5cdFx0XHRcdFx0XHRpZiAoIShjb25uZWN0T3B0aW9ucy5wb3J0cyBpbnN0YW5jZW9mIEFycmF5KSApXG5cdFx0XHRcdFx0XHRcdHRocm93IG5ldyBFcnJvcihmb3JtYXQoRVJST1IuSU5WQUxJRF9BUkdVTUVOVCwgW2Nvbm5lY3RPcHRpb25zLnBvcnRzLCBcImNvbm5lY3RPcHRpb25zLnBvcnRzXCJdKSk7XG5cdFx0XHRcdFx0XHRpZiAoY29ubmVjdE9wdGlvbnMuaG9zdHMubGVuZ3RoICE9PSBjb25uZWN0T3B0aW9ucy5wb3J0cy5sZW5ndGgpXG5cdFx0XHRcdFx0XHRcdHRocm93IG5ldyBFcnJvcihmb3JtYXQoRVJST1IuSU5WQUxJRF9BUkdVTUVOVCwgW2Nvbm5lY3RPcHRpb25zLnBvcnRzLCBcImNvbm5lY3RPcHRpb25zLnBvcnRzXCJdKSk7XG5cblx0XHRcdFx0XHRcdGNvbm5lY3RPcHRpb25zLnVyaXMgPSBbXTtcblxuXHRcdFx0XHRcdFx0Zm9yICh2YXIgaSA9IDA7IGk8Y29ubmVjdE9wdGlvbnMuaG9zdHMubGVuZ3RoOyBpKyspIHtcblx0XHRcdFx0XHRcdFx0aWYgKHR5cGVvZiBjb25uZWN0T3B0aW9ucy5wb3J0c1tpXSAhPT0gXCJudW1iZXJcIiB8fCBjb25uZWN0T3B0aW9ucy5wb3J0c1tpXSA8IDApXG5cdFx0XHRcdFx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKGZvcm1hdChFUlJPUi5JTlZBTElEX1RZUEUsIFt0eXBlb2YgY29ubmVjdE9wdGlvbnMucG9ydHNbaV0sIFwiY29ubmVjdE9wdGlvbnMucG9ydHNbXCIraStcIl1cIl0pKTtcblx0XHRcdFx0XHRcdFx0dmFyIGhvc3QgPSBjb25uZWN0T3B0aW9ucy5ob3N0c1tpXTtcblx0XHRcdFx0XHRcdFx0dmFyIHBvcnQgPSBjb25uZWN0T3B0aW9ucy5wb3J0c1tpXTtcblxuXHRcdFx0XHRcdFx0XHR2YXIgaXB2NiA9IChob3N0LmluZGV4T2YoXCI6XCIpICE9PSAtMSk7XG5cdFx0XHRcdFx0XHRcdHVyaSA9IFwid3M6Ly9cIisoaXB2Nj9cIltcIitob3N0K1wiXVwiOmhvc3QpK1wiOlwiK3BvcnQrcGF0aDtcblx0XHRcdFx0XHRcdFx0Y29ubmVjdE9wdGlvbnMudXJpcy5wdXNoKHVyaSk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdGNvbm5lY3RPcHRpb25zLnVyaXMgPSBjb25uZWN0T3B0aW9ucy5ob3N0cztcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRjbGllbnQuY29ubmVjdChjb25uZWN0T3B0aW9ucyk7XG5cdFx0XHR9O1xuXG5cdFx0XHQvKipcblx0XHQgKiBTdWJzY3JpYmUgZm9yIG1lc3NhZ2VzLCByZXF1ZXN0IHJlY2VpcHQgb2YgYSBjb3B5IG9mIG1lc3NhZ2VzIHNlbnQgdG8gdGhlIGRlc3RpbmF0aW9ucyBkZXNjcmliZWQgYnkgdGhlIGZpbHRlci5cblx0XHQgKlxuXHRcdCAqIEBuYW1lIFBhaG8uQ2xpZW50I3N1YnNjcmliZVxuXHRcdCAqIEBmdW5jdGlvblxuXHRcdCAqIEBwYXJhbSB7c3RyaW5nfSBmaWx0ZXIgZGVzY3JpYmluZyB0aGUgZGVzdGluYXRpb25zIHRvIHJlY2VpdmUgbWVzc2FnZXMgZnJvbS5cblx0XHQgKiA8YnI+XG5cdFx0ICogQHBhcmFtIHtvYmplY3R9IHN1YnNjcmliZU9wdGlvbnMgLSB1c2VkIHRvIGNvbnRyb2wgdGhlIHN1YnNjcmlwdGlvblxuXHRcdCAqXG5cdFx0ICogQHBhcmFtIHtudW1iZXJ9IHN1YnNjcmliZU9wdGlvbnMucW9zIC0gdGhlIG1heGltdW0gcW9zIG9mIGFueSBwdWJsaWNhdGlvbnMgc2VudFxuXHRcdCAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFzIGEgcmVzdWx0IG9mIG1ha2luZyB0aGlzIHN1YnNjcmlwdGlvbi5cblx0XHQgKiBAcGFyYW0ge29iamVjdH0gc3Vic2NyaWJlT3B0aW9ucy5pbnZvY2F0aW9uQ29udGV4dCAtIHBhc3NlZCB0byB0aGUgb25TdWNjZXNzIGNhbGxiYWNrXG5cdFx0ICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3Igb25GYWlsdXJlIGNhbGxiYWNrLlxuXHRcdCAqIEBwYXJhbSB7ZnVuY3Rpb259IHN1YnNjcmliZU9wdGlvbnMub25TdWNjZXNzIC0gY2FsbGVkIHdoZW4gdGhlIHN1YnNjcmliZSBhY2tub3dsZWRnZW1lbnRcblx0XHQgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYXMgYmVlbiByZWNlaXZlZCBmcm9tIHRoZSBzZXJ2ZXIuXG5cdFx0ICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQSBzaW5nbGUgcmVzcG9uc2Ugb2JqZWN0IHBhcmFtZXRlciBpcyBwYXNzZWQgdG8gdGhlIG9uU3VjY2VzcyBjYWxsYmFjayBjb250YWluaW5nIHRoZSBmb2xsb3dpbmcgZmllbGRzOlxuXHRcdCAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxvbD5cblx0XHQgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGk+aW52b2NhdGlvbkNvbnRleHQgaWYgc2V0IGluIHRoZSBzdWJzY3JpYmVPcHRpb25zLlxuXHRcdCAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvb2w+XG5cdFx0ICogQHBhcmFtIHtmdW5jdGlvbn0gc3Vic2NyaWJlT3B0aW9ucy5vbkZhaWx1cmUgLSBjYWxsZWQgd2hlbiB0aGUgc3Vic2NyaWJlIHJlcXVlc3QgaGFzIGZhaWxlZCBvciB0aW1lZCBvdXQuXG5cdFx0ICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQSBzaW5nbGUgcmVzcG9uc2Ugb2JqZWN0IHBhcmFtZXRlciBpcyBwYXNzZWQgdG8gdGhlIG9uRmFpbHVyZSBjYWxsYmFjayBjb250YWluaW5nIHRoZSBmb2xsb3dpbmcgZmllbGRzOlxuXHRcdCAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxvbD5cblx0XHQgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGk+aW52b2NhdGlvbkNvbnRleHQgLSBpZiBzZXQgaW4gdGhlIHN1YnNjcmliZU9wdGlvbnMuXG5cdFx0ICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpPmVycm9yQ29kZSAtIGEgbnVtYmVyIGluZGljYXRpbmcgdGhlIG5hdHVyZSBvZiB0aGUgZXJyb3IuXG5cdFx0ICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpPmVycm9yTWVzc2FnZSAtIHRleHQgZGVzY3JpYmluZyB0aGUgZXJyb3IuXG5cdFx0ICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9vbD5cblx0XHQgKiBAcGFyYW0ge251bWJlcn0gc3Vic2NyaWJlT3B0aW9ucy50aW1lb3V0IC0gd2hpY2gsIGlmIHByZXNlbnQsIGRldGVybWluZXMgdGhlIG51bWJlciBvZlxuXHRcdCAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlY29uZHMgYWZ0ZXIgd2hpY2ggdGhlIG9uRmFpbHVyZSBjYWxiYWNrIGlzIGNhbGxlZC5cblx0XHQgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBUaGUgcHJlc2VuY2Ugb2YgYSB0aW1lb3V0IGRvZXMgbm90IHByZXZlbnQgdGhlIG9uU3VjY2Vzc1xuXHRcdCAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrIGZyb20gYmVpbmcgY2FsbGVkIHdoZW4gdGhlIHN1YnNjcmliZSBjb21wbGV0ZXMuXG5cdFx0ICogQHRocm93cyB7SW52YWxpZFN0YXRlfSBpZiB0aGUgY2xpZW50IGlzIG5vdCBpbiBjb25uZWN0ZWQgc3RhdGUuXG5cdFx0ICovXG5cdFx0XHR0aGlzLnN1YnNjcmliZSA9IGZ1bmN0aW9uIChmaWx0ZXIsIHN1YnNjcmliZU9wdGlvbnMpIHtcblx0XHRcdFx0aWYgKHR5cGVvZiBmaWx0ZXIgIT09IFwic3RyaW5nXCIgJiYgZmlsdGVyLmNvbnN0cnVjdG9yICE9PSBBcnJheSlcblx0XHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGFyZ3VtZW50OlwiK2ZpbHRlcik7XG5cdFx0XHRcdHN1YnNjcmliZU9wdGlvbnMgPSBzdWJzY3JpYmVPcHRpb25zIHx8IHt9IDtcblx0XHRcdFx0dmFsaWRhdGUoc3Vic2NyaWJlT3B0aW9ucywgIHtxb3M6XCJudW1iZXJcIixcblx0XHRcdFx0XHRpbnZvY2F0aW9uQ29udGV4dDpcIm9iamVjdFwiLFxuXHRcdFx0XHRcdG9uU3VjY2VzczpcImZ1bmN0aW9uXCIsXG5cdFx0XHRcdFx0b25GYWlsdXJlOlwiZnVuY3Rpb25cIixcblx0XHRcdFx0XHR0aW1lb3V0OlwibnVtYmVyXCJcblx0XHRcdFx0fSk7XG5cdFx0XHRcdGlmIChzdWJzY3JpYmVPcHRpb25zLnRpbWVvdXQgJiYgIXN1YnNjcmliZU9wdGlvbnMub25GYWlsdXJlKVxuXHRcdFx0XHRcdHRocm93IG5ldyBFcnJvcihcInN1YnNjcmliZU9wdGlvbnMudGltZW91dCBzcGVjaWZpZWQgd2l0aCBubyBvbkZhaWx1cmUgY2FsbGJhY2suXCIpO1xuXHRcdFx0XHRpZiAodHlwZW9mIHN1YnNjcmliZU9wdGlvbnMucW9zICE9PSBcInVuZGVmaW5lZFwiICYmICEoc3Vic2NyaWJlT3B0aW9ucy5xb3MgPT09IDAgfHwgc3Vic2NyaWJlT3B0aW9ucy5xb3MgPT09IDEgfHwgc3Vic2NyaWJlT3B0aW9ucy5xb3MgPT09IDIgKSlcblx0XHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoZm9ybWF0KEVSUk9SLklOVkFMSURfQVJHVU1FTlQsIFtzdWJzY3JpYmVPcHRpb25zLnFvcywgXCJzdWJzY3JpYmVPcHRpb25zLnFvc1wiXSkpO1xuXHRcdFx0XHRjbGllbnQuc3Vic2NyaWJlKGZpbHRlciwgc3Vic2NyaWJlT3B0aW9ucyk7XG5cdFx0XHR9O1xuXG5cdFx0LyoqXG5cdFx0ICogVW5zdWJzY3JpYmUgZm9yIG1lc3NhZ2VzLCBzdG9wIHJlY2VpdmluZyBtZXNzYWdlcyBzZW50IHRvIGRlc3RpbmF0aW9ucyBkZXNjcmliZWQgYnkgdGhlIGZpbHRlci5cblx0XHQgKlxuXHRcdCAqIEBuYW1lIFBhaG8uQ2xpZW50I3Vuc3Vic2NyaWJlXG5cdFx0ICogQGZ1bmN0aW9uXG5cdFx0ICogQHBhcmFtIHtzdHJpbmd9IGZpbHRlciAtIGRlc2NyaWJpbmcgdGhlIGRlc3RpbmF0aW9ucyB0byByZWNlaXZlIG1lc3NhZ2VzIGZyb20uXG5cdFx0ICogQHBhcmFtIHtvYmplY3R9IHVuc3Vic2NyaWJlT3B0aW9ucyAtIHVzZWQgdG8gY29udHJvbCB0aGUgc3Vic2NyaXB0aW9uXG5cdFx0ICogQHBhcmFtIHtvYmplY3R9IHVuc3Vic2NyaWJlT3B0aW9ucy5pbnZvY2F0aW9uQ29udGV4dCAtIHBhc3NlZCB0byB0aGUgb25TdWNjZXNzIGNhbGxiYWNrXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0ICBvciBvbkZhaWx1cmUgY2FsbGJhY2suXG5cdFx0ICogQHBhcmFtIHtmdW5jdGlvbn0gdW5zdWJzY3JpYmVPcHRpb25zLm9uU3VjY2VzcyAtIGNhbGxlZCB3aGVuIHRoZSB1bnN1YnNjcmliZSBhY2tub3dsZWRnZW1lbnQgaGFzIGJlZW4gcmVjZWl2ZWQgZnJvbSB0aGUgc2VydmVyLlxuXHRcdCAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQSBzaW5nbGUgcmVzcG9uc2Ugb2JqZWN0IHBhcmFtZXRlciBpcyBwYXNzZWQgdG8gdGhlXG5cdFx0ICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvblN1Y2Nlc3MgY2FsbGJhY2sgY29udGFpbmluZyB0aGUgZm9sbG93aW5nIGZpZWxkczpcblx0XHQgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxvbD5cblx0XHQgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaT5pbnZvY2F0aW9uQ29udGV4dCAtIGlmIHNldCBpbiB0aGUgdW5zdWJzY3JpYmVPcHRpb25zLlxuXHRcdCAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9vbD5cblx0XHQgKiBAcGFyYW0ge2Z1bmN0aW9ufSB1bnN1YnNjcmliZU9wdGlvbnMub25GYWlsdXJlIGNhbGxlZCB3aGVuIHRoZSB1bnN1YnNjcmliZSByZXF1ZXN0IGhhcyBmYWlsZWQgb3IgdGltZWQgb3V0LlxuXHRcdCAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQSBzaW5nbGUgcmVzcG9uc2Ugb2JqZWN0IHBhcmFtZXRlciBpcyBwYXNzZWQgdG8gdGhlIG9uRmFpbHVyZSBjYWxsYmFjayBjb250YWluaW5nIHRoZSBmb2xsb3dpbmcgZmllbGRzOlxuXHRcdCAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPG9sPlxuXHRcdCAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpPmludm9jYXRpb25Db250ZXh0IC0gaWYgc2V0IGluIHRoZSB1bnN1YnNjcmliZU9wdGlvbnMuXG5cdFx0ICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGk+ZXJyb3JDb2RlIC0gYSBudW1iZXIgaW5kaWNhdGluZyB0aGUgbmF0dXJlIG9mIHRoZSBlcnJvci5cblx0XHQgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaT5lcnJvck1lc3NhZ2UgLSB0ZXh0IGRlc2NyaWJpbmcgdGhlIGVycm9yLlxuXHRcdCAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9vbD5cblx0XHQgKiBAcGFyYW0ge251bWJlcn0gdW5zdWJzY3JpYmVPcHRpb25zLnRpbWVvdXQgLSB3aGljaCwgaWYgcHJlc2VudCwgZGV0ZXJtaW5lcyB0aGUgbnVtYmVyIG9mIHNlY29uZHNcblx0XHQgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFmdGVyIHdoaWNoIHRoZSBvbkZhaWx1cmUgY2FsbGJhY2sgaXMgY2FsbGVkLiBUaGUgcHJlc2VuY2Ugb2Zcblx0XHQgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGEgdGltZW91dCBkb2VzIG5vdCBwcmV2ZW50IHRoZSBvblN1Y2Nlc3MgY2FsbGJhY2sgZnJvbSBiZWluZ1xuXHRcdCAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGVkIHdoZW4gdGhlIHVuc3Vic2NyaWJlIGNvbXBsZXRlc1xuXHRcdCAqIEB0aHJvd3Mge0ludmFsaWRTdGF0ZX0gaWYgdGhlIGNsaWVudCBpcyBub3QgaW4gY29ubmVjdGVkIHN0YXRlLlxuXHRcdCAqL1xuXHRcdFx0dGhpcy51bnN1YnNjcmliZSA9IGZ1bmN0aW9uIChmaWx0ZXIsIHVuc3Vic2NyaWJlT3B0aW9ucykge1xuXHRcdFx0XHRpZiAodHlwZW9mIGZpbHRlciAhPT0gXCJzdHJpbmdcIiAmJiBmaWx0ZXIuY29uc3RydWN0b3IgIT09IEFycmF5KVxuXHRcdFx0XHRcdHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgYXJndW1lbnQ6XCIrZmlsdGVyKTtcblx0XHRcdFx0dW5zdWJzY3JpYmVPcHRpb25zID0gdW5zdWJzY3JpYmVPcHRpb25zIHx8IHt9IDtcblx0XHRcdFx0dmFsaWRhdGUodW5zdWJzY3JpYmVPcHRpb25zLCAge2ludm9jYXRpb25Db250ZXh0Olwib2JqZWN0XCIsXG5cdFx0XHRcdFx0b25TdWNjZXNzOlwiZnVuY3Rpb25cIixcblx0XHRcdFx0XHRvbkZhaWx1cmU6XCJmdW5jdGlvblwiLFxuXHRcdFx0XHRcdHRpbWVvdXQ6XCJudW1iZXJcIlxuXHRcdFx0XHR9KTtcblx0XHRcdFx0aWYgKHVuc3Vic2NyaWJlT3B0aW9ucy50aW1lb3V0ICYmICF1bnN1YnNjcmliZU9wdGlvbnMub25GYWlsdXJlKVxuXHRcdFx0XHRcdHRocm93IG5ldyBFcnJvcihcInVuc3Vic2NyaWJlT3B0aW9ucy50aW1lb3V0IHNwZWNpZmllZCB3aXRoIG5vIG9uRmFpbHVyZSBjYWxsYmFjay5cIik7XG5cdFx0XHRcdGNsaWVudC51bnN1YnNjcmliZShmaWx0ZXIsIHVuc3Vic2NyaWJlT3B0aW9ucyk7XG5cdFx0XHR9O1xuXG5cdFx0XHQvKipcblx0XHQgKiBTZW5kIGEgbWVzc2FnZSB0byB0aGUgY29uc3VtZXJzIG9mIHRoZSBkZXN0aW5hdGlvbiBpbiB0aGUgTWVzc2FnZS5cblx0XHQgKlxuXHRcdCAqIEBuYW1lIFBhaG8uQ2xpZW50I3NlbmRcblx0XHQgKiBAZnVuY3Rpb25cblx0XHQgKiBAcGFyYW0ge3N0cmluZ3xQYWhvLk1lc3NhZ2V9IHRvcGljIC0gPGI+bWFuZGF0b3J5PC9iPiBUaGUgbmFtZSBvZiB0aGUgZGVzdGluYXRpb24gdG8gd2hpY2ggdGhlIG1lc3NhZ2UgaXMgdG8gYmUgc2VudC5cblx0XHQgKiBcdFx0XHRcdFx0ICAgLSBJZiBpdCBpcyB0aGUgb25seSBwYXJhbWV0ZXIsIHVzZWQgYXMgUGFoby5NZXNzYWdlIG9iamVjdC5cblx0XHQgKiBAcGFyYW0ge1N0cmluZ3xBcnJheUJ1ZmZlcn0gcGF5bG9hZCAtIFRoZSBtZXNzYWdlIGRhdGEgdG8gYmUgc2VudC5cblx0XHQgKiBAcGFyYW0ge251bWJlcn0gcW9zIFRoZSBRdWFsaXR5IG9mIFNlcnZpY2UgdXNlZCB0byBkZWxpdmVyIHRoZSBtZXNzYWdlLlxuXHRcdCAqIFx0XHQ8ZGw+XG5cdFx0ICogXHRcdFx0PGR0PjAgQmVzdCBlZmZvcnQgKGRlZmF1bHQpLlxuXHRcdCAqICAgICBcdFx0XHQ8ZHQ+MSBBdCBsZWFzdCBvbmNlLlxuXHRcdCAqICAgICBcdFx0XHQ8ZHQ+MiBFeGFjdGx5IG9uY2UuXG5cdFx0ICogXHRcdDwvZGw+XG5cdFx0ICogQHBhcmFtIHtCb29sZWFufSByZXRhaW5lZCBJZiB0cnVlLCB0aGUgbWVzc2FnZSBpcyB0byBiZSByZXRhaW5lZCBieSB0aGUgc2VydmVyIGFuZCBkZWxpdmVyZWRcblx0XHQgKiAgICAgICAgICAgICAgICAgICAgIHRvIGJvdGggY3VycmVudCBhbmQgZnV0dXJlIHN1YnNjcmlwdGlvbnMuXG5cdFx0ICogICAgICAgICAgICAgICAgICAgICBJZiBmYWxzZSB0aGUgc2VydmVyIG9ubHkgZGVsaXZlcnMgdGhlIG1lc3NhZ2UgdG8gY3VycmVudCBzdWJzY3JpYmVycywgdGhpcyBpcyB0aGUgZGVmYXVsdCBmb3IgbmV3IE1lc3NhZ2VzLlxuXHRcdCAqICAgICAgICAgICAgICAgICAgICAgQSByZWNlaXZlZCBtZXNzYWdlIGhhcyB0aGUgcmV0YWluZWQgYm9vbGVhbiBzZXQgdG8gdHJ1ZSBpZiB0aGUgbWVzc2FnZSB3YXMgcHVibGlzaGVkXG5cdFx0ICogICAgICAgICAgICAgICAgICAgICB3aXRoIHRoZSByZXRhaW5lZCBib29sZWFuIHNldCB0byB0cnVlXG5cdFx0ICogICAgICAgICAgICAgICAgICAgICBhbmQgdGhlIHN1YnNjcnB0aW9uIHdhcyBtYWRlIGFmdGVyIHRoZSBtZXNzYWdlIGhhcyBiZWVuIHB1Ymxpc2hlZC5cblx0XHQgKiBAdGhyb3dzIHtJbnZhbGlkU3RhdGV9IGlmIHRoZSBjbGllbnQgaXMgbm90IGNvbm5lY3RlZC5cblx0XHQgKi9cblx0XHRcdHRoaXMuc2VuZCA9IGZ1bmN0aW9uICh0b3BpYyxwYXlsb2FkLHFvcyxyZXRhaW5lZCkge1xuXHRcdFx0XHR2YXIgbWVzc2FnZSA7XG5cblx0XHRcdFx0aWYoYXJndW1lbnRzLmxlbmd0aCA9PT0gMCl7XG5cdFx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBhcmd1bWVudC5cIitcImxlbmd0aFwiKTtcblxuXHRcdFx0XHR9ZWxzZSBpZihhcmd1bWVudHMubGVuZ3RoID09IDEpIHtcblxuXHRcdFx0XHRcdGlmICghKHRvcGljIGluc3RhbmNlb2YgTWVzc2FnZSkgJiYgKHR5cGVvZiB0b3BpYyAhPT0gXCJzdHJpbmdcIikpXG5cdFx0XHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGFyZ3VtZW50OlwiKyB0eXBlb2YgdG9waWMpO1xuXG5cdFx0XHRcdFx0bWVzc2FnZSA9IHRvcGljO1xuXHRcdFx0XHRcdGlmICh0eXBlb2YgbWVzc2FnZS5kZXN0aW5hdGlvbk5hbWUgPT09IFwidW5kZWZpbmVkXCIpXG5cdFx0XHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoZm9ybWF0KEVSUk9SLklOVkFMSURfQVJHVU1FTlQsW21lc3NhZ2UuZGVzdGluYXRpb25OYW1lLFwiTWVzc2FnZS5kZXN0aW5hdGlvbk5hbWVcIl0pKTtcblx0XHRcdFx0XHRjbGllbnQuc2VuZChtZXNzYWdlKTtcblxuXHRcdFx0XHR9ZWxzZSB7XG5cdFx0XHRcdC8vcGFyYW1ldGVyIGNoZWNraW5nIGluIE1lc3NhZ2Ugb2JqZWN0XG5cdFx0XHRcdFx0bWVzc2FnZSA9IG5ldyBNZXNzYWdlKHBheWxvYWQpO1xuXHRcdFx0XHRcdG1lc3NhZ2UuZGVzdGluYXRpb25OYW1lID0gdG9waWM7XG5cdFx0XHRcdFx0aWYoYXJndW1lbnRzLmxlbmd0aCA+PSAzKVxuXHRcdFx0XHRcdFx0bWVzc2FnZS5xb3MgPSBxb3M7XG5cdFx0XHRcdFx0aWYoYXJndW1lbnRzLmxlbmd0aCA+PSA0KVxuXHRcdFx0XHRcdFx0bWVzc2FnZS5yZXRhaW5lZCA9IHJldGFpbmVkO1xuXHRcdFx0XHRcdGNsaWVudC5zZW5kKG1lc3NhZ2UpO1xuXHRcdFx0XHR9XG5cdFx0XHR9O1xuXG5cdFx0XHQvKipcblx0XHQgKiBQdWJsaXNoIGEgbWVzc2FnZSB0byB0aGUgY29uc3VtZXJzIG9mIHRoZSBkZXN0aW5hdGlvbiBpbiB0aGUgTWVzc2FnZS5cblx0XHQgKiBTeW5vbnltIGZvciBQYWhvLk1xdHQuQ2xpZW50I3NlbmRcblx0XHQgKlxuXHRcdCAqIEBuYW1lIFBhaG8uQ2xpZW50I3B1Ymxpc2hcblx0XHQgKiBAZnVuY3Rpb25cblx0XHQgKiBAcGFyYW0ge3N0cmluZ3xQYWhvLk1lc3NhZ2V9IHRvcGljIC0gPGI+bWFuZGF0b3J5PC9iPiBUaGUgbmFtZSBvZiB0aGUgdG9waWMgdG8gd2hpY2ggdGhlIG1lc3NhZ2UgaXMgdG8gYmUgcHVibGlzaGVkLlxuXHRcdCAqIFx0XHRcdFx0XHQgICAtIElmIGl0IGlzIHRoZSBvbmx5IHBhcmFtZXRlciwgdXNlZCBhcyBQYWhvLk1lc3NhZ2Ugb2JqZWN0LlxuXHRcdCAqIEBwYXJhbSB7U3RyaW5nfEFycmF5QnVmZmVyfSBwYXlsb2FkIC0gVGhlIG1lc3NhZ2UgZGF0YSB0byBiZSBwdWJsaXNoZWQuXG5cdFx0ICogQHBhcmFtIHtudW1iZXJ9IHFvcyBUaGUgUXVhbGl0eSBvZiBTZXJ2aWNlIHVzZWQgdG8gZGVsaXZlciB0aGUgbWVzc2FnZS5cblx0XHQgKiBcdFx0PGRsPlxuXHRcdCAqIFx0XHRcdDxkdD4wIEJlc3QgZWZmb3J0IChkZWZhdWx0KS5cblx0XHQgKiAgICAgXHRcdFx0PGR0PjEgQXQgbGVhc3Qgb25jZS5cblx0XHQgKiAgICAgXHRcdFx0PGR0PjIgRXhhY3RseSBvbmNlLlxuXHRcdCAqIFx0XHQ8L2RsPlxuXHRcdCAqIEBwYXJhbSB7Qm9vbGVhbn0gcmV0YWluZWQgSWYgdHJ1ZSwgdGhlIG1lc3NhZ2UgaXMgdG8gYmUgcmV0YWluZWQgYnkgdGhlIHNlcnZlciBhbmQgZGVsaXZlcmVkXG5cdFx0ICogICAgICAgICAgICAgICAgICAgICB0byBib3RoIGN1cnJlbnQgYW5kIGZ1dHVyZSBzdWJzY3JpcHRpb25zLlxuXHRcdCAqICAgICAgICAgICAgICAgICAgICAgSWYgZmFsc2UgdGhlIHNlcnZlciBvbmx5IGRlbGl2ZXJzIHRoZSBtZXNzYWdlIHRvIGN1cnJlbnQgc3Vic2NyaWJlcnMsIHRoaXMgaXMgdGhlIGRlZmF1bHQgZm9yIG5ldyBNZXNzYWdlcy5cblx0XHQgKiAgICAgICAgICAgICAgICAgICAgIEEgcmVjZWl2ZWQgbWVzc2FnZSBoYXMgdGhlIHJldGFpbmVkIGJvb2xlYW4gc2V0IHRvIHRydWUgaWYgdGhlIG1lc3NhZ2Ugd2FzIHB1Ymxpc2hlZFxuXHRcdCAqICAgICAgICAgICAgICAgICAgICAgd2l0aCB0aGUgcmV0YWluZWQgYm9vbGVhbiBzZXQgdG8gdHJ1ZVxuXHRcdCAqICAgICAgICAgICAgICAgICAgICAgYW5kIHRoZSBzdWJzY3JwdGlvbiB3YXMgbWFkZSBhZnRlciB0aGUgbWVzc2FnZSBoYXMgYmVlbiBwdWJsaXNoZWQuXG5cdFx0ICogQHRocm93cyB7SW52YWxpZFN0YXRlfSBpZiB0aGUgY2xpZW50IGlzIG5vdCBjb25uZWN0ZWQuXG5cdFx0ICovXG5cdFx0XHR0aGlzLnB1Ymxpc2ggPSBmdW5jdGlvbih0b3BpYyxwYXlsb2FkLHFvcyxyZXRhaW5lZCkge1xuXHRcdFx0XHR2YXIgbWVzc2FnZSA7XG5cblx0XHRcdFx0aWYoYXJndW1lbnRzLmxlbmd0aCA9PT0gMCl7XG5cdFx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBhcmd1bWVudC5cIitcImxlbmd0aFwiKTtcblxuXHRcdFx0XHR9ZWxzZSBpZihhcmd1bWVudHMubGVuZ3RoID09IDEpIHtcblxuXHRcdFx0XHRcdGlmICghKHRvcGljIGluc3RhbmNlb2YgTWVzc2FnZSkgJiYgKHR5cGVvZiB0b3BpYyAhPT0gXCJzdHJpbmdcIikpXG5cdFx0XHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGFyZ3VtZW50OlwiKyB0eXBlb2YgdG9waWMpO1xuXG5cdFx0XHRcdFx0bWVzc2FnZSA9IHRvcGljO1xuXHRcdFx0XHRcdGlmICh0eXBlb2YgbWVzc2FnZS5kZXN0aW5hdGlvbk5hbWUgPT09IFwidW5kZWZpbmVkXCIpXG5cdFx0XHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoZm9ybWF0KEVSUk9SLklOVkFMSURfQVJHVU1FTlQsW21lc3NhZ2UuZGVzdGluYXRpb25OYW1lLFwiTWVzc2FnZS5kZXN0aW5hdGlvbk5hbWVcIl0pKTtcblx0XHRcdFx0XHRjbGllbnQuc2VuZChtZXNzYWdlKTtcblxuXHRcdFx0XHR9ZWxzZSB7XG5cdFx0XHRcdFx0Ly9wYXJhbWV0ZXIgY2hlY2tpbmcgaW4gTWVzc2FnZSBvYmplY3Rcblx0XHRcdFx0XHRtZXNzYWdlID0gbmV3IE1lc3NhZ2UocGF5bG9hZCk7XG5cdFx0XHRcdFx0bWVzc2FnZS5kZXN0aW5hdGlvbk5hbWUgPSB0b3BpYztcblx0XHRcdFx0XHRpZihhcmd1bWVudHMubGVuZ3RoID49IDMpXG5cdFx0XHRcdFx0XHRtZXNzYWdlLnFvcyA9IHFvcztcblx0XHRcdFx0XHRpZihhcmd1bWVudHMubGVuZ3RoID49IDQpXG5cdFx0XHRcdFx0XHRtZXNzYWdlLnJldGFpbmVkID0gcmV0YWluZWQ7XG5cdFx0XHRcdFx0Y2xpZW50LnNlbmQobWVzc2FnZSk7XG5cdFx0XHRcdH1cblx0XHRcdH07XG5cblx0XHRcdC8qKlxuXHRcdCAqIE5vcm1hbCBkaXNjb25uZWN0IG9mIHRoaXMgTWVzc2FnaW5nIGNsaWVudCBmcm9tIGl0cyBzZXJ2ZXIuXG5cdFx0ICpcblx0XHQgKiBAbmFtZSBQYWhvLkNsaWVudCNkaXNjb25uZWN0XG5cdFx0ICogQGZ1bmN0aW9uXG5cdFx0ICogQHRocm93cyB7SW52YWxpZFN0YXRlfSBpZiB0aGUgY2xpZW50IGlzIGFscmVhZHkgZGlzY29ubmVjdGVkLlxuXHRcdCAqL1xuXHRcdFx0dGhpcy5kaXNjb25uZWN0ID0gZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRjbGllbnQuZGlzY29ubmVjdCgpO1xuXHRcdFx0fTtcblxuXHRcdFx0LyoqXG5cdFx0ICogR2V0IHRoZSBjb250ZW50cyBvZiB0aGUgdHJhY2UgbG9nLlxuXHRcdCAqXG5cdFx0ICogQG5hbWUgUGFoby5DbGllbnQjZ2V0VHJhY2VMb2dcblx0XHQgKiBAZnVuY3Rpb25cblx0XHQgKiBAcmV0dXJuIHtPYmplY3RbXX0gdHJhY2VidWZmZXIgY29udGFpbmluZyB0aGUgdGltZSBvcmRlcmVkIHRyYWNlIHJlY29yZHMuXG5cdFx0ICovXG5cdFx0XHR0aGlzLmdldFRyYWNlTG9nID0gZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRyZXR1cm4gY2xpZW50LmdldFRyYWNlTG9nKCk7XG5cdFx0XHR9O1xuXG5cdFx0XHQvKipcblx0XHQgKiBTdGFydCB0cmFjaW5nLlxuXHRcdCAqXG5cdFx0ICogQG5hbWUgUGFoby5DbGllbnQjc3RhcnRUcmFjZVxuXHRcdCAqIEBmdW5jdGlvblxuXHRcdCAqL1xuXHRcdFx0dGhpcy5zdGFydFRyYWNlID0gZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRjbGllbnQuc3RhcnRUcmFjZSgpO1xuXHRcdFx0fTtcblxuXHRcdFx0LyoqXG5cdFx0ICogU3RvcCB0cmFjaW5nLlxuXHRcdCAqXG5cdFx0ICogQG5hbWUgUGFoby5DbGllbnQjc3RvcFRyYWNlXG5cdFx0ICogQGZ1bmN0aW9uXG5cdFx0ICovXG5cdFx0XHR0aGlzLnN0b3BUcmFjZSA9IGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0Y2xpZW50LnN0b3BUcmFjZSgpO1xuXHRcdFx0fTtcblxuXHRcdFx0dGhpcy5pc0Nvbm5lY3RlZCA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRyZXR1cm4gY2xpZW50LmNvbm5lY3RlZDtcblx0XHRcdH07XG5cdFx0fTtcblxuXHRcdC8qKlxuXHQgKiBBbiBhcHBsaWNhdGlvbiBtZXNzYWdlLCBzZW50IG9yIHJlY2VpdmVkLlxuXHQgKiA8cD5cblx0ICogQWxsIGF0dHJpYnV0ZXMgbWF5IGJlIG51bGwsIHdoaWNoIGltcGxpZXMgdGhlIGRlZmF1bHQgdmFsdWVzLlxuXHQgKlxuXHQgKiBAbmFtZSBQYWhvLk1lc3NhZ2Vcblx0ICogQGNvbnN0cnVjdG9yXG5cdCAqIEBwYXJhbSB7U3RyaW5nfEFycmF5QnVmZmVyfSBwYXlsb2FkIFRoZSBtZXNzYWdlIGRhdGEgdG8gYmUgc2VudC5cblx0ICogPHA+XG5cdCAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBwYXlsb2FkU3RyaW5nIDxpPnJlYWQgb25seTwvaT4gVGhlIHBheWxvYWQgYXMgYSBzdHJpbmcgaWYgdGhlIHBheWxvYWQgY29uc2lzdHMgb2YgdmFsaWQgVVRGLTggY2hhcmFjdGVycy5cblx0ICogQHByb3BlcnR5IHtBcnJheUJ1ZmZlcn0gcGF5bG9hZEJ5dGVzIDxpPnJlYWQgb25seTwvaT4gVGhlIHBheWxvYWQgYXMgYW4gQXJyYXlCdWZmZXIuXG5cdCAqIDxwPlxuXHQgKiBAcHJvcGVydHkge3N0cmluZ30gZGVzdGluYXRpb25OYW1lIDxiPm1hbmRhdG9yeTwvYj4gVGhlIG5hbWUgb2YgdGhlIGRlc3RpbmF0aW9uIHRvIHdoaWNoIHRoZSBtZXNzYWdlIGlzIHRvIGJlIHNlbnRcblx0ICogICAgICAgICAgICAgICAgICAgIChmb3IgbWVzc2FnZXMgYWJvdXQgdG8gYmUgc2VudCkgb3IgdGhlIG5hbWUgb2YgdGhlIGRlc3RpbmF0aW9uIGZyb20gd2hpY2ggdGhlIG1lc3NhZ2UgaGFzIGJlZW4gcmVjZWl2ZWQuXG5cdCAqICAgICAgICAgICAgICAgICAgICAoZm9yIG1lc3NhZ2VzIHJlY2VpdmVkIGJ5IHRoZSBvbk1lc3NhZ2UgZnVuY3Rpb24pLlxuXHQgKiA8cD5cblx0ICogQHByb3BlcnR5IHtudW1iZXJ9IHFvcyBUaGUgUXVhbGl0eSBvZiBTZXJ2aWNlIHVzZWQgdG8gZGVsaXZlciB0aGUgbWVzc2FnZS5cblx0ICogPGRsPlxuXHQgKiAgICAgPGR0PjAgQmVzdCBlZmZvcnQgKGRlZmF1bHQpLlxuXHQgKiAgICAgPGR0PjEgQXQgbGVhc3Qgb25jZS5cblx0ICogICAgIDxkdD4yIEV4YWN0bHkgb25jZS5cblx0ICogPC9kbD5cblx0ICogPHA+XG5cdCAqIEBwcm9wZXJ0eSB7Qm9vbGVhbn0gcmV0YWluZWQgSWYgdHJ1ZSwgdGhlIG1lc3NhZ2UgaXMgdG8gYmUgcmV0YWluZWQgYnkgdGhlIHNlcnZlciBhbmQgZGVsaXZlcmVkXG5cdCAqICAgICAgICAgICAgICAgICAgICAgdG8gYm90aCBjdXJyZW50IGFuZCBmdXR1cmUgc3Vic2NyaXB0aW9ucy5cblx0ICogICAgICAgICAgICAgICAgICAgICBJZiBmYWxzZSB0aGUgc2VydmVyIG9ubHkgZGVsaXZlcnMgdGhlIG1lc3NhZ2UgdG8gY3VycmVudCBzdWJzY3JpYmVycywgdGhpcyBpcyB0aGUgZGVmYXVsdCBmb3IgbmV3IE1lc3NhZ2VzLlxuXHQgKiAgICAgICAgICAgICAgICAgICAgIEEgcmVjZWl2ZWQgbWVzc2FnZSBoYXMgdGhlIHJldGFpbmVkIGJvb2xlYW4gc2V0IHRvIHRydWUgaWYgdGhlIG1lc3NhZ2Ugd2FzIHB1Ymxpc2hlZFxuXHQgKiAgICAgICAgICAgICAgICAgICAgIHdpdGggdGhlIHJldGFpbmVkIGJvb2xlYW4gc2V0IHRvIHRydWVcblx0ICogICAgICAgICAgICAgICAgICAgICBhbmQgdGhlIHN1YnNjcnB0aW9uIHdhcyBtYWRlIGFmdGVyIHRoZSBtZXNzYWdlIGhhcyBiZWVuIHB1Ymxpc2hlZC5cblx0ICogPHA+XG5cdCAqIEBwcm9wZXJ0eSB7Qm9vbGVhbn0gZHVwbGljYXRlIDxpPnJlYWQgb25seTwvaT4gSWYgdHJ1ZSwgdGhpcyBtZXNzYWdlIG1pZ2h0IGJlIGEgZHVwbGljYXRlIG9mIG9uZSB3aGljaCBoYXMgYWxyZWFkeSBiZWVuIHJlY2VpdmVkLlxuXHQgKiAgICAgICAgICAgICAgICAgICAgIFRoaXMgaXMgb25seSBzZXQgb24gbWVzc2FnZXMgcmVjZWl2ZWQgZnJvbSB0aGUgc2VydmVyLlxuXHQgKlxuXHQgKi9cblx0XHR2YXIgTWVzc2FnZSA9IGZ1bmN0aW9uIChuZXdQYXlsb2FkKSB7XG5cdFx0XHR2YXIgcGF5bG9hZDtcblx0XHRcdGlmICggICB0eXBlb2YgbmV3UGF5bG9hZCA9PT0gXCJzdHJpbmdcIiB8fFxuXHRcdG5ld1BheWxvYWQgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlciB8fFxuXHRcdChBcnJheUJ1ZmZlci5pc1ZpZXcobmV3UGF5bG9hZCkgJiYgIShuZXdQYXlsb2FkIGluc3RhbmNlb2YgRGF0YVZpZXcpKVxuXHRcdFx0KSB7XG5cdFx0XHRcdHBheWxvYWQgPSBuZXdQYXlsb2FkO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0dGhyb3cgKGZvcm1hdChFUlJPUi5JTlZBTElEX0FSR1VNRU5ULCBbbmV3UGF5bG9hZCwgXCJuZXdQYXlsb2FkXCJdKSk7XG5cdFx0XHR9XG5cblx0XHRcdHZhciBkZXN0aW5hdGlvbk5hbWU7XG5cdFx0XHR2YXIgcW9zID0gMDtcblx0XHRcdHZhciByZXRhaW5lZCA9IGZhbHNlO1xuXHRcdFx0dmFyIGR1cGxpY2F0ZSA9IGZhbHNlO1xuXG5cdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0aGlzLHtcblx0XHRcdFx0XCJwYXlsb2FkU3RyaW5nXCI6e1xuXHRcdFx0XHRcdGVudW1lcmFibGUgOiB0cnVlLFxuXHRcdFx0XHRcdGdldCA6IGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0XHRcdGlmICh0eXBlb2YgcGF5bG9hZCA9PT0gXCJzdHJpbmdcIilcblx0XHRcdFx0XHRcdFx0cmV0dXJuIHBheWxvYWQ7XG5cdFx0XHRcdFx0XHRlbHNlXG5cdFx0XHRcdFx0XHRcdHJldHVybiBwYXJzZVVURjgocGF5bG9hZCwgMCwgcGF5bG9hZC5sZW5ndGgpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSxcblx0XHRcdFx0XCJwYXlsb2FkQnl0ZXNcIjp7XG5cdFx0XHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcblx0XHRcdFx0XHRnZXQ6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0aWYgKHR5cGVvZiBwYXlsb2FkID09PSBcInN0cmluZ1wiKSB7XG5cdFx0XHRcdFx0XHRcdHZhciBidWZmZXIgPSBuZXcgQXJyYXlCdWZmZXIoVVRGOExlbmd0aChwYXlsb2FkKSk7XG5cdFx0XHRcdFx0XHRcdHZhciBieXRlU3RyZWFtID0gbmV3IFVpbnQ4QXJyYXkoYnVmZmVyKTtcblx0XHRcdFx0XHRcdFx0c3RyaW5nVG9VVEY4KHBheWxvYWQsIGJ5dGVTdHJlYW0sIDApO1xuXG5cdFx0XHRcdFx0XHRcdHJldHVybiBieXRlU3RyZWFtO1xuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0cmV0dXJuIHBheWxvYWQ7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9LFxuXHRcdFx0XHRcImRlc3RpbmF0aW9uTmFtZVwiOntcblx0XHRcdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxuXHRcdFx0XHRcdGdldDogZnVuY3Rpb24oKSB7IHJldHVybiBkZXN0aW5hdGlvbk5hbWU7IH0sXG5cdFx0XHRcdFx0c2V0OiBmdW5jdGlvbihuZXdEZXN0aW5hdGlvbk5hbWUpIHtcblx0XHRcdFx0XHRcdGlmICh0eXBlb2YgbmV3RGVzdGluYXRpb25OYW1lID09PSBcInN0cmluZ1wiKVxuXHRcdFx0XHRcdFx0XHRkZXN0aW5hdGlvbk5hbWUgPSBuZXdEZXN0aW5hdGlvbk5hbWU7XG5cdFx0XHRcdFx0XHRlbHNlXG5cdFx0XHRcdFx0XHRcdHRocm93IG5ldyBFcnJvcihmb3JtYXQoRVJST1IuSU5WQUxJRF9BUkdVTUVOVCwgW25ld0Rlc3RpbmF0aW9uTmFtZSwgXCJuZXdEZXN0aW5hdGlvbk5hbWVcIl0pKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0sXG5cdFx0XHRcdFwicW9zXCI6e1xuXHRcdFx0XHRcdGVudW1lcmFibGU6IHRydWUsXG5cdFx0XHRcdFx0Z2V0OiBmdW5jdGlvbigpIHsgcmV0dXJuIHFvczsgfSxcblx0XHRcdFx0XHRzZXQ6IGZ1bmN0aW9uKG5ld1Fvcykge1xuXHRcdFx0XHRcdFx0aWYgKG5ld1FvcyA9PT0gMCB8fCBuZXdRb3MgPT09IDEgfHwgbmV3UW9zID09PSAyIClcblx0XHRcdFx0XHRcdFx0cW9zID0gbmV3UW9zO1xuXHRcdFx0XHRcdFx0ZWxzZVxuXHRcdFx0XHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGFyZ3VtZW50OlwiK25ld1Fvcyk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9LFxuXHRcdFx0XHRcInJldGFpbmVkXCI6e1xuXHRcdFx0XHRcdGVudW1lcmFibGU6IHRydWUsXG5cdFx0XHRcdFx0Z2V0OiBmdW5jdGlvbigpIHsgcmV0dXJuIHJldGFpbmVkOyB9LFxuXHRcdFx0XHRcdHNldDogZnVuY3Rpb24obmV3UmV0YWluZWQpIHtcblx0XHRcdFx0XHRcdGlmICh0eXBlb2YgbmV3UmV0YWluZWQgPT09IFwiYm9vbGVhblwiKVxuXHRcdFx0XHRcdFx0XHRyZXRhaW5lZCA9IG5ld1JldGFpbmVkO1xuXHRcdFx0XHRcdFx0ZWxzZVxuXHRcdFx0XHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoZm9ybWF0KEVSUk9SLklOVkFMSURfQVJHVU1FTlQsIFtuZXdSZXRhaW5lZCwgXCJuZXdSZXRhaW5lZFwiXSkpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSxcblx0XHRcdFx0XCJ0b3BpY1wiOntcblx0XHRcdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxuXHRcdFx0XHRcdGdldDogZnVuY3Rpb24oKSB7IHJldHVybiBkZXN0aW5hdGlvbk5hbWU7IH0sXG5cdFx0XHRcdFx0c2V0OiBmdW5jdGlvbihuZXdUb3BpYykge2Rlc3RpbmF0aW9uTmFtZT1uZXdUb3BpYzt9XG5cdFx0XHRcdH0sXG5cdFx0XHRcdFwiZHVwbGljYXRlXCI6e1xuXHRcdFx0XHRcdGVudW1lcmFibGU6IHRydWUsXG5cdFx0XHRcdFx0Z2V0OiBmdW5jdGlvbigpIHsgcmV0dXJuIGR1cGxpY2F0ZTsgfSxcblx0XHRcdFx0XHRzZXQ6IGZ1bmN0aW9uKG5ld0R1cGxpY2F0ZSkge2R1cGxpY2F0ZT1uZXdEdXBsaWNhdGU7fVxuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHR9O1xuXG5cdFx0Ly8gTW9kdWxlIGNvbnRlbnRzLlxuXHRcdHJldHVybiB7XG5cdFx0XHRDbGllbnQ6IENsaWVudCxcblx0XHRcdE1lc3NhZ2U6IE1lc3NhZ2Vcblx0XHR9O1xuXHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tbmVzdGVkLXRlcm5hcnlcblx0fSkodHlwZW9mIGdsb2JhbCAhPT0gXCJ1bmRlZmluZWRcIiA/IGdsb2JhbCA6IHR5cGVvZiBzZWxmICE9PSBcInVuZGVmaW5lZFwiID8gc2VsZiA6IHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgPyB3aW5kb3cgOiB7fSk7XG5cdHJldHVybiBQYWhvTVFUVDtcbn0pO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==